import{r as o,A as g,j as e,L as w,a0 as v,a1 as y,B as x,Q as i,g as b}from"./index-007Z5DPj.js";const C=({tour:a})=>{const{token:d}=o.useContext(g),{title:r,city:c,address:t,price:s,maxGroupSize:h,desc:D,featured:p,reviews:m,updatedAt:A,photo:j,_id:u}=a,f=()=>{window.confirm("Are you sure you want to delete this Tour Permanently?")&&N()},N=async()=>{try{const l=await fetch(`${x}/tours/${u}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`}}),{message:n}=await l.json();l.ok?(alert(n),window.location.reload()):i.error(n)}catch{i.error("Server not responding")}};return e.jsx(e.Fragment,{children:e.jsx("tbody",{className:"rounded overflow-hidden py-8 px-3 bg-gray-100 shadow-lg ",children:e.jsxs("tr",{className:"w-full text-center overflow-hidden px-4",children:[e.jsxs("td",{className:"py-2 object-cover overflow-hidden px-2",children:[e.jsx("img",{src:j,alt:"",className:"object-cover h-[65px] w-[95px] rounded-xl py-2 px-2"})," "]}),e.jsx("td",{className:"tableData text-start",children:r}),e.jsx("td",{className:"tdFont",children:c}),e.jsx("td",{className:"tdFont",children:p==="true"?"Yes":"No"}),e.jsx("td",{className:"tdFont",children:h}),e.jsx("td",{className:"tdFont",children:m.length}),e.jsxs("td",{className:"flex gap-2 w-full my-6",children:[e.jsx(w,{to:`/update-tour/${a._id}`,className:"text-red-500 hover:scale-125 hover:rotate-12 duration-200 hover:text-red-900",children:e.jsx(v,{size:25})}),"/",e.jsx("button",{onClick:f,className:"text-red-500 hover:scale-125 hover:rotate-12 duration-200 hover:text-red-900",children:e.jsx(y,{size:25})})]})]})})})},F=()=>{const[a,d]=o.useState(0),[r,c]=o.useState(0),{apiData:t}=b(`${x}/tours?page=${r}`);return o.useEffect(()=>{t&&t.totalPages&&d(t.totalPages)},[t]),e.jsxs("div",{className:"py-8 px-2 md:px-5 lg:px-8 w-full",children:[e.jsx("div",{className:"flex flex-col gap-5 overflow-x-scroll",children:e.jsxs("table",{className:"table-auto gap-4 border-collapse border w-[120%] md:w-full",children:[e.jsx("thead",{className:"w-full py-2",children:e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{className:"tableData text-start",children:"Title"}),e.jsx("th",{className:"tableData",children:"City"}),e.jsx("th",{className:"tableData",children:"Featured"}),e.jsx("th",{className:"tableData",children:"maxPeople"}),e.jsx("th",{className:"tableData",children:"Reviews"})]})}),t==null?void 0:t.map(s=>e.jsx(C,{tour:s},s._id))]})}),e.jsx("div",{className:"flex pagination items-center justify-center mt-8 gap-3",children:a&&[...Array(a).keys()].map(s=>e.jsx("span",{onClick:()=>c(s),className:r===s?"active_page":"spn",children:s+1},s))})]})};export{F as default};
