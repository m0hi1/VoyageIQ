import{j as e,B as r,Q as l,g as f}from"./index-007Z5DPj.js";const g=({booking:s})=>{const{tourName:a,fullName:c,userId:o,phone:d,totalPrice:n,maxGroupSize:i,date:h,createdAt:m,_id:x}=s,j=new Date(m).toDateString(),N=new Date(h).toDateString(),b=async()=>{window.confirm("Is this booking completed?")&&u()},u=async()=>{try{const t=await fetch(`${r}/booking/${x}`,{method:"DELETE"}),{message:p}=await t.json();t.ok?location.reload():l.error(p)}catch{l.error("Server not responding")}};return e.jsx(e.Fragment,{children:e.jsx("tbody",{className:"rounded overflow-hidden py-8 px-3 border-b-gray-500 border-b-[1px]   ",children:e.jsxs("tr",{className:"w-full text-center overflow-hidden",children:[e.jsx("td",{className:"",children:a}),e.jsx("td",{className:"",children:c}),e.jsx("td",{className:"",children:o}),e.jsx("td",{className:"",children:i}),e.jsx("td",{className:"",children:d}),e.jsx("td",{className:"",children:N}),e.jsx("td",{className:"",children:j}),e.jsxs("td",{className:"",children:["â‚¹",n]}),e.jsx("td",{children:e.jsx("button",{onClick:b,className:"Redbtn my-2 mx-2 ",children:"Completed"})})]})})})},y=()=>{const{apiData:s}=f(`${r}/booking`);return e.jsx("div",{className:"py-8 px-8 w-full",children:e.jsx("div",{className:"flex flex-col gap-5  overflow-x-scroll ",children:e.jsxs("table",{className:" table-auto gap-4 text-xs md:text-sm border-collapse w-[120%]  border-gray-400 lg:w-full border",children:[e.jsx("thead",{className:"w-full bg-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"tableData",children:"TourName"}),e.jsx("th",{className:"tableData",children:"UserName"}),e.jsx("th",{className:"tableData",children:"User ID"}),e.jsx("th",{className:"tableData",children:"Persons"}),e.jsx("th",{className:"tableData",children:"Phone"}),e.jsx("th",{className:"tableData",children:"Booked for"}),e.jsx("th",{className:"tableData",children:"Booked on"}),e.jsx("th",{className:"tableData",children:"Price"}),e.jsx("th",{className:"tableData",children:"Status"})]})}),s==null?void 0:s.map(a=>e.jsx(g,{booking:a},a._id))]})})})};export{y as default};
