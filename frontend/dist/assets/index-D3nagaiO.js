import{C as u,j as e,w as D,D as M,L as w,E as T,H as C,M as f,e as $,r as o,A as z,a as I,x as b,B as L}from"./index-007Z5DPj.js";/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],E=u("calendar-days",A);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],P=u("circle-dollar-sign",H);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_=u("users",B);function g({icon:s,label:t,value:r}){return e.jsxs("div",{className:"group flex items-center gap-3 p-4 bg-slate-50 hover:bg-slate-100 rounded-lg border border-slate-200 transition-all duration-300 ease-in-out hover:shadow-lg hover:-translate-y-1",children:[e.jsx("div",{className:"flex-shrink-0 p-3 bg-white rounded-full shadow-sm transition-colors duration-300 group-hover:bg-slate-200",children:s}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500",children:r}),e.jsx("p",{className:"text-md sm:text-lg font-semibold text-slate-700 group-hover:text-slate-800 transition-colors duration-300",children:t})]})]})}function R({trip:s}){if(!s)return e.jsxs("div",{className:"p-4 sm:p-6 bg-white rounded-xl shadow-lg animate-pulse",children:[e.jsx("div",{className:"h-[300px] sm:h-[340px] bg-slate-200 rounded-xl mb-6"}),e.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsx("div",{className:"h-10 bg-slate-200 rounded w-3/4 sm:w-1/2"})," ",e.jsx("div",{className:"h-12 bg-slate-200 rounded-lg w-32 sm:w-28"})," "]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx("div",{className:"h-20 bg-slate-200 rounded-lg"}),e.jsx("div",{className:"h-20 bg-slate-200 rounded-lg"}),e.jsx("div",{className:"h-20 bg-slate-200 rounded-lg"})]})]});const t=s==null?void 0:s.userSelection,r=(t==null?void 0:t.location)||(s==null?void 0:s.location),a=(t==null?void 0:t.noOfDays)||(s==null?void 0:s.noOfDays),i=(t==null?void 0:t.budget)||(s==null?void 0:s.budget),l=(t==null?void 0:t.noOfTravellers)||(s==null?void 0:s.noOfTravellers);return e.jsxs("div",{className:"p-4 sm:p-6 bg-white rounded-xl shadow-lg hover:shadow-2xl transition-shadow duration-300 ease-in-out",children:[e.jsx("div",{className:"relative mb-6",children:e.jsx("img",{className:"h-[300px] sm:h-[340px] w-full object-cover rounded-xl border border-slate-200",src:(t==null?void 0:t.photoUrl)||"/info_placeholder.jpg",alt:`Image of ${r||"the destination"}`})}),e.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-slate-800 break-words",children:r||"Your Amazing Trip"}),e.jsxs(D,{variant:"outline",size:"lg",className:"flex items-center gap-2 group shrink-0 text-primary border-primary hover:bg-primary hover:text-white transition-colors duration-300 ease-in-out",onClick:()=>console.log("Share action triggered"),children:[e.jsx(M,{className:"h-5 w-5 transition-transform duration-200 ease-in-out group-hover:scale-110"}),e.jsx("span",{className:"font-semibold",children:"Share"})]})]}),"      ",e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx(g,{icon:e.jsx(E,{className:"h-6 w-6 text-blue-600"}),label:`${a||"N/A"} Days`,value:"Duration"}),e.jsx(g,{icon:e.jsx(P,{className:"h-6 w-6 text-green-600"}),label:`${i||"N/A"} Budget`,value:"Est. Cost"}),e.jsx(g,{icon:e.jsx(_,{className:"h-6 w-6 text-purple-600"}),label:`${l||"N/A"} Traveler(s)`,value:"Group Size"})]})]})}function V({trip:s}){const r=(s.tripData||{}).hotels||[];return!r||r.length===0?e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mt-8 mb-6 text-gray-800",children:"Hotel Recommendations"}),e.jsx("div",{className:"my-8 p-6 bg-blue-50 border border-blue-200 rounded-lg flex items-center justify-center shadow-sm",children:e.jsx("p",{className:"text-blue-700 text-lg",children:"No hotel recommendations available."})})]}):e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mt-8 mb-6 text-gray-800",children:"Hotel Recommendations"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map((a,i)=>e.jsxs(w,{to:`https://www.google.com/maps/search/?api=1&query=${a==null?void 0:a.hotelName},${a==null?void 0:a.address}`,target:"_blank",className:"block rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-shadow duration-300 ease-in-out bg-white",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:"/trip-placeholder.webp",alt:(a==null?void 0:a.hotelName)||"Hotel Image",className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white px-2 py-1 rounded-md text-xs",children:["⭐ ",a==null?void 0:a.rating]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1 truncate",title:a==null?void 0:a.hotelName,children:a==null?void 0:a.hotelName}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[e.jsx(T,{className:"mr-2 text-blue-500"}),e.jsx("span",{className:"truncate",title:a==null?void 0:a.address,children:a==null?void 0:a.address})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(C,{className:"mr-2 text-green-500"}),e.jsx("span",{children:a==null?void 0:a.priceRange})]})]})]},i))})]})}const S=({className:s="w-5 h-5 inline-block mr-1.5 text-indigo-600 align-middle"})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:s,children:e.jsx("path",{fillRule:"evenodd",d:"M9.69 18.933l.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001zm.612-1.426a5.873 5.873 0 006.177-5.195 5.873 5.873 0 00-11.745 0 5.873 5.873 0 005.568 5.195zM10 16.5a6.5 6.5 0 100-13 6.5 6.5 0 000 13zM10 4a3 3 0 100 6 3 3 0 000-6z",clipRule:"evenodd"})}),O=({className:s="w-5 h-5 inline-block mr-1.5 text-gray-500 align-middle"})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:s,children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.75-13a.75.75 0 00-1.5 0v5c0 .414.336.75.75.75h4a.75.75 0 000-1.5h-3.25V5z",clipRule:"evenodd"})});function U({place:s}){const t=s==null?void 0:s.timeToTravelFromPreviousPlaceMin,r=t&&t>0?`${t} Minute${t===1?"":"s"}`:null;return e.jsx(w,{to:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent((s==null?void 0:s.placeName)||"")}`,target:"_blank",rel:"noopener noreferrer",className:"block",children:e.jsxs("div",{className:"border rounded-xl p-4 mt-2 flex gap-4 hover:shadow-lg hover:scale-[1.02] hover:bg-gray-50 transition-all duration-200 ease-in-out cursor-pointer",children:[e.jsx("img",{src:(s==null?void 0:s.imageUrl)||"/info_placeholder.jpg",alt:`Image of ${(s==null?void 0:s.placeName)||"the location"}`,className:"h-32 w-32 rounded-lg object-cover flex-shrink-0"}),e.jsxs("div",{className:"flex flex-col justify-center",children:[" ",e.jsxs("h5",{className:"font-semibold text-lg text-gray-800 flex items-center",children:[e.jsx(S,{}),(s==null?void 0:s.placeName)||"Unnamed Place"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:(s==null?void 0:s.placeDetails)||"No details available."}),r&&e.jsxs("h6",{className:"mt-2 text-sm font-medium text-gray-700 flex items-center",children:[e.jsx(O,{}),"Travel Time: ",r]})]})]})})}function q({trip:s}){const t=s.tripData||{};return!t||!t.days||t.days.length===0?e.jsxs("div",{children:[e.jsxs("h2",{className:"font-bold text-3xl sm:text-4xl text-center mb-8 mt-8 md:mb-12 text-blue-700 tracking-tight",children:[e.jsx(f,{className:"inline-block mr-2 sm:mr-3 mb-1 h-7 w-7 sm:h-8 sm:w-8"}),"Places to Visit"]}),e.jsx("div",{className:"my-8 p-6 bg-blue-50 border border-blue-200 rounded-lg flex items-center justify-center shadow-sm",children:e.jsx("p",{className:"text-blue-700 text-lg",children:"No itinerary details available for this trip."})})]}):e.jsxs("div",{children:[e.jsxs("h2",{className:"font-bold text-3xl sm:text-4xl text-center mb-8 mt-8 md:mb-12 text-blue-700 tracking-tight",children:[e.jsx(f,{className:"inline-block mr-2 sm:mr-3 mb-1 h-7 w-7 sm:h-8 sm:w-8"}),"Places to Visit"]}),e.jsx("div",{children:t.days.map((r,a)=>e.jsxs("div",{className:"mt-5",children:[e.jsxs("h2",{className:"font-medium text-lg",children:["Day ",r.day]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 ",children:r.places.map((i,l)=>e.jsxs("div",{children:[e.jsx("h2",{className:"font-medium text-sm text-orange-600",children:i.bestTimeToVisit}),e.jsx(U,{place:i})]},l))})]},a))})]})}const F=()=>e.jsxs("div",{className:"flex flex-col justify-center items-center min-h-[calc(100vh-200px)]",children:[e.jsxs("svg",{className:"animate-spin h-10 w-10 text-blue-600 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("p",{className:"text-lg text-gray-700",children:"Loading trip details..."})]}),W=({message:s})=>e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-200px)] p-6 sm:p-10 text-center",children:[e.jsx("div",{className:"bg-red-100 p-5 rounded-full mb-6 shadow-md",children:e.jsx("svg",{className:"w-12 h-12 sm:w-16 sm:h-16 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-red-700 mb-3",children:"Oops! Something went wrong."}),e.jsx("p",{className:"text-gray-600 max-w-md",children:s})]}),G=()=>e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-200px)] p-6 sm:p-10 text-center",children:[e.jsx("div",{className:"bg-gray-100 p-5 rounded-full mb-6 shadow-md",children:e.jsx("svg",{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-700 mb-3",children:"No Trip Data Found"}),"    ",e.jsx("p",{className:"text-gray-600 max-w-md",children:"We couldn't find any details for this trip. It might be new or information is still being planned."})]});function Y(){const{tripId:s}=$(),[t,r]=o.useState(null),[a,i]=o.useState(!0),[l,d]=o.useState(null),[N,c]=o.useState(!1),{user:p,token:x}=o.useContext(z),j=I();if(o.useEffect(()=>{if(!p||!x){b.error("Please log in to view trip details"),j("/login");return}if(!s){d("No trip ID provided."),i(!1),r(null),c(!1);return}(async()=>{i(!0),d(null),r(null),c(!1);try{const n=await fetch(`${L}/trips/${s}`,{method:"GET",headers:{Authorization:`Bearer ${x}`,"Content-Type":"application/json"}});if(!n.ok){const k=await n.json();throw new Error(k.message||`Server error: ${n.status}`)}const h=await n.json();h.success&&h.data?r(h.data):d("Trip not found. It might have been deleted or the ID is incorrect.")}catch(n){console.error("Error fetching trip data:",n),d(n.message||"An unexpected error occurred while fetching trip details."),b.error("Failed to load trip details. Please try again later.")}finally{i(!1)}})()},[s,p,x,j]),o.useEffect(()=>{if(!a&&!l&&t){const v=setTimeout(()=>c(!0),50);return()=>clearTimeout(v)}else c(!1)},[a,l,t]),a)return e.jsx(F,{});if(l)return e.jsx(W,{message:l});if(!t)return e.jsx(G,{});const y=t.tripData||{},m=typeof t.tripData=="string"?JSON.parse(t.tripData):y;return e.jsxs("div",{className:`p-6 md:px-12 lg:px-24 xl:px-32 transition-opacity duration-700 ease-in-out ${N?"opacity-100":"opacity-0"}`,children:["      ",e.jsx(R,{trip:t}),m.hotels&&m.hotels.length>0?e.jsx(V,{trip:{...t,tripData:m}}):e.jsxs("div",{className:"my-8 p-4 sm:p-6 bg-sky-50 border border-sky-200 rounded-lg flex items-start space-x-3 sm:space-x-4 shadow-sm",children:[e.jsx("div",{className:"flex-shrink-0 pt-1",children:e.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7 text-sky-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-md sm:text-lg font-semibold text-sky-800",children:"Hotel Information"}),e.jsx("p",{className:"text-sm sm:text-base text-sky-700 mt-1",children:"No hotel details are currently listed for this trip."})]})]}),e.jsx(q,{trip:{...t,tripData:m}})]})}export{Y as default};
