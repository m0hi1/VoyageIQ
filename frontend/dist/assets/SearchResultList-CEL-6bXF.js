import{u as f,a as p,r as d,j as t,$ as y,S as b,T as j}from"./index-007Z5DPj.js";const N=({className:o})=>t.jsx("svg",{className:o,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),v=y.memo(j),k=()=>{const o=f(),m=p(),s=o.state;let u;Array.isArray(s)?u=s:typeof s=="object"&&s!==null&&Array.isArray(s.data)?u=s.data:u=[];const[r,n]=d.useState(u),[a,i]=d.useState(null),[c,l]=d.useState(()=>typeof s=="object"&&s!==null&&s.message?s.message:null);d.useEffect(()=>{try{const e=o.state;e==null?(l("No search results found. Please try a new search."),n([]),i(null)):Array.isArray(e)?(n(e),i(null),l(e.length===0?"No tours found matching your criteria.":null)):typeof e=="object"&&e!==null?(n(Array.isArray(e.data)?e.data:[]),i(e.error||null),l(e.message||null),!e.error&&!e.message&&(!Array.isArray(e.data)||e.data.length===0)&&l("No tours found matching your criteria.")):(i("Invalid search result format. Please try again."),n([]),l(null))}catch(e){console.error("Error processing location state:",e),i("Failed to process search results. Please try refreshing the page."),n([]),l(null)}},[o.state]);const h=()=>{n([]),i(null),l(null),m(o.pathname,{replace:!0,state:null})},g=()=>{m("/tours")},x=d.useMemo(()=>a||!r||r.length===0?null:r.map(e=>e&&e._id?t.jsx("div",{className:"transform transition-all duration-300 ease-in-out hover:scale-105 hover:shadow-lg rounded-lg overflow-hidden",children:t.jsx(v,{tour:e})},e._id):null),[r,a]);return t.jsx("div",{className:"bg-gradient-to-br from-slate-100 to-sky-100 min-h-screen",children:t.jsxs("section",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:[t.jsx("div",{className:"mb-8 md:mb-12 p-6 bg-white shadow-xl rounded-lg",children:t.jsx(b,{})}),t.jsxs("div",{className:"flex justify-between items-center mb-8 md:mb-10",children:[t.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-slate-800 tracking-tight",children:"Search Results"}),(r.length>0||a||c)&&t.jsx("button",{onClick:h,className:"px-4 py-2 bg-red-500 text-white text-sm font-medium rounded-md hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 transition ease-in-out duration-150",children:"Clear Results"})]}),a&&t.jsxs("div",{className:"col-span-full bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded-md shadow",role:"alert",children:[t.jsx("p",{className:"font-bold",children:"Oops! Something went wrong."}),t.jsx("p",{children:typeof a=="string"?a:"An unexpected error occurred."})]}),!a&&c&&(!r||r.length===0)&&t.jsxs("div",{className:"col-span-full text-center py-10 px-4",children:[t.jsx(N,{className:"w-16 h-16 text-gray-400 dark:text-gray-500 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200 mb-2",children:c.includes("No search results")||c.includes("No tours found")?"No Results":"Information"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:c.includes("We couldn&apos;t find any tours")?"We couldn't find any tours matching your search. Try different keywords or check out all our available trips.":c}),t.jsx("button",{onClick:g,className:"mt-6 px-6 py-2 bg-BaseColor text-white rounded-md hover:bg-opacity-85 transition-colors",children:"View All Tours"})]}),!a&&r&&r.length>0&&t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 lg:gap-8",children:x})]})})};export{k as default};
