import{r as n,A as N,j as e,B as u,Q as i,e as v,g as G}from"./index-007Z5DPj.js";const w=({tour:s,id:d})=>{const{token:x}=n.useContext(N),[c,E]=n.useState(!1),[t,m]=n.useState({title:"",city:"",desc:"",address:"",price:0,maxGroupSize:1,photo:"",distance:0,featured:!1});n.useEffect(()=>{if(s){const{title:l,city:o,desc:a,address:h,price:f,maxGroupSize:b,photo:j,distance:y,featured:g}=s||{};m(C=>({...C,title:l||"",city:o||"",desc:a||"",address:h||"",price:f||0,maxGroupSize:b||1,photo:j||"",distance:y||0,featured:g||!1}))}},[s]);const r=l=>{m({...t,[l.target.name]:l.target.value})},p=async l=>{l.preventDefault();try{const o=await fetch(`${u}/tours/${d}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`},body:JSON.stringify(t)}),{message:a}=await o.json();o.ok?i.success(a):i.error(a)}catch{i.error("Server not responding")}};return e.jsx("div",{className:"min-h-screen md:min-h-[400px] flex items-center justify-center bg-gray-100",children:e.jsx("div",{className:"bg-white mx-6 p-6 md:p-8 rounded-lg text-center shadow-md w-full max-w-2xl m-8 md:max-w-[90%] ",children:e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-2",children:"Update Tour"}),e.jsx("p",{className:"text-sm md:text-base text-GrayColor",children:"Create a new tour by filling the all fields."})]}),e.jsxs("form",{onSubmit:p,className:"space-y-2 md:space-y-3",children:[e.jsxs("div",{className:"md:grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"",className:"block  text-md md:text-lg font-medium text-GrayColor",children:"Title"}),e.jsx("input",{type:"text",name:"title",placeholder:"Enter Tour Name",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:border-GreenColor",value:t.title,onChange:r,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"",className:"block text-md md:text-lg font-medium text-GrayColor",children:"City"}),e.jsx("input",{type:"text",name:"city",placeholder:"Enter City Name",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:border-GreenColor",value:t.city,onChange:r,required:!0})]})]}),e.jsxs("div",{className:"md:grid grid-cols-3 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"",className:"block text-md md:text-lg font-medium text-GrayColor",children:"Price (₹)"}),e.jsx("input",{type:"number",name:"price",placeholder:"Enter Price in ₹",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:border-GreenColor",value:t.price,onChange:r,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"",className:"block text-md md:text-lg font-medium text-GrayColor",children:"Max Peoples"}),e.jsx("input",{type:"number",name:"maxGroupSize",placeholder:"Enter Max Peoples per Trip Tour",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:border-GreenColor",value:t.maxGroupSize,onChange:r,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"",className:"block text-md md:text-lg font-medium text-GrayColor",children:"Distance"}),e.jsx("input",{type:"number",name:"distance",placeholder:"Enter Total Distance",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:border-GreenColor",value:t.distance,onChange:r})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"",className:"block text-md md:text-lg font-medium text-GrayColor",children:"Address"}),e.jsx("input",{type:"text",name:"address",placeholder:"Enter Destination Address",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:border-GreenColor",value:t.address,onChange:r,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"",className:"block text-md md:text-lg font-medium text-GrayColor",children:"Description"}),e.jsx("input",{type:"text",name:"desc",placeholder:"Enter Description",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:border-GreenColor",value:t.desc,onChange:r})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"",className:"block text-md md:text-lg font-medium text-GrayColor",children:"Photo URL"}),e.jsx("input",{type:"text",name:"photo",placeholder:"Enter Picture URL",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:border-GreenColor",value:t.photo,onChange:r,required:!0})]}),e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("label",{htmlFor:"",className:"text-TextColor text-[15px] font-semibold leading-7 px-4",children:["Featured",e.jsxs("select",{name:"featured",value:t.featured,onChange:r,className:"text-TextColor text-[15px] leading-7 px-4 py-3 focus:outline-none",children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Yes"})]})]})}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"w-full Bluebtn my-3",disabled:c,children:c?"Updating...":"Update"})})]})]})})})},S=()=>{const{id:s}=v(),{apiData:d}=G(`${u}/tours/${s}`);return e.jsx("div",{className:"min-h-screen md:min-h-[400px] flex items-center justify-center bg-gray-100",children:e.jsx(w,{tour:d,id:s})})};export{S as default};
