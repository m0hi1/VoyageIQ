import{j as C,m as _e,G as He,r as v,R as fr,n as hr,o as $l,p as Ie,q as Kl,_ as fe,s as pr,t as Yl,X as Jl,v as zl,w as ue,x as B,y as Sn,z as Xl,a as Zl,A as Ql,B as ko}from"./index-007Z5DPj.js";function Uo({className:n,type:e,...t}){return C.jsx("input",{type:e,"data-slot":"input",className:_e("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}const jl=[{id:1,title:"Just Me",desc:"A solo traveler",icon:"âœˆï¸",people:"1"},{id:2,title:"A Couple",desc:"Two travelers in a relationship",icon:"ðŸ¥‚",people:"2"},{id:3,title:"Family",desc:"A group of family members",icon:"ðŸ ",people:"3 to 5 people"},{id:4,title:"Friends",desc:"Thrilling with friends",icon:"ðŸ‘«",people:"5 to 10 people"}],eu=[{id:1,title:"Budget",desc:"Stay concious with your budget",icon:"ðŸ«°",people:"1"},{id:2,title:"Mid-Range",desc:"Keep cost down with moderate budget",icon:"ðŸ’°",people:"2"},{id:3,title:"Luxury",desc:"Don't worry about cost",icon:"ðŸ’¸",people:"5 to 10 people"}];function tu({location:n,days:e,groupType:t,budgetLevel:o}){return`Generate a ${e}-day travel itinerary for a ${t} visiting ${n} on a ${o} budget.

Include:
- A list of 2â€“3 recommended hotels with: hotelName, address, priceRange, coordinates (latitude, longitude), rating (1â€“5), and a short description.
- A day-wise itinerary:
  - For each place include:
    - placeName
    - placeDetails (short description)
    - geoCoordinates (latitude, longitude)
    - ticketPriceINR
    - bestTimeToVisit (Morning | Afternoon | Evening)
    - timeToTravelFromPreviousPlaceMin
- Do not use placeholder values like "[data not found]" or "[choose a town]".
- Try to provide realistic values based on the actual place, or closely estimated values when real ones arenâ€™t available.

Return only valid JSON in the format:
{
   "location": "[location]",
  "days": [
    {
      "day": 1,
      "places": [
        {
          "placeName": "PLACE NAME",
          "placeDetails": "Brief description of the place",
          "coordinates": { "latitude": XX.XXXX, "longitude": YY.YYYY },
          "ticketPriceINR": XX,
          "bestTimeToVisit": "Morning | Afternoon | Evening",
          "timeToTravelFromPreviousPlaceMin": XX
        },
        ...
      ]
    },
    ...
  ]
}`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let nu,ou;function iu(){return{geminiUrl:nu,vertexUrl:ou}}function su(n,e,t){var o,i,s;if(!(!((o=n.httpOptions)===null||o===void 0)&&o.baseUrl)){const r=iu();return n.vertexai?(i=r.vertexUrl)!==null&&i!==void 0?i:e:(s=r.geminiUrl)!==null&&s!==void 0?s:t}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ct{}function R(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(o,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function u(n,e,t){for(let s=0;s<e.length-1;s++){const r=e[s];if(r.endsWith("[]")){const l=r.slice(0,-2);if(!(l in n))if(Array.isArray(t))n[l]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${r}`);if(Array.isArray(n[l])){const d=n[l];if(Array.isArray(t))for(let c=0;c<d.length;c++){const f=d[c];u(f,e.slice(s+1),t[c])}else for(const c of d)u(c,e.slice(s+1),t)}return}else if(r.endsWith("[0]")){const l=r.slice(0,-3);l in n||(n[l]=[{}]);const d=n[l];u(d[0],e.slice(s+1),t);return}(!n[r]||typeof n[r]!="object")&&(n[r]={}),n=n[r]}const o=e[e.length-1],i=n[o];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else n[o]=t}function a(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let t=0;t<e.length;t++){if(typeof n!="object"||n===null)return;const o=e[t];if(o.endsWith("[]")){const i=o.slice(0,-2);if(i in n){const s=n[i];return Array.isArray(s)?s.map(r=>a(r,e.slice(t+1))):void 0}else return}else n=n[o]}return n}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function k(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function mr(n,e){const t=k(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function gr(n,e){return Array.isArray(e)?e.map(t=>bt(n,t)):[bt(n,e)]}function bt(n,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function ru(n,e){const t=bt(n,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function au(n,e){const t=bt(n,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Bo(n,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function yr(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Bo(n,t)):[Bo(n,e)]}function An(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Go(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Oo(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function J(n,e){if(e==null)throw new Error("ContentUnion is required");return An(e)?e:{role:"user",parts:yr(n,e)}}function vr(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const o=J(n,t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const t=J(n,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>J(n,t)):[J(n,e)]}function ge(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Go(e)||Oo(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[J(n,e)]}const t=[],o=[],i=An(e[0]);for(const s of e){const r=An(s);if(r!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(r)t.push(s);else{if(Go(s)||Oo(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(s)}}return i||t.push({role:"user",parts:yr(n,o)}),t}function Tr(n,e){return e}function Cr(n,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Ht(n,e){return e}function Wt(n,e){if(!Array.isArray(e))throw new Error("tool is required and must be an array of Tools");return e}function lu(n,e,t,o=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:i?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function ye(n,e){if(typeof e!="string")throw new Error("name must be a string");return lu(n,e,"cachedContents")}function Er(n,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function ve(n,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function uu(n){return n!=null&&typeof n=="object"&&"name"in n}function cu(n){return n!=null&&typeof n=="object"&&"video"in n}function du(n){return n!=null&&typeof n=="object"&&"uri"in n}function xr(n,e){var t;let o;if(uu(e)&&(o=e.name),!(du(e)&&(o=e.uri,o===void 0))&&!(cu(e)&&(o=(t=e.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof e=="string"&&(o=e),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const s=o.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${o}`);o=s[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Sr(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function Ar(n,e){for(const t of["models","tunedModels","publisherModels"])if(fu(e,t))return e[t];return[]}function fu(n,e){return n!==null&&typeof n=="object"&&e in n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hu(n,e){const t={};if(a(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const o=a(e,["thought"]);o!=null&&u(t,["thought"],o);const i=a(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);const s=a(e,["executableCode"]);s!=null&&u(t,["executableCode"],s);const r=a(e,["fileData"]);r!=null&&u(t,["fileData"],r);const l=a(e,["functionCall"]);l!=null&&u(t,["functionCall"],l);const d=a(e,["functionResponse"]);d!=null&&u(t,["functionResponse"],d);const c=a(e,["inlineData"]);c!=null&&u(t,["inlineData"],c);const f=a(e,["text"]);return f!=null&&u(t,["text"],f),t}function qo(n,e){const t={},o=a(e,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>hu(n,r))),u(t,["parts"],s)}const i=a(e,["role"]);return i!=null&&u(t,["role"],i),t}function pu(){return{}}function mu(n,e){const t={},o=a(e,["mode"]);o!=null&&u(t,["mode"],o);const i=a(e,["dynamicThreshold"]);return i!=null&&u(t,["dynamicThreshold"],i),t}function gu(n,e){const t={},o=a(e,["dynamicRetrievalConfig"]);return o!=null&&u(t,["dynamicRetrievalConfig"],mu(n,o)),t}function yu(n,e){const t={};if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");a(e,["googleSearch"])!=null&&u(t,["googleSearch"],pu());const i=a(e,["googleSearchRetrieval"]);if(i!=null&&u(t,["googleSearchRetrieval"],gu(n,i)),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const s=a(e,["codeExecution"]);s!=null&&u(t,["codeExecution"],s);const r=a(e,["functionDeclarations"]);return r!=null&&u(t,["functionDeclarations"],r),t}function vu(n,e){const t={},o=a(e,["mode"]);o!=null&&u(t,["mode"],o);const i=a(e,["allowedFunctionNames"]);return i!=null&&u(t,["allowedFunctionNames"],i),t}function Tu(n,e){const t={},o=a(e,["functionCallingConfig"]);if(o!=null&&u(t,["functionCallingConfig"],vu(n,o)),a(e,["retrievalConfig"])!==void 0)throw new Error("retrievalConfig parameter is not supported in Gemini API.");return t}function Cu(n,e,t){const o={},i=a(e,["ttl"]);t!==void 0&&i!=null&&u(t,["ttl"],i);const s=a(e,["expireTime"]);t!==void 0&&s!=null&&u(t,["expireTime"],s);const r=a(e,["displayName"]);t!==void 0&&r!=null&&u(t,["displayName"],r);const l=a(e,["contents"]);if(t!==void 0&&l!=null){let h=ge(n,l);Array.isArray(h)&&(h=h.map(p=>qo(n,p))),u(t,["contents"],h)}const d=a(e,["systemInstruction"]);t!==void 0&&d!=null&&u(t,["systemInstruction"],qo(n,J(n,d)));const c=a(e,["tools"]);if(t!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>yu(n,p))),u(t,["tools"],h)}const f=a(e,["toolConfig"]);return t!==void 0&&f!=null&&u(t,["toolConfig"],Tu(n,f)),o}function Eu(n,e){const t={},o=a(e,["model"]);o!=null&&u(t,["model"],mr(n,o));const i=a(e,["config"]);return i!=null&&u(t,["config"],Cu(n,i,t)),t}function xu(n,e){const t={},o=a(e,["name"]);o!=null&&u(t,["_url","name"],ye(n,o));const i=a(e,["config"]);return i!=null&&u(t,["config"],i),t}function Su(n,e){const t={},o=a(e,["name"]);o!=null&&u(t,["_url","name"],ye(n,o));const i=a(e,["config"]);return i!=null&&u(t,["config"],i),t}function Au(n,e,t){const o={},i=a(e,["ttl"]);t!==void 0&&i!=null&&u(t,["ttl"],i);const s=a(e,["expireTime"]);return t!==void 0&&s!=null&&u(t,["expireTime"],s),o}function Pu(n,e){const t={},o=a(e,["name"]);o!=null&&u(t,["_url","name"],ye(n,o));const i=a(e,["config"]);return i!=null&&u(t,["config"],Au(n,i,t)),t}function wu(n,e,t){const o={},i=a(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);const s=a(e,["pageToken"]);return t!==void 0&&s!=null&&u(t,["_query","pageToken"],s),o}function Mu(n,e){const t={},o=a(e,["config"]);return o!=null&&u(t,["config"],wu(n,o,t)),t}function _u(n,e){const t={},o=a(e,["videoMetadata"]);o!=null&&u(t,["videoMetadata"],o);const i=a(e,["thought"]);i!=null&&u(t,["thought"],i);const s=a(e,["codeExecutionResult"]);s!=null&&u(t,["codeExecutionResult"],s);const r=a(e,["executableCode"]);r!=null&&u(t,["executableCode"],r);const l=a(e,["fileData"]);l!=null&&u(t,["fileData"],l);const d=a(e,["functionCall"]);d!=null&&u(t,["functionCall"],d);const c=a(e,["functionResponse"]);c!=null&&u(t,["functionResponse"],c);const f=a(e,["inlineData"]);f!=null&&u(t,["inlineData"],f);const h=a(e,["text"]);return h!=null&&u(t,["text"],h),t}function Ho(n,e){const t={},o=a(e,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>_u(n,r))),u(t,["parts"],s)}const i=a(e,["role"]);return i!=null&&u(t,["role"],i),t}function Iu(){return{}}function Ru(n,e){const t={},o=a(e,["mode"]);o!=null&&u(t,["mode"],o);const i=a(e,["dynamicThreshold"]);return i!=null&&u(t,["dynamicThreshold"],i),t}function Du(n,e){const t={},o=a(e,["dynamicRetrievalConfig"]);return o!=null&&u(t,["dynamicRetrievalConfig"],Ru(n,o)),t}function Nu(){return{}}function Vu(n,e){const t={},o=a(e,["apiKeyString"]);return o!=null&&u(t,["apiKeyString"],o),t}function bu(n,e){const t={},o=a(e,["apiKeyConfig"]);o!=null&&u(t,["apiKeyConfig"],Vu(n,o));const i=a(e,["authType"]);i!=null&&u(t,["authType"],i);const s=a(e,["googleServiceAccountConfig"]);s!=null&&u(t,["googleServiceAccountConfig"],s);const r=a(e,["httpBasicAuthConfig"]);r!=null&&u(t,["httpBasicAuthConfig"],r);const l=a(e,["oauthConfig"]);l!=null&&u(t,["oauthConfig"],l);const d=a(e,["oidcConfig"]);return d!=null&&u(t,["oidcConfig"],d),t}function Lu(n,e){const t={},o=a(e,["authConfig"]);return o!=null&&u(t,["authConfig"],bu(n,o)),t}function Fu(n,e){const t={},o=a(e,["retrieval"]);o!=null&&u(t,["retrieval"],o),a(e,["googleSearch"])!=null&&u(t,["googleSearch"],Iu());const s=a(e,["googleSearchRetrieval"]);s!=null&&u(t,["googleSearchRetrieval"],Du(n,s)),a(e,["enterpriseWebSearch"])!=null&&u(t,["enterpriseWebSearch"],Nu());const l=a(e,["googleMaps"]);l!=null&&u(t,["googleMaps"],Lu(n,l));const d=a(e,["codeExecution"]);d!=null&&u(t,["codeExecution"],d);const c=a(e,["functionDeclarations"]);return c!=null&&u(t,["functionDeclarations"],c),t}function ku(n,e){const t={},o=a(e,["mode"]);o!=null&&u(t,["mode"],o);const i=a(e,["allowedFunctionNames"]);return i!=null&&u(t,["allowedFunctionNames"],i),t}function Uu(n,e){const t={},o=a(e,["latitude"]);o!=null&&u(t,["latitude"],o);const i=a(e,["longitude"]);return i!=null&&u(t,["longitude"],i),t}function Bu(n,e){const t={},o=a(e,["latLng"]);return o!=null&&u(t,["latLng"],Uu(n,o)),t}function Gu(n,e){const t={},o=a(e,["functionCallingConfig"]);o!=null&&u(t,["functionCallingConfig"],ku(n,o));const i=a(e,["retrievalConfig"]);return i!=null&&u(t,["retrievalConfig"],Bu(n,i)),t}function Ou(n,e,t){const o={},i=a(e,["ttl"]);t!==void 0&&i!=null&&u(t,["ttl"],i);const s=a(e,["expireTime"]);t!==void 0&&s!=null&&u(t,["expireTime"],s);const r=a(e,["displayName"]);t!==void 0&&r!=null&&u(t,["displayName"],r);const l=a(e,["contents"]);if(t!==void 0&&l!=null){let h=ge(n,l);Array.isArray(h)&&(h=h.map(p=>Ho(n,p))),u(t,["contents"],h)}const d=a(e,["systemInstruction"]);t!==void 0&&d!=null&&u(t,["systemInstruction"],Ho(n,J(n,d)));const c=a(e,["tools"]);if(t!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>Fu(n,p))),u(t,["tools"],h)}const f=a(e,["toolConfig"]);return t!==void 0&&f!=null&&u(t,["toolConfig"],Gu(n,f)),o}function qu(n,e){const t={},o=a(e,["model"]);o!=null&&u(t,["model"],mr(n,o));const i=a(e,["config"]);return i!=null&&u(t,["config"],Ou(n,i,t)),t}function Hu(n,e){const t={},o=a(e,["name"]);o!=null&&u(t,["_url","name"],ye(n,o));const i=a(e,["config"]);return i!=null&&u(t,["config"],i),t}function Wu(n,e){const t={},o=a(e,["name"]);o!=null&&u(t,["_url","name"],ye(n,o));const i=a(e,["config"]);return i!=null&&u(t,["config"],i),t}function $u(n,e,t){const o={},i=a(e,["ttl"]);t!==void 0&&i!=null&&u(t,["ttl"],i);const s=a(e,["expireTime"]);return t!==void 0&&s!=null&&u(t,["expireTime"],s),o}function Ku(n,e){const t={},o=a(e,["name"]);o!=null&&u(t,["_url","name"],ye(n,o));const i=a(e,["config"]);return i!=null&&u(t,["config"],$u(n,i,t)),t}function Yu(n,e,t){const o={},i=a(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);const s=a(e,["pageToken"]);return t!==void 0&&s!=null&&u(t,["_query","pageToken"],s),o}function Ju(n,e){const t={},o=a(e,["config"]);return o!=null&&u(t,["config"],Yu(n,o,t)),t}function wt(n,e){const t={},o=a(e,["name"]);o!=null&&u(t,["name"],o);const i=a(e,["displayName"]);i!=null&&u(t,["displayName"],i);const s=a(e,["model"]);s!=null&&u(t,["model"],s);const r=a(e,["createTime"]);r!=null&&u(t,["createTime"],r);const l=a(e,["updateTime"]);l!=null&&u(t,["updateTime"],l);const d=a(e,["expireTime"]);d!=null&&u(t,["expireTime"],d);const c=a(e,["usageMetadata"]);return c!=null&&u(t,["usageMetadata"],c),t}function zu(){return{}}function Xu(n,e){const t={},o=a(e,["nextPageToken"]);o!=null&&u(t,["nextPageToken"],o);const i=a(e,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>wt(n,r))),u(t,["cachedContents"],s)}return t}function Mt(n,e){const t={},o=a(e,["name"]);o!=null&&u(t,["name"],o);const i=a(e,["displayName"]);i!=null&&u(t,["displayName"],i);const s=a(e,["model"]);s!=null&&u(t,["model"],s);const r=a(e,["createTime"]);r!=null&&u(t,["createTime"],r);const l=a(e,["updateTime"]);l!=null&&u(t,["updateTime"],l);const d=a(e,["expireTime"]);d!=null&&u(t,["expireTime"],d);const c=a(e,["usageMetadata"]);return c!=null&&u(t,["usageMetadata"],c),t}function Zu(){return{}}function Qu(n,e){const t={},o=a(e,["nextPageToken"]);o!=null&&u(t,["nextPageToken"],o);const i=a(e,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>Mt(n,r))),u(t,["cachedContents"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ge;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ge||(Ge={}));class $t{constructor(e,t,o,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,o,i)}init(e,t,o){var i,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let r={config:{}};o?typeof o=="object"?r=Object.assign({},o):r=o:r={config:{}},r.config&&(r.config.pageToken=t.nextPageToken),this.paramsInternal=r,this.pageInternalSize=(s=(i=r.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wo;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Wo||(Wo={}));var $o;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})($o||($o={}));var Ko;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Ko||(Ko={}));var Yo;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Yo||(Yo={}));var Jo;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Jo||(Jo={}));var zo;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(zo||(zo={}));var Xo;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Xo||(Xo={}));var Zo;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT"})(Zo||(Zo={}));var Qo;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY"})(Qo||(Qo={}));var jo;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(jo||(jo={}));var ei;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ei||(ei={}));var ti;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(ti||(ti={}));var ni;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(ni||(ni={}));var Lt;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Lt||(Lt={}));var oi;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(oi||(oi={}));var Pn;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Pn||(Pn={}));var ii;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ii||(ii={}));var si;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(si||(si={}));var ri;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(ri||(ri={}));var ai;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(ai||(ai={}));var li;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(li||(li={}));var ui;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(ui||(ui={}));var ci;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})(ci||(ci={}));var di;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(di||(di={}));var fi;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(fi||(fi={}));var hi;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(hi||(hi={}));var pi;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(pi||(pi={}));var mi;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(mi||(mi={}));var gi;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(gi||(gi={}));var yi;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(yi||(yi={}));var vi;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(vi||(vi={}));var Ti;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Ti||(Ti={}));var Ci;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ci||(Ci={}));class mt{get text(){var e,t,o,i,s,r,l,d;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const h=[];for(const p of(d=(l=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||l===void 0?void 0:l.parts)!==null&&d!==void 0?d:[]){for(const[m,y]of Object.entries(p))m!=="text"&&m!=="thought"&&(y!==null||y!==void 0)&&h.push(m);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,c+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var e,t,o,i,s,r,l,d;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const h of(d=(l=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||l===void 0?void 0:l.parts)!==null&&d!==void 0?d:[]){for(const[p,m]of Object.entries(h))p!=="inlineData"&&(m!==null||m!==void 0)&&f.push(p);h.inlineData&&typeof h.inlineData.data=="string"&&(c+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,t,o,i,s,r,l,d;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(d=(l=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||l===void 0?void 0:l.parts)===null||d===void 0?void 0:d.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,t,o,i,s,r,l,d,c;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(d=(l=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||l===void 0?void 0:l.parts)===null||d===void 0?void 0:d.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,t,o,i,s,r,l,d,c;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(d=(l=(r=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content)===null||l===void 0?void 0:l.parts)===null||d===void 0?void 0:d.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class Ei{}class xi{}class Si{}class Ai{}class Pi{}class ju{}class wi{}class Mi{}class _i{}class ec{}class wn{constructor(e){const t={};for(const o of e.headers.entries())t[o[0]]=o[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class tc{}class nc{}class oc{get text(){var e,t,o;let i="",s=!1;const r=[];for(const l of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[d,c]of Object.entries(l))d!=="text"&&d!=="thought"&&c!==null&&r.push(d);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;s=!0,i+=l.text}}return r.length>0&&console.warn(`there are non-text parts ${r} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,t,o;let i="";const s=[];for(const r of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[l,d]of Object.entries(r))l!=="inlineData"&&d!==null&&s.push(l);r.inlineData&&typeof r.inlineData.data=="string"&&(i+=atob(r.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ic extends ct{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new $t(Ge.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(t),t)}async create(e){var t,o,i,s;let r,l="",d={};if(this.apiClient.isVertexAI()){const c=qu(this.apiClient,e);return l=R("cachedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>Mt(this.apiClient,f))}else{const c=Eu(this.apiClient,e);return l=R("cachedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),r.then(f=>wt(this.apiClient,f))}}async get(e){var t,o,i,s;let r,l="",d={};if(this.apiClient.isVertexAI()){const c=Hu(this.apiClient,e);return l=R("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>Mt(this.apiClient,f))}else{const c=xu(this.apiClient,e);return l=R("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),r.then(f=>wt(this.apiClient,f))}}async delete(e){var t,o,i,s;let r,l="",d={};if(this.apiClient.isVertexAI()){const c=Wu(this.apiClient,e);return l=R("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(()=>{const f=Zu(),h=new Mi;return Object.assign(h,f),h})}else{const c=Su(this.apiClient,e);return l=R("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),r.then(()=>{const f=zu(),h=new Mi;return Object.assign(h,f),h})}}async update(e){var t,o,i,s;let r,l="",d={};if(this.apiClient.isVertexAI()){const c=Ku(this.apiClient,e);return l=R("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>Mt(this.apiClient,f))}else{const c=Pu(this.apiClient,e);return l=R("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),r.then(f=>wt(this.apiClient,f))}}async listInternal(e){var t,o,i,s;let r,l="",d={};if(this.apiClient.isVertexAI()){const c=Ju(this.apiClient,e);return l=R("cachedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>{const h=Qu(this.apiClient,f),p=new _i;return Object.assign(p,h),p})}else{const c=Mu(this.apiClient,e);return l=R("cachedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),r.then(f=>{const h=Xu(this.apiClient,f),p=new _i;return Object.assign(p,h),p})}}}function Ii(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],o=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function H(n){return this instanceof H?(this.v=n,this):new H(n)}function Ft(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",r),i[Symbol.asyncIterator]=function(){return this},i;function r(m){return function(y){return Promise.resolve(y).then(m,h)}}function l(m,y){o[m]&&(i[m]=function(g){return new Promise(function(T,E){s.push([m,g,T,E])>1||d(m,g)})},y&&(i[m]=y(i[m])))}function d(m,y){try{c(o[m](y))}catch(g){p(s[0][3],g)}}function c(m){m.value instanceof H?Promise.resolve(m.value.v).then(f,h):p(s[0][2],m)}function f(m){d("next",m)}function h(m){d("throw",m)}function p(m,y){m(y),s.shift(),s.length&&d(s[0][0],s[0][1])}}function Mn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Ii=="function"?Ii(n):n[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(s){t[s]=n[s]&&function(r){return new Promise(function(l,d){r=n[s](r),i(l,d,r.done,r.value)})}}function i(s,r,l,d){Promise.resolve(d).then(function(c){s({value:c,done:l})},r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sc(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:Pr(t)}function Pr(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||e.text!==void 0&&e.text==="")return!1;return!0}function rc(n){if(n.length!==0){if(n[0].role!=="user")throw new Error("History must start with a user turn.");for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function ac(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let o=0,i=n[0];for(;o<t;)if(n[o].role==="user")i=n[o],o++;else{const s=[];let r=!0;for(;o<t&&n[o].role==="model";)s.push(n[o]),r&&!Pr(n[o])&&(r=!1),o++;r&&(e.push(i),e.push(...s))}return e}class lc{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new uc(this.apiClient,this.modelsModule,e.model,e.config,e.history)}}class uc{constructor(e,t,o,i={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=o,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),rc(s)}async sendMessage(e){var t;await this.sendPromise;const o=J(this.apiClient,e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,r;const d=(r=(s=(await i).candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content,c=d?[d]:[];this.recordHistory(o,c)})(),await this.sendPromise,i}async sendMessageStream(e){var t;await this.sendPromise;const o=J(this.apiClient,e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,o)}getHistory(e=!1){return e?ac(this.history):this.history}processStreamResponse(e,t){var o,i;return Ft(this,arguments,function*(){var r,l,d,c;const f=[];try{for(var h=!0,p=Mn(e),m;m=yield H(p.next()),r=m.done,!r;h=!0){c=m.value,h=!1;const y=c;if(sc(y)){const g=(i=(o=y.candidates)===null||o===void 0?void 0:o[0])===null||i===void 0?void 0:i.content;g!==void 0&&f.push(g)}yield yield H(y)}}catch(y){l={error:y}}finally{try{!h&&!r&&(d=p.return)&&(yield H(d.call(p)))}finally{if(l)throw l.error}}this.recordHistory(t,f)})}recordHistory(e,t){let o=[];t.length>0&&t.every(i=>i.role==="model")?o=t:o.push({role:"model",parts:[]}),this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cc(n,e,t){const o={},i=a(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);const s=a(e,["pageToken"]);return t!==void 0&&s!=null&&u(t,["_query","pageToken"],s),o}function dc(n,e){const t={},o=a(e,["config"]);return o!=null&&u(t,["config"],cc(n,o,t)),t}function fc(n,e){const t={},o=a(e,["details"]);o!=null&&u(t,["details"],o);const i=a(e,["message"]);i!=null&&u(t,["message"],i);const s=a(e,["code"]);return s!=null&&u(t,["code"],s),t}function hc(n,e){const t={},o=a(e,["name"]);o!=null&&u(t,["name"],o);const i=a(e,["displayName"]);i!=null&&u(t,["displayName"],i);const s=a(e,["mimeType"]);s!=null&&u(t,["mimeType"],s);const r=a(e,["sizeBytes"]);r!=null&&u(t,["sizeBytes"],r);const l=a(e,["createTime"]);l!=null&&u(t,["createTime"],l);const d=a(e,["expirationTime"]);d!=null&&u(t,["expirationTime"],d);const c=a(e,["updateTime"]);c!=null&&u(t,["updateTime"],c);const f=a(e,["sha256Hash"]);f!=null&&u(t,["sha256Hash"],f);const h=a(e,["uri"]);h!=null&&u(t,["uri"],h);const p=a(e,["downloadUri"]);p!=null&&u(t,["downloadUri"],p);const m=a(e,["state"]);m!=null&&u(t,["state"],m);const y=a(e,["source"]);y!=null&&u(t,["source"],y);const g=a(e,["videoMetadata"]);g!=null&&u(t,["videoMetadata"],g);const T=a(e,["error"]);return T!=null&&u(t,["error"],fc(n,T)),t}function pc(n,e){const t={},o=a(e,["file"]);o!=null&&u(t,["file"],hc(n,o));const i=a(e,["config"]);return i!=null&&u(t,["config"],i),t}function mc(n,e){const t={},o=a(e,["name"]);o!=null&&u(t,["_url","file"],xr(n,o));const i=a(e,["config"]);return i!=null&&u(t,["config"],i),t}function gc(n,e){const t={},o=a(e,["name"]);o!=null&&u(t,["_url","file"],xr(n,o));const i=a(e,["config"]);return i!=null&&u(t,["config"],i),t}function yc(n,e){const t={},o=a(e,["details"]);o!=null&&u(t,["details"],o);const i=a(e,["message"]);i!=null&&u(t,["message"],i);const s=a(e,["code"]);return s!=null&&u(t,["code"],s),t}function _n(n,e){const t={},o=a(e,["name"]);o!=null&&u(t,["name"],o);const i=a(e,["displayName"]);i!=null&&u(t,["displayName"],i);const s=a(e,["mimeType"]);s!=null&&u(t,["mimeType"],s);const r=a(e,["sizeBytes"]);r!=null&&u(t,["sizeBytes"],r);const l=a(e,["createTime"]);l!=null&&u(t,["createTime"],l);const d=a(e,["expirationTime"]);d!=null&&u(t,["expirationTime"],d);const c=a(e,["updateTime"]);c!=null&&u(t,["updateTime"],c);const f=a(e,["sha256Hash"]);f!=null&&u(t,["sha256Hash"],f);const h=a(e,["uri"]);h!=null&&u(t,["uri"],h);const p=a(e,["downloadUri"]);p!=null&&u(t,["downloadUri"],p);const m=a(e,["state"]);m!=null&&u(t,["state"],m);const y=a(e,["source"]);y!=null&&u(t,["source"],y);const g=a(e,["videoMetadata"]);g!=null&&u(t,["videoMetadata"],g);const T=a(e,["error"]);return T!=null&&u(t,["error"],yc(n,T)),t}function vc(n,e){const t={},o=a(e,["nextPageToken"]);o!=null&&u(t,["nextPageToken"],o);const i=a(e,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>_n(n,r))),u(t,["files"],s)}return t}function Tc(){return{}}function Cc(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ec extends ct{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new $t(Ge.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>_n(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,o;let i,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=dc(this.apiClient,e);return s=R("files",l._url),r=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const c=vc(this.apiClient,d),f=new ec;return Object.assign(f,c),f})}}async createInternal(e){var t,o;let i,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=pc(this.apiClient,e);return s=R("upload/v1beta/files",l._url),r=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(()=>{const d=Tc(),c=new tc;return Object.assign(c,d),c})}}async get(e){var t,o;let i,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=mc(this.apiClient,e);return s=R("files/{file}",l._url),r=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>_n(this.apiClient,d))}}async delete(e){var t,o;let i,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=gc(this.apiClient,e);return s=R("files/{file}",l._url),r=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(()=>{const d=Cc(),c=new nc;return Object.assign(c,d),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xc(n,e){const t={};if(a(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const o=a(e,["thought"]);o!=null&&u(t,["thought"],o);const i=a(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);const s=a(e,["executableCode"]);s!=null&&u(t,["executableCode"],s);const r=a(e,["fileData"]);r!=null&&u(t,["fileData"],r);const l=a(e,["functionCall"]);l!=null&&u(t,["functionCall"],l);const d=a(e,["functionResponse"]);d!=null&&u(t,["functionResponse"],d);const c=a(e,["inlineData"]);c!=null&&u(t,["inlineData"],c);const f=a(e,["text"]);return f!=null&&u(t,["text"],f),t}function Sc(n,e){const t={},o=a(e,["videoMetadata"]);o!=null&&u(t,["videoMetadata"],o);const i=a(e,["thought"]);i!=null&&u(t,["thought"],i);const s=a(e,["codeExecutionResult"]);s!=null&&u(t,["codeExecutionResult"],s);const r=a(e,["executableCode"]);r!=null&&u(t,["executableCode"],r);const l=a(e,["fileData"]);l!=null&&u(t,["fileData"],l);const d=a(e,["functionCall"]);d!=null&&u(t,["functionCall"],d);const c=a(e,["functionResponse"]);c!=null&&u(t,["functionResponse"],c);const f=a(e,["inlineData"]);f!=null&&u(t,["inlineData"],f);const h=a(e,["text"]);return h!=null&&u(t,["text"],h),t}function Ac(n,e){const t={},o=a(e,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>xc(n,r))),u(t,["parts"],s)}const i=a(e,["role"]);return i!=null&&u(t,["role"],i),t}function Pc(n,e){const t={},o=a(e,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>Sc(n,r))),u(t,["parts"],s)}const i=a(e,["role"]);return i!=null&&u(t,["role"],i),t}function wc(){return{}}function Mc(){return{}}function _c(n,e){const t={},o=a(e,["mode"]);o!=null&&u(t,["mode"],o);const i=a(e,["dynamicThreshold"]);return i!=null&&u(t,["dynamicThreshold"],i),t}function Ic(n,e){const t={},o=a(e,["mode"]);o!=null&&u(t,["mode"],o);const i=a(e,["dynamicThreshold"]);return i!=null&&u(t,["dynamicThreshold"],i),t}function Rc(n,e){const t={},o=a(e,["dynamicRetrievalConfig"]);return o!=null&&u(t,["dynamicRetrievalConfig"],_c(n,o)),t}function Dc(n,e){const t={},o=a(e,["dynamicRetrievalConfig"]);return o!=null&&u(t,["dynamicRetrievalConfig"],Ic(n,o)),t}function Nc(){return{}}function Vc(n,e){const t={},o=a(e,["apiKeyString"]);return o!=null&&u(t,["apiKeyString"],o),t}function bc(n,e){const t={},o=a(e,["apiKeyConfig"]);o!=null&&u(t,["apiKeyConfig"],Vc(n,o));const i=a(e,["authType"]);i!=null&&u(t,["authType"],i);const s=a(e,["googleServiceAccountConfig"]);s!=null&&u(t,["googleServiceAccountConfig"],s);const r=a(e,["httpBasicAuthConfig"]);r!=null&&u(t,["httpBasicAuthConfig"],r);const l=a(e,["oauthConfig"]);l!=null&&u(t,["oauthConfig"],l);const d=a(e,["oidcConfig"]);return d!=null&&u(t,["oidcConfig"],d),t}function Lc(n,e){const t={},o=a(e,["authConfig"]);return o!=null&&u(t,["authConfig"],bc(n,o)),t}function Fc(n,e){const t={};if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");a(e,["googleSearch"])!=null&&u(t,["googleSearch"],wc());const i=a(e,["googleSearchRetrieval"]);if(i!=null&&u(t,["googleSearchRetrieval"],Rc(n,i)),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const s=a(e,["codeExecution"]);s!=null&&u(t,["codeExecution"],s);const r=a(e,["functionDeclarations"]);return r!=null&&u(t,["functionDeclarations"],r),t}function kc(n,e){const t={},o=a(e,["retrieval"]);o!=null&&u(t,["retrieval"],o),a(e,["googleSearch"])!=null&&u(t,["googleSearch"],Mc());const s=a(e,["googleSearchRetrieval"]);s!=null&&u(t,["googleSearchRetrieval"],Dc(n,s)),a(e,["enterpriseWebSearch"])!=null&&u(t,["enterpriseWebSearch"],Nc());const l=a(e,["googleMaps"]);l!=null&&u(t,["googleMaps"],Lc(n,l));const d=a(e,["codeExecution"]);d!=null&&u(t,["codeExecution"],d);const c=a(e,["functionDeclarations"]);return c!=null&&u(t,["functionDeclarations"],c),t}function Uc(n,e){const t={},o=a(e,["handle"]);if(o!=null&&u(t,["handle"],o),a(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Bc(n,e){const t={},o=a(e,["handle"]);o!=null&&u(t,["handle"],o);const i=a(e,["transparent"]);return i!=null&&u(t,["transparent"],i),t}function Ri(){return{}}function Di(){return{}}function Gc(n,e){const t={},o=a(e,["disabled"]);o!=null&&u(t,["disabled"],o);const i=a(e,["startOfSpeechSensitivity"]);i!=null&&u(t,["startOfSpeechSensitivity"],i);const s=a(e,["endOfSpeechSensitivity"]);s!=null&&u(t,["endOfSpeechSensitivity"],s);const r=a(e,["prefixPaddingMs"]);r!=null&&u(t,["prefixPaddingMs"],r);const l=a(e,["silenceDurationMs"]);return l!=null&&u(t,["silenceDurationMs"],l),t}function Oc(n,e){const t={},o=a(e,["disabled"]);o!=null&&u(t,["disabled"],o);const i=a(e,["startOfSpeechSensitivity"]);i!=null&&u(t,["startOfSpeechSensitivity"],i);const s=a(e,["endOfSpeechSensitivity"]);s!=null&&u(t,["endOfSpeechSensitivity"],s);const r=a(e,["prefixPaddingMs"]);r!=null&&u(t,["prefixPaddingMs"],r);const l=a(e,["silenceDurationMs"]);return l!=null&&u(t,["silenceDurationMs"],l),t}function qc(n,e){const t={},o=a(e,["automaticActivityDetection"]);o!=null&&u(t,["automaticActivityDetection"],Gc(n,o));const i=a(e,["activityHandling"]);i!=null&&u(t,["activityHandling"],i);const s=a(e,["turnCoverage"]);return s!=null&&u(t,["turnCoverage"],s),t}function Hc(n,e){const t={},o=a(e,["automaticActivityDetection"]);o!=null&&u(t,["automaticActivityDetection"],Oc(n,o));const i=a(e,["activityHandling"]);i!=null&&u(t,["activityHandling"],i);const s=a(e,["turnCoverage"]);return s!=null&&u(t,["turnCoverage"],s),t}function Wc(n,e){const t={},o=a(e,["targetTokens"]);return o!=null&&u(t,["targetTokens"],o),t}function $c(n,e){const t={},o=a(e,["targetTokens"]);return o!=null&&u(t,["targetTokens"],o),t}function Kc(n,e){const t={},o=a(e,["triggerTokens"]);o!=null&&u(t,["triggerTokens"],o);const i=a(e,["slidingWindow"]);return i!=null&&u(t,["slidingWindow"],Wc(n,i)),t}function Yc(n,e){const t={},o=a(e,["triggerTokens"]);o!=null&&u(t,["triggerTokens"],o);const i=a(e,["slidingWindow"]);return i!=null&&u(t,["slidingWindow"],$c(n,i)),t}function Jc(n,e,t){const o={},i=a(e,["generationConfig"]);t!==void 0&&i!=null&&u(t,["setup","generationConfig"],i);const s=a(e,["responseModalities"]);t!==void 0&&s!=null&&u(t,["setup","generationConfig","responseModalities"],s);const r=a(e,["temperature"]);t!==void 0&&r!=null&&u(t,["setup","generationConfig","temperature"],r);const l=a(e,["topP"]);t!==void 0&&l!=null&&u(t,["setup","generationConfig","topP"],l);const d=a(e,["topK"]);t!==void 0&&d!=null&&u(t,["setup","generationConfig","topK"],d);const c=a(e,["maxOutputTokens"]);t!==void 0&&c!=null&&u(t,["setup","generationConfig","maxOutputTokens"],c);const f=a(e,["mediaResolution"]);t!==void 0&&f!=null&&u(t,["setup","generationConfig","mediaResolution"],f);const h=a(e,["seed"]);t!==void 0&&h!=null&&u(t,["setup","generationConfig","seed"],h);const p=a(e,["speechConfig"]);t!==void 0&&p!=null&&u(t,["setup","generationConfig","speechConfig"],p);const m=a(e,["systemInstruction"]);t!==void 0&&m!=null&&u(t,["setup","systemInstruction"],Ac(n,J(n,m)));const y=a(e,["tools"]);if(t!==void 0&&y!=null){let A=Wt(n,y);Array.isArray(A)&&(A=A.map(P=>Fc(n,Ht(n,P)))),u(t,["setup","tools"],A)}const g=a(e,["sessionResumption"]);t!==void 0&&g!=null&&u(t,["setup","sessionResumption"],Uc(n,g));const T=a(e,["inputAudioTranscription"]);t!==void 0&&T!=null&&u(t,["setup","inputAudioTranscription"],Ri());const E=a(e,["outputAudioTranscription"]);t!==void 0&&E!=null&&u(t,["setup","outputAudioTranscription"],Ri());const S=a(e,["realtimeInputConfig"]);t!==void 0&&S!=null&&u(t,["setup","realtimeInputConfig"],qc(n,S));const x=a(e,["contextWindowCompression"]);return t!==void 0&&x!=null&&u(t,["setup","contextWindowCompression"],Kc(n,x)),o}function zc(n,e,t){const o={},i=a(e,["generationConfig"]);t!==void 0&&i!=null&&u(t,["setup","generationConfig"],i);const s=a(e,["responseModalities"]);t!==void 0&&s!=null&&u(t,["setup","generationConfig","responseModalities"],s);const r=a(e,["temperature"]);t!==void 0&&r!=null&&u(t,["setup","generationConfig","temperature"],r);const l=a(e,["topP"]);t!==void 0&&l!=null&&u(t,["setup","generationConfig","topP"],l);const d=a(e,["topK"]);t!==void 0&&d!=null&&u(t,["setup","generationConfig","topK"],d);const c=a(e,["maxOutputTokens"]);t!==void 0&&c!=null&&u(t,["setup","generationConfig","maxOutputTokens"],c);const f=a(e,["mediaResolution"]);t!==void 0&&f!=null&&u(t,["setup","generationConfig","mediaResolution"],f);const h=a(e,["seed"]);t!==void 0&&h!=null&&u(t,["setup","generationConfig","seed"],h);const p=a(e,["speechConfig"]);t!==void 0&&p!=null&&u(t,["setup","generationConfig","speechConfig"],p);const m=a(e,["systemInstruction"]);t!==void 0&&m!=null&&u(t,["setup","systemInstruction"],Pc(n,J(n,m)));const y=a(e,["tools"]);if(t!==void 0&&y!=null){let A=Wt(n,y);Array.isArray(A)&&(A=A.map(P=>kc(n,Ht(n,P)))),u(t,["setup","tools"],A)}const g=a(e,["sessionResumption"]);t!==void 0&&g!=null&&u(t,["setup","sessionResumption"],Bc(n,g));const T=a(e,["inputAudioTranscription"]);t!==void 0&&T!=null&&u(t,["setup","inputAudioTranscription"],Di());const E=a(e,["outputAudioTranscription"]);t!==void 0&&E!=null&&u(t,["setup","outputAudioTranscription"],Di());const S=a(e,["realtimeInputConfig"]);t!==void 0&&S!=null&&u(t,["setup","realtimeInputConfig"],Hc(n,S));const x=a(e,["contextWindowCompression"]);return t!==void 0&&x!=null&&u(t,["setup","contextWindowCompression"],Yc(n,x)),o}function Xc(n,e){const t={},o=a(e,["model"]);o!=null&&u(t,["setup","model"],k(n,o));const i=a(e,["config"]);return i!=null&&u(t,["config"],Jc(n,i,t)),t}function Zc(n,e){const t={},o=a(e,["model"]);o!=null&&u(t,["setup","model"],k(n,o));const i=a(e,["config"]);return i!=null&&u(t,["config"],zc(n,i,t)),t}function Qc(){return{}}function jc(){return{}}function ed(){return{}}function td(){return{}}function nd(n,e){const t={},o=a(e,["media"]);o!=null&&u(t,["mediaChunks"],gr(n,o));const i=a(e,["audio"]);i!=null&&u(t,["audio"],au(n,i));const s=a(e,["audioStreamEnd"]);s!=null&&u(t,["audioStreamEnd"],s);const r=a(e,["video"]);r!=null&&u(t,["video"],ru(n,r));const l=a(e,["text"]);return l!=null&&u(t,["text"],l),a(e,["activityStart"])!=null&&u(t,["activityStart"],Qc()),a(e,["activityEnd"])!=null&&u(t,["activityEnd"],ed()),t}function od(n,e){const t={},o=a(e,["media"]);if(o!=null&&u(t,["mediaChunks"],gr(n,o)),a(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const i=a(e,["audioStreamEnd"]);if(i!=null&&u(t,["audioStreamEnd"],i),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(a(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return a(e,["activityStart"])!=null&&u(t,["activityStart"],jc()),a(e,["activityEnd"])!=null&&u(t,["activityEnd"],td()),t}function id(){return{}}function sd(){return{}}function rd(n,e){const t={},o=a(e,["thought"]);o!=null&&u(t,["thought"],o);const i=a(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);const s=a(e,["executableCode"]);s!=null&&u(t,["executableCode"],s);const r=a(e,["fileData"]);r!=null&&u(t,["fileData"],r);const l=a(e,["functionCall"]);l!=null&&u(t,["functionCall"],l);const d=a(e,["functionResponse"]);d!=null&&u(t,["functionResponse"],d);const c=a(e,["inlineData"]);c!=null&&u(t,["inlineData"],c);const f=a(e,["text"]);return f!=null&&u(t,["text"],f),t}function ad(n,e){const t={},o=a(e,["videoMetadata"]);o!=null&&u(t,["videoMetadata"],o);const i=a(e,["thought"]);i!=null&&u(t,["thought"],i);const s=a(e,["codeExecutionResult"]);s!=null&&u(t,["codeExecutionResult"],s);const r=a(e,["executableCode"]);r!=null&&u(t,["executableCode"],r);const l=a(e,["fileData"]);l!=null&&u(t,["fileData"],l);const d=a(e,["functionCall"]);d!=null&&u(t,["functionCall"],d);const c=a(e,["functionResponse"]);c!=null&&u(t,["functionResponse"],c);const f=a(e,["inlineData"]);f!=null&&u(t,["inlineData"],f);const h=a(e,["text"]);return h!=null&&u(t,["text"],h),t}function ld(n,e){const t={},o=a(e,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>rd(n,r))),u(t,["parts"],s)}const i=a(e,["role"]);return i!=null&&u(t,["role"],i),t}function ud(n,e){const t={},o=a(e,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>ad(n,r))),u(t,["parts"],s)}const i=a(e,["role"]);return i!=null&&u(t,["role"],i),t}function Ni(n,e){const t={},o=a(e,["text"]);o!=null&&u(t,["text"],o);const i=a(e,["finished"]);return i!=null&&u(t,["finished"],i),t}function Vi(n,e){const t={},o=a(e,["text"]);o!=null&&u(t,["text"],o);const i=a(e,["finished"]);return i!=null&&u(t,["finished"],i),t}function cd(n,e){const t={},o=a(e,["modelTurn"]);o!=null&&u(t,["modelTurn"],ld(n,o));const i=a(e,["turnComplete"]);i!=null&&u(t,["turnComplete"],i);const s=a(e,["interrupted"]);s!=null&&u(t,["interrupted"],s);const r=a(e,["groundingMetadata"]);r!=null&&u(t,["groundingMetadata"],r);const l=a(e,["generationComplete"]);l!=null&&u(t,["generationComplete"],l);const d=a(e,["inputTranscription"]);d!=null&&u(t,["inputTranscription"],Ni(n,d));const c=a(e,["outputTranscription"]);return c!=null&&u(t,["outputTranscription"],Ni(n,c)),t}function dd(n,e){const t={},o=a(e,["modelTurn"]);o!=null&&u(t,["modelTurn"],ud(n,o));const i=a(e,["turnComplete"]);i!=null&&u(t,["turnComplete"],i);const s=a(e,["interrupted"]);s!=null&&u(t,["interrupted"],s);const r=a(e,["groundingMetadata"]);r!=null&&u(t,["groundingMetadata"],r);const l=a(e,["generationComplete"]);l!=null&&u(t,["generationComplete"],l);const d=a(e,["inputTranscription"]);d!=null&&u(t,["inputTranscription"],Vi(n,d));const c=a(e,["outputTranscription"]);return c!=null&&u(t,["outputTranscription"],Vi(n,c)),t}function fd(n,e){const t={},o=a(e,["id"]);o!=null&&u(t,["id"],o);const i=a(e,["args"]);i!=null&&u(t,["args"],i);const s=a(e,["name"]);return s!=null&&u(t,["name"],s),t}function hd(n,e){const t={},o=a(e,["args"]);o!=null&&u(t,["args"],o);const i=a(e,["name"]);return i!=null&&u(t,["name"],i),t}function pd(n,e){const t={},o=a(e,["functionCalls"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>fd(n,s))),u(t,["functionCalls"],i)}return t}function md(n,e){const t={},o=a(e,["functionCalls"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>hd(n,s))),u(t,["functionCalls"],i)}return t}function gd(n,e){const t={},o=a(e,["ids"]);return o!=null&&u(t,["ids"],o),t}function yd(n,e){const t={},o=a(e,["ids"]);return o!=null&&u(t,["ids"],o),t}function gt(n,e){const t={},o=a(e,["modality"]);o!=null&&u(t,["modality"],o);const i=a(e,["tokenCount"]);return i!=null&&u(t,["tokenCount"],i),t}function yt(n,e){const t={},o=a(e,["modality"]);o!=null&&u(t,["modality"],o);const i=a(e,["tokenCount"]);return i!=null&&u(t,["tokenCount"],i),t}function vd(n,e){const t={},o=a(e,["promptTokenCount"]);o!=null&&u(t,["promptTokenCount"],o);const i=a(e,["cachedContentTokenCount"]);i!=null&&u(t,["cachedContentTokenCount"],i);const s=a(e,["responseTokenCount"]);s!=null&&u(t,["responseTokenCount"],s);const r=a(e,["toolUsePromptTokenCount"]);r!=null&&u(t,["toolUsePromptTokenCount"],r);const l=a(e,["thoughtsTokenCount"]);l!=null&&u(t,["thoughtsTokenCount"],l);const d=a(e,["totalTokenCount"]);d!=null&&u(t,["totalTokenCount"],d);const c=a(e,["promptTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(y=>gt(n,y))),u(t,["promptTokensDetails"],m)}const f=a(e,["cacheTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>gt(n,y))),u(t,["cacheTokensDetails"],m)}const h=a(e,["responseTokensDetails"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(y=>gt(n,y))),u(t,["responseTokensDetails"],m)}const p=a(e,["toolUsePromptTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(y=>gt(n,y))),u(t,["toolUsePromptTokensDetails"],m)}return t}function Td(n,e){const t={},o=a(e,["promptTokenCount"]);o!=null&&u(t,["promptTokenCount"],o);const i=a(e,["cachedContentTokenCount"]);i!=null&&u(t,["cachedContentTokenCount"],i);const s=a(e,["candidatesTokenCount"]);s!=null&&u(t,["responseTokenCount"],s);const r=a(e,["toolUsePromptTokenCount"]);r!=null&&u(t,["toolUsePromptTokenCount"],r);const l=a(e,["thoughtsTokenCount"]);l!=null&&u(t,["thoughtsTokenCount"],l);const d=a(e,["totalTokenCount"]);d!=null&&u(t,["totalTokenCount"],d);const c=a(e,["promptTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(g=>yt(n,g))),u(t,["promptTokensDetails"],y)}const f=a(e,["cacheTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(g=>yt(n,g))),u(t,["cacheTokensDetails"],y)}const h=a(e,["candidatesTokensDetails"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(g=>yt(n,g))),u(t,["responseTokensDetails"],y)}const p=a(e,["toolUsePromptTokensDetails"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(g=>yt(n,g))),u(t,["toolUsePromptTokensDetails"],y)}const m=a(e,["trafficType"]);return m!=null&&u(t,["trafficType"],m),t}function Cd(n,e){const t={},o=a(e,["timeLeft"]);return o!=null&&u(t,["timeLeft"],o),t}function Ed(n,e){const t={},o=a(e,["timeLeft"]);return o!=null&&u(t,["timeLeft"],o),t}function xd(n,e){const t={},o=a(e,["newHandle"]);o!=null&&u(t,["newHandle"],o);const i=a(e,["resumable"]);i!=null&&u(t,["resumable"],i);const s=a(e,["lastConsumedClientMessageIndex"]);return s!=null&&u(t,["lastConsumedClientMessageIndex"],s),t}function Sd(n,e){const t={},o=a(e,["newHandle"]);o!=null&&u(t,["newHandle"],o);const i=a(e,["resumable"]);i!=null&&u(t,["resumable"],i);const s=a(e,["lastConsumedClientMessageIndex"]);return s!=null&&u(t,["lastConsumedClientMessageIndex"],s),t}function Ad(n,e){const t={};a(e,["setupComplete"])!=null&&u(t,["setupComplete"],id());const i=a(e,["serverContent"]);i!=null&&u(t,["serverContent"],cd(n,i));const s=a(e,["toolCall"]);s!=null&&u(t,["toolCall"],pd(n,s));const r=a(e,["toolCallCancellation"]);r!=null&&u(t,["toolCallCancellation"],gd(n,r));const l=a(e,["usageMetadata"]);l!=null&&u(t,["usageMetadata"],vd(n,l));const d=a(e,["goAway"]);d!=null&&u(t,["goAway"],Cd(n,d));const c=a(e,["sessionResumptionUpdate"]);return c!=null&&u(t,["sessionResumptionUpdate"],xd(n,c)),t}function Pd(n,e){const t={};a(e,["setupComplete"])!=null&&u(t,["setupComplete"],sd());const i=a(e,["serverContent"]);i!=null&&u(t,["serverContent"],dd(n,i));const s=a(e,["toolCall"]);s!=null&&u(t,["toolCall"],md(n,s));const r=a(e,["toolCallCancellation"]);r!=null&&u(t,["toolCallCancellation"],yd(n,r));const l=a(e,["usageMetadata"]);l!=null&&u(t,["usageMetadata"],Td(n,l));const d=a(e,["goAway"]);d!=null&&u(t,["goAway"],Ed(n,d));const c=a(e,["sessionResumptionUpdate"]);return c!=null&&u(t,["sessionResumptionUpdate"],Sd(n,c)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wd(n,e){const t={};if(a(e,["videoMetadata"])!==void 0)throw new Error("videoMetadata parameter is not supported in Gemini API.");const o=a(e,["thought"]);o!=null&&u(t,["thought"],o);const i=a(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);const s=a(e,["executableCode"]);s!=null&&u(t,["executableCode"],s);const r=a(e,["fileData"]);r!=null&&u(t,["fileData"],r);const l=a(e,["functionCall"]);l!=null&&u(t,["functionCall"],l);const d=a(e,["functionResponse"]);d!=null&&u(t,["functionResponse"],d);const c=a(e,["inlineData"]);c!=null&&u(t,["inlineData"],c);const f=a(e,["text"]);return f!=null&&u(t,["text"],f),t}function Kt(n,e){const t={},o=a(e,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>wd(n,r))),u(t,["parts"],s)}const i=a(e,["role"]);return i!=null&&u(t,["role"],i),t}function Md(n,e){const t={};if(a(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=a(e,["category"]);o!=null&&u(t,["category"],o);const i=a(e,["threshold"]);return i!=null&&u(t,["threshold"],i),t}function _d(){return{}}function Id(n,e){const t={},o=a(e,["mode"]);o!=null&&u(t,["mode"],o);const i=a(e,["dynamicThreshold"]);return i!=null&&u(t,["dynamicThreshold"],i),t}function Rd(n,e){const t={},o=a(e,["dynamicRetrievalConfig"]);return o!=null&&u(t,["dynamicRetrievalConfig"],Id(n,o)),t}function Dd(n,e){const t={};if(a(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");a(e,["googleSearch"])!=null&&u(t,["googleSearch"],_d());const i=a(e,["googleSearchRetrieval"]);if(i!=null&&u(t,["googleSearchRetrieval"],Rd(n,i)),a(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const s=a(e,["codeExecution"]);s!=null&&u(t,["codeExecution"],s);const r=a(e,["functionDeclarations"]);return r!=null&&u(t,["functionDeclarations"],r),t}function Nd(n,e){const t={},o=a(e,["mode"]);o!=null&&u(t,["mode"],o);const i=a(e,["allowedFunctionNames"]);return i!=null&&u(t,["allowedFunctionNames"],i),t}function Vd(n,e){const t={},o=a(e,["functionCallingConfig"]);if(o!=null&&u(t,["functionCallingConfig"],Nd(n,o)),a(e,["retrievalConfig"])!==void 0)throw new Error("retrievalConfig parameter is not supported in Gemini API.");return t}function bd(n,e){const t={},o=a(e,["voiceName"]);return o!=null&&u(t,["voiceName"],o),t}function Ld(n,e){const t={},o=a(e,["prebuiltVoiceConfig"]);return o!=null&&u(t,["prebuiltVoiceConfig"],bd(n,o)),t}function Fd(n,e){const t={},o=a(e,["voiceConfig"]);o!=null&&u(t,["voiceConfig"],Ld(n,o));const i=a(e,["languageCode"]);return i!=null&&u(t,["languageCode"],i),t}function kd(n,e){const t={},o=a(e,["includeThoughts"]);o!=null&&u(t,["includeThoughts"],o);const i=a(e,["thinkingBudget"]);return i!=null&&u(t,["thinkingBudget"],i),t}function Ud(n,e,t){const o={},i=a(e,["systemInstruction"]);t!==void 0&&i!=null&&u(t,["systemInstruction"],Kt(n,J(n,i)));const s=a(e,["temperature"]);s!=null&&u(o,["temperature"],s);const r=a(e,["topP"]);r!=null&&u(o,["topP"],r);const l=a(e,["topK"]);l!=null&&u(o,["topK"],l);const d=a(e,["candidateCount"]);d!=null&&u(o,["candidateCount"],d);const c=a(e,["maxOutputTokens"]);c!=null&&u(o,["maxOutputTokens"],c);const f=a(e,["stopSequences"]);f!=null&&u(o,["stopSequences"],f);const h=a(e,["responseLogprobs"]);h!=null&&u(o,["responseLogprobs"],h);const p=a(e,["logprobs"]);p!=null&&u(o,["logprobs"],p);const m=a(e,["presencePenalty"]);m!=null&&u(o,["presencePenalty"],m);const y=a(e,["frequencyPenalty"]);y!=null&&u(o,["frequencyPenalty"],y);const g=a(e,["seed"]);g!=null&&u(o,["seed"],g);const T=a(e,["responseMimeType"]);T!=null&&u(o,["responseMimeType"],T);const E=a(e,["responseSchema"]);if(E!=null&&u(o,["responseSchema"],Tr(n,E)),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=a(e,["safetySettings"]);if(t!==void 0&&S!=null){let D=S;Array.isArray(D)&&(D=D.map(V=>Md(n,V))),u(t,["safetySettings"],D)}const x=a(e,["tools"]);if(t!==void 0&&x!=null){let D=Wt(n,x);Array.isArray(D)&&(D=D.map(V=>Dd(n,Ht(n,V)))),u(t,["tools"],D)}const A=a(e,["toolConfig"]);if(t!==void 0&&A!=null&&u(t,["toolConfig"],Vd(n,A)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=a(e,["cachedContent"]);t!==void 0&&P!=null&&u(t,["cachedContent"],ye(n,P));const w=a(e,["responseModalities"]);w!=null&&u(o,["responseModalities"],w);const M=a(e,["mediaResolution"]);M!=null&&u(o,["mediaResolution"],M);const _=a(e,["speechConfig"]);if(_!=null&&u(o,["speechConfig"],Fd(n,Cr(n,_))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=a(e,["thinkingConfig"]);return N!=null&&u(o,["thinkingConfig"],kd(n,N)),o}function bi(n,e){const t={},o=a(e,["model"]);o!=null&&u(t,["_url","model"],k(n,o));const i=a(e,["contents"]);if(i!=null){let r=ge(n,i);Array.isArray(r)&&(r=r.map(l=>Kt(n,l))),u(t,["contents"],r)}const s=a(e,["config"]);return s!=null&&u(t,["generationConfig"],Ud(n,s,t)),t}function Bd(n,e,t){const o={},i=a(e,["taskType"]);t!==void 0&&i!=null&&u(t,["requests[]","taskType"],i);const s=a(e,["title"]);t!==void 0&&s!=null&&u(t,["requests[]","title"],s);const r=a(e,["outputDimensionality"]);if(t!==void 0&&r!=null&&u(t,["requests[]","outputDimensionality"],r),a(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Gd(n,e){const t={},o=a(e,["model"]);o!=null&&u(t,["_url","model"],k(n,o));const i=a(e,["contents"]);i!=null&&u(t,["requests[]","content"],vr(n,i));const s=a(e,["config"]);s!=null&&u(t,["config"],Bd(n,s,t));const r=a(e,["model"]);return r!==void 0&&u(t,["requests[]","model"],k(n,r)),t}function Od(n,e,t){const o={};if(a(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=a(e,["numberOfImages"]);t!==void 0&&i!=null&&u(t,["parameters","sampleCount"],i);const s=a(e,["aspectRatio"]);t!==void 0&&s!=null&&u(t,["parameters","aspectRatio"],s);const r=a(e,["guidanceScale"]);if(t!==void 0&&r!=null&&u(t,["parameters","guidanceScale"],r),a(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=a(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&u(t,["parameters","safetySetting"],l);const d=a(e,["personGeneration"]);t!==void 0&&d!=null&&u(t,["parameters","personGeneration"],d);const c=a(e,["includeSafetyAttributes"]);t!==void 0&&c!=null&&u(t,["parameters","includeSafetyAttributes"],c);const f=a(e,["includeRaiReason"]);t!==void 0&&f!=null&&u(t,["parameters","includeRaiReason"],f);const h=a(e,["language"]);t!==void 0&&h!=null&&u(t,["parameters","language"],h);const p=a(e,["outputMimeType"]);t!==void 0&&p!=null&&u(t,["parameters","outputOptions","mimeType"],p);const m=a(e,["outputCompressionQuality"]);if(t!==void 0&&m!=null&&u(t,["parameters","outputOptions","compressionQuality"],m),a(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function qd(n,e){const t={},o=a(e,["model"]);o!=null&&u(t,["_url","model"],k(n,o));const i=a(e,["prompt"]);i!=null&&u(t,["instances[0]","prompt"],i);const s=a(e,["config"]);return s!=null&&u(t,["config"],Od(n,s,t)),t}function Hd(n,e){const t={},o=a(e,["model"]);o!=null&&u(t,["_url","name"],k(n,o));const i=a(e,["config"]);return i!=null&&u(t,["config"],i),t}function Wd(n,e,t){const o={},i=a(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);const s=a(e,["pageToken"]);t!==void 0&&s!=null&&u(t,["_query","pageToken"],s);const r=a(e,["filter"]);t!==void 0&&r!=null&&u(t,["_query","filter"],r);const l=a(e,["queryBase"]);return t!==void 0&&l!=null&&u(t,["_url","models_url"],Sr(n,l)),o}function $d(n,e){const t={},o=a(e,["config"]);return o!=null&&u(t,["config"],Wd(n,o,t)),t}function Kd(n,e,t){const o={},i=a(e,["displayName"]);t!==void 0&&i!=null&&u(t,["displayName"],i);const s=a(e,["description"]);return t!==void 0&&s!=null&&u(t,["description"],s),o}function Yd(n,e){const t={},o=a(e,["model"]);o!=null&&u(t,["_url","name"],k(n,o));const i=a(e,["config"]);return i!=null&&u(t,["config"],Kd(n,i,t)),t}function Jd(n,e){const t={},o=a(e,["model"]);o!=null&&u(t,["_url","name"],k(n,o));const i=a(e,["config"]);return i!=null&&u(t,["config"],i),t}function zd(n,e){const t={};if(a(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function Xd(n,e){const t={},o=a(e,["model"]);o!=null&&u(t,["_url","model"],k(n,o));const i=a(e,["contents"]);if(i!=null){let r=ge(n,i);Array.isArray(r)&&(r=r.map(l=>Kt(n,l))),u(t,["contents"],r)}const s=a(e,["config"]);return s!=null&&u(t,["config"],zd(n,s)),t}function Zd(n,e){const t={};if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=a(e,["imageBytes"]);o!=null&&u(t,["bytesBase64Encoded"],ve(n,o));const i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function Qd(n,e,t){const o={},i=a(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&u(t,["parameters","sampleCount"],i),a(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=a(e,["durationSeconds"]);if(t!==void 0&&s!=null&&u(t,["parameters","durationSeconds"],s),a(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=a(e,["aspectRatio"]);if(t!==void 0&&r!=null&&u(t,["parameters","aspectRatio"],r),a(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const l=a(e,["personGeneration"]);if(t!==void 0&&l!=null&&u(t,["parameters","personGeneration"],l),a(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=a(e,["negativePrompt"]);if(t!==void 0&&d!=null&&u(t,["parameters","negativePrompt"],d),a(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function jd(n,e){const t={},o=a(e,["model"]);o!=null&&u(t,["_url","model"],k(n,o));const i=a(e,["prompt"]);i!=null&&u(t,["instances[0]","prompt"],i);const s=a(e,["image"]);s!=null&&u(t,["instances[0]","image"],Zd(n,s));const r=a(e,["config"]);return r!=null&&u(t,["config"],Qd(n,r,t)),t}function ef(n,e){const t={},o=a(e,["videoMetadata"]);o!=null&&u(t,["videoMetadata"],o);const i=a(e,["thought"]);i!=null&&u(t,["thought"],i);const s=a(e,["codeExecutionResult"]);s!=null&&u(t,["codeExecutionResult"],s);const r=a(e,["executableCode"]);r!=null&&u(t,["executableCode"],r);const l=a(e,["fileData"]);l!=null&&u(t,["fileData"],l);const d=a(e,["functionCall"]);d!=null&&u(t,["functionCall"],d);const c=a(e,["functionResponse"]);c!=null&&u(t,["functionResponse"],c);const f=a(e,["inlineData"]);f!=null&&u(t,["inlineData"],f);const h=a(e,["text"]);return h!=null&&u(t,["text"],h),t}function We(n,e){const t={},o=a(e,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>ef(n,r))),u(t,["parts"],s)}const i=a(e,["role"]);return i!=null&&u(t,["role"],i),t}function tf(n,e){const t={},o=a(e,["featureSelectionPreference"]);return o!=null&&u(t,["featureSelectionPreference"],o),t}function nf(n,e){const t={},o=a(e,["method"]);o!=null&&u(t,["method"],o);const i=a(e,["category"]);i!=null&&u(t,["category"],i);const s=a(e,["threshold"]);return s!=null&&u(t,["threshold"],s),t}function of(){return{}}function sf(n,e){const t={},o=a(e,["mode"]);o!=null&&u(t,["mode"],o);const i=a(e,["dynamicThreshold"]);return i!=null&&u(t,["dynamicThreshold"],i),t}function rf(n,e){const t={},o=a(e,["dynamicRetrievalConfig"]);return o!=null&&u(t,["dynamicRetrievalConfig"],sf(n,o)),t}function af(){return{}}function lf(n,e){const t={},o=a(e,["apiKeyString"]);return o!=null&&u(t,["apiKeyString"],o),t}function uf(n,e){const t={},o=a(e,["apiKeyConfig"]);o!=null&&u(t,["apiKeyConfig"],lf(n,o));const i=a(e,["authType"]);i!=null&&u(t,["authType"],i);const s=a(e,["googleServiceAccountConfig"]);s!=null&&u(t,["googleServiceAccountConfig"],s);const r=a(e,["httpBasicAuthConfig"]);r!=null&&u(t,["httpBasicAuthConfig"],r);const l=a(e,["oauthConfig"]);l!=null&&u(t,["oauthConfig"],l);const d=a(e,["oidcConfig"]);return d!=null&&u(t,["oidcConfig"],d),t}function cf(n,e){const t={},o=a(e,["authConfig"]);return o!=null&&u(t,["authConfig"],uf(n,o)),t}function wr(n,e){const t={},o=a(e,["retrieval"]);o!=null&&u(t,["retrieval"],o),a(e,["googleSearch"])!=null&&u(t,["googleSearch"],of());const s=a(e,["googleSearchRetrieval"]);s!=null&&u(t,["googleSearchRetrieval"],rf(n,s)),a(e,["enterpriseWebSearch"])!=null&&u(t,["enterpriseWebSearch"],af());const l=a(e,["googleMaps"]);l!=null&&u(t,["googleMaps"],cf(n,l));const d=a(e,["codeExecution"]);d!=null&&u(t,["codeExecution"],d);const c=a(e,["functionDeclarations"]);return c!=null&&u(t,["functionDeclarations"],c),t}function df(n,e){const t={},o=a(e,["mode"]);o!=null&&u(t,["mode"],o);const i=a(e,["allowedFunctionNames"]);return i!=null&&u(t,["allowedFunctionNames"],i),t}function ff(n,e){const t={},o=a(e,["latitude"]);o!=null&&u(t,["latitude"],o);const i=a(e,["longitude"]);return i!=null&&u(t,["longitude"],i),t}function hf(n,e){const t={},o=a(e,["latLng"]);return o!=null&&u(t,["latLng"],ff(n,o)),t}function pf(n,e){const t={},o=a(e,["functionCallingConfig"]);o!=null&&u(t,["functionCallingConfig"],df(n,o));const i=a(e,["retrievalConfig"]);return i!=null&&u(t,["retrievalConfig"],hf(n,i)),t}function mf(n,e){const t={},o=a(e,["voiceName"]);return o!=null&&u(t,["voiceName"],o),t}function gf(n,e){const t={},o=a(e,["prebuiltVoiceConfig"]);return o!=null&&u(t,["prebuiltVoiceConfig"],mf(n,o)),t}function yf(n,e){const t={},o=a(e,["voiceConfig"]);o!=null&&u(t,["voiceConfig"],gf(n,o));const i=a(e,["languageCode"]);return i!=null&&u(t,["languageCode"],i),t}function vf(n,e){const t={},o=a(e,["includeThoughts"]);o!=null&&u(t,["includeThoughts"],o);const i=a(e,["thinkingBudget"]);return i!=null&&u(t,["thinkingBudget"],i),t}function Tf(n,e,t){const o={},i=a(e,["systemInstruction"]);t!==void 0&&i!=null&&u(t,["systemInstruction"],We(n,J(n,i)));const s=a(e,["temperature"]);s!=null&&u(o,["temperature"],s);const r=a(e,["topP"]);r!=null&&u(o,["topP"],r);const l=a(e,["topK"]);l!=null&&u(o,["topK"],l);const d=a(e,["candidateCount"]);d!=null&&u(o,["candidateCount"],d);const c=a(e,["maxOutputTokens"]);c!=null&&u(o,["maxOutputTokens"],c);const f=a(e,["stopSequences"]);f!=null&&u(o,["stopSequences"],f);const h=a(e,["responseLogprobs"]);h!=null&&u(o,["responseLogprobs"],h);const p=a(e,["logprobs"]);p!=null&&u(o,["logprobs"],p);const m=a(e,["presencePenalty"]);m!=null&&u(o,["presencePenalty"],m);const y=a(e,["frequencyPenalty"]);y!=null&&u(o,["frequencyPenalty"],y);const g=a(e,["seed"]);g!=null&&u(o,["seed"],g);const T=a(e,["responseMimeType"]);T!=null&&u(o,["responseMimeType"],T);const E=a(e,["responseSchema"]);E!=null&&u(o,["responseSchema"],Tr(n,E));const S=a(e,["routingConfig"]);S!=null&&u(o,["routingConfig"],S);const x=a(e,["modelSelectionConfig"]);x!=null&&u(o,["modelConfig"],tf(n,x));const A=a(e,["safetySettings"]);if(t!==void 0&&A!=null){let O=A;Array.isArray(O)&&(O=O.map(Re=>nf(n,Re))),u(t,["safetySettings"],O)}const P=a(e,["tools"]);if(t!==void 0&&P!=null){let O=Wt(n,P);Array.isArray(O)&&(O=O.map(Re=>wr(n,Ht(n,Re)))),u(t,["tools"],O)}const w=a(e,["toolConfig"]);t!==void 0&&w!=null&&u(t,["toolConfig"],pf(n,w));const M=a(e,["labels"]);t!==void 0&&M!=null&&u(t,["labels"],M);const _=a(e,["cachedContent"]);t!==void 0&&_!=null&&u(t,["cachedContent"],ye(n,_));const N=a(e,["responseModalities"]);N!=null&&u(o,["responseModalities"],N);const D=a(e,["mediaResolution"]);D!=null&&u(o,["mediaResolution"],D);const V=a(e,["speechConfig"]);V!=null&&u(o,["speechConfig"],yf(n,Cr(n,V)));const X=a(e,["audioTimestamp"]);X!=null&&u(o,["audioTimestamp"],X);const Y=a(e,["thinkingConfig"]);return Y!=null&&u(o,["thinkingConfig"],vf(n,Y)),o}function Li(n,e){const t={},o=a(e,["model"]);o!=null&&u(t,["_url","model"],k(n,o));const i=a(e,["contents"]);if(i!=null){let r=ge(n,i);Array.isArray(r)&&(r=r.map(l=>We(n,l))),u(t,["contents"],r)}const s=a(e,["config"]);return s!=null&&u(t,["generationConfig"],Tf(n,s,t)),t}function Cf(n,e,t){const o={},i=a(e,["taskType"]);t!==void 0&&i!=null&&u(t,["instances[]","task_type"],i);const s=a(e,["title"]);t!==void 0&&s!=null&&u(t,["instances[]","title"],s);const r=a(e,["outputDimensionality"]);t!==void 0&&r!=null&&u(t,["parameters","outputDimensionality"],r);const l=a(e,["mimeType"]);t!==void 0&&l!=null&&u(t,["instances[]","mimeType"],l);const d=a(e,["autoTruncate"]);return t!==void 0&&d!=null&&u(t,["parameters","autoTruncate"],d),o}function Ef(n,e){const t={},o=a(e,["model"]);o!=null&&u(t,["_url","model"],k(n,o));const i=a(e,["contents"]);i!=null&&u(t,["instances[]","content"],vr(n,i));const s=a(e,["config"]);return s!=null&&u(t,["config"],Cf(n,s,t)),t}function xf(n,e,t){const o={},i=a(e,["outputGcsUri"]);t!==void 0&&i!=null&&u(t,["parameters","storageUri"],i);const s=a(e,["negativePrompt"]);t!==void 0&&s!=null&&u(t,["parameters","negativePrompt"],s);const r=a(e,["numberOfImages"]);t!==void 0&&r!=null&&u(t,["parameters","sampleCount"],r);const l=a(e,["aspectRatio"]);t!==void 0&&l!=null&&u(t,["parameters","aspectRatio"],l);const d=a(e,["guidanceScale"]);t!==void 0&&d!=null&&u(t,["parameters","guidanceScale"],d);const c=a(e,["seed"]);t!==void 0&&c!=null&&u(t,["parameters","seed"],c);const f=a(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&u(t,["parameters","safetySetting"],f);const h=a(e,["personGeneration"]);t!==void 0&&h!=null&&u(t,["parameters","personGeneration"],h);const p=a(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&u(t,["parameters","includeSafetyAttributes"],p);const m=a(e,["includeRaiReason"]);t!==void 0&&m!=null&&u(t,["parameters","includeRaiReason"],m);const y=a(e,["language"]);t!==void 0&&y!=null&&u(t,["parameters","language"],y);const g=a(e,["outputMimeType"]);t!==void 0&&g!=null&&u(t,["parameters","outputOptions","mimeType"],g);const T=a(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&u(t,["parameters","outputOptions","compressionQuality"],T);const E=a(e,["addWatermark"]);t!==void 0&&E!=null&&u(t,["parameters","addWatermark"],E);const S=a(e,["enhancePrompt"]);return t!==void 0&&S!=null&&u(t,["parameters","enhancePrompt"],S),o}function Sf(n,e){const t={},o=a(e,["model"]);o!=null&&u(t,["_url","model"],k(n,o));const i=a(e,["prompt"]);i!=null&&u(t,["instances[0]","prompt"],i);const s=a(e,["config"]);return s!=null&&u(t,["config"],xf(n,s,t)),t}function Af(n,e){const t={},o=a(e,["model"]);o!=null&&u(t,["_url","name"],k(n,o));const i=a(e,["config"]);return i!=null&&u(t,["config"],i),t}function Pf(n,e,t){const o={},i=a(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);const s=a(e,["pageToken"]);t!==void 0&&s!=null&&u(t,["_query","pageToken"],s);const r=a(e,["filter"]);t!==void 0&&r!=null&&u(t,["_query","filter"],r);const l=a(e,["queryBase"]);return t!==void 0&&l!=null&&u(t,["_url","models_url"],Sr(n,l)),o}function wf(n,e){const t={},o=a(e,["config"]);return o!=null&&u(t,["config"],Pf(n,o,t)),t}function Mf(n,e,t){const o={},i=a(e,["displayName"]);t!==void 0&&i!=null&&u(t,["displayName"],i);const s=a(e,["description"]);return t!==void 0&&s!=null&&u(t,["description"],s),o}function _f(n,e){const t={},o=a(e,["model"]);o!=null&&u(t,["_url","model"],k(n,o));const i=a(e,["config"]);return i!=null&&u(t,["config"],Mf(n,i,t)),t}function If(n,e){const t={},o=a(e,["model"]);o!=null&&u(t,["_url","name"],k(n,o));const i=a(e,["config"]);return i!=null&&u(t,["config"],i),t}function Rf(n,e,t){const o={},i=a(e,["systemInstruction"]);t!==void 0&&i!=null&&u(t,["systemInstruction"],We(n,J(n,i)));const s=a(e,["tools"]);if(t!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(d=>wr(n,d))),u(t,["tools"],l)}const r=a(e,["generationConfig"]);return t!==void 0&&r!=null&&u(t,["generationConfig"],r),o}function Df(n,e){const t={},o=a(e,["model"]);o!=null&&u(t,["_url","model"],k(n,o));const i=a(e,["contents"]);if(i!=null){let r=ge(n,i);Array.isArray(r)&&(r=r.map(l=>We(n,l))),u(t,["contents"],r)}const s=a(e,["config"]);return s!=null&&u(t,["config"],Rf(n,s,t)),t}function Nf(n,e){const t={},o=a(e,["model"]);o!=null&&u(t,["_url","model"],k(n,o));const i=a(e,["contents"]);if(i!=null){let r=ge(n,i);Array.isArray(r)&&(r=r.map(l=>We(n,l))),u(t,["contents"],r)}const s=a(e,["config"]);return s!=null&&u(t,["config"],s),t}function Vf(n,e){const t={},o=a(e,["gcsUri"]);o!=null&&u(t,["gcsUri"],o);const i=a(e,["imageBytes"]);i!=null&&u(t,["bytesBase64Encoded"],ve(n,i));const s=a(e,["mimeType"]);return s!=null&&u(t,["mimeType"],s),t}function bf(n,e,t){const o={},i=a(e,["numberOfVideos"]);t!==void 0&&i!=null&&u(t,["parameters","sampleCount"],i);const s=a(e,["outputGcsUri"]);t!==void 0&&s!=null&&u(t,["parameters","storageUri"],s);const r=a(e,["fps"]);t!==void 0&&r!=null&&u(t,["parameters","fps"],r);const l=a(e,["durationSeconds"]);t!==void 0&&l!=null&&u(t,["parameters","durationSeconds"],l);const d=a(e,["seed"]);t!==void 0&&d!=null&&u(t,["parameters","seed"],d);const c=a(e,["aspectRatio"]);t!==void 0&&c!=null&&u(t,["parameters","aspectRatio"],c);const f=a(e,["resolution"]);t!==void 0&&f!=null&&u(t,["parameters","resolution"],f);const h=a(e,["personGeneration"]);t!==void 0&&h!=null&&u(t,["parameters","personGeneration"],h);const p=a(e,["pubsubTopic"]);t!==void 0&&p!=null&&u(t,["parameters","pubsubTopic"],p);const m=a(e,["negativePrompt"]);t!==void 0&&m!=null&&u(t,["parameters","negativePrompt"],m);const y=a(e,["enhancePrompt"]);return t!==void 0&&y!=null&&u(t,["parameters","enhancePrompt"],y),o}function Lf(n,e){const t={},o=a(e,["model"]);o!=null&&u(t,["_url","model"],k(n,o));const i=a(e,["prompt"]);i!=null&&u(t,["instances[0]","prompt"],i);const s=a(e,["image"]);s!=null&&u(t,["instances[0]","image"],Vf(n,s));const r=a(e,["config"]);return r!=null&&u(t,["config"],bf(n,r,t)),t}function Ff(n,e){const t={},o=a(e,["thought"]);o!=null&&u(t,["thought"],o);const i=a(e,["codeExecutionResult"]);i!=null&&u(t,["codeExecutionResult"],i);const s=a(e,["executableCode"]);s!=null&&u(t,["executableCode"],s);const r=a(e,["fileData"]);r!=null&&u(t,["fileData"],r);const l=a(e,["functionCall"]);l!=null&&u(t,["functionCall"],l);const d=a(e,["functionResponse"]);d!=null&&u(t,["functionResponse"],d);const c=a(e,["inlineData"]);c!=null&&u(t,["inlineData"],c);const f=a(e,["text"]);return f!=null&&u(t,["text"],f),t}function kf(n,e){const t={},o=a(e,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>Ff(n,r))),u(t,["parts"],s)}const i=a(e,["role"]);return i!=null&&u(t,["role"],i),t}function Uf(n,e){const t={},o=a(e,["citationSources"]);return o!=null&&u(t,["citations"],o),t}function Bf(n,e){const t={},o=a(e,["content"]);o!=null&&u(t,["content"],kf(n,o));const i=a(e,["citationMetadata"]);i!=null&&u(t,["citationMetadata"],Uf(n,i));const s=a(e,["tokenCount"]);s!=null&&u(t,["tokenCount"],s);const r=a(e,["finishReason"]);r!=null&&u(t,["finishReason"],r);const l=a(e,["avgLogprobs"]);l!=null&&u(t,["avgLogprobs"],l);const d=a(e,["groundingMetadata"]);d!=null&&u(t,["groundingMetadata"],d);const c=a(e,["index"]);c!=null&&u(t,["index"],c);const f=a(e,["logprobsResult"]);f!=null&&u(t,["logprobsResult"],f);const h=a(e,["safetyRatings"]);return h!=null&&u(t,["safetyRatings"],h),t}function Fi(n,e){const t={},o=a(e,["candidates"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(d=>Bf(n,d))),u(t,["candidates"],l)}const i=a(e,["modelVersion"]);i!=null&&u(t,["modelVersion"],i);const s=a(e,["promptFeedback"]);s!=null&&u(t,["promptFeedback"],s);const r=a(e,["usageMetadata"]);return r!=null&&u(t,["usageMetadata"],r),t}function Gf(n,e){const t={},o=a(e,["values"]);return o!=null&&u(t,["values"],o),t}function Of(){return{}}function qf(n,e){const t={},o=a(e,["embeddings"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>Gf(n,r))),u(t,["embeddings"],s)}return a(e,["metadata"])!=null&&u(t,["metadata"],Of()),t}function Hf(n,e){const t={},o=a(e,["bytesBase64Encoded"]);o!=null&&u(t,["imageBytes"],ve(n,o));const i=a(e,["mimeType"]);return i!=null&&u(t,["mimeType"],i),t}function Mr(n,e){const t={},o=a(e,["safetyAttributes","categories"]);o!=null&&u(t,["categories"],o);const i=a(e,["safetyAttributes","scores"]);i!=null&&u(t,["scores"],i);const s=a(e,["contentType"]);return s!=null&&u(t,["contentType"],s),t}function Wf(n,e){const t={},o=a(e,["_self"]);o!=null&&u(t,["image"],Hf(n,o));const i=a(e,["raiFilteredReason"]);i!=null&&u(t,["raiFilteredReason"],i);const s=a(e,["_self"]);return s!=null&&u(t,["safetyAttributes"],Mr(n,s)),t}function $f(n,e){const t={},o=a(e,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>Wf(n,r))),u(t,["generatedImages"],s)}const i=a(e,["positivePromptSafetyAttributes"]);return i!=null&&u(t,["positivePromptSafetyAttributes"],Mr(n,i)),t}function Kf(n,e){const t={},o=a(e,["baseModel"]);o!=null&&u(t,["baseModel"],o);const i=a(e,["createTime"]);i!=null&&u(t,["createTime"],i);const s=a(e,["updateTime"]);return s!=null&&u(t,["updateTime"],s),t}function In(n,e){const t={},o=a(e,["name"]);o!=null&&u(t,["name"],o);const i=a(e,["displayName"]);i!=null&&u(t,["displayName"],i);const s=a(e,["description"]);s!=null&&u(t,["description"],s);const r=a(e,["version"]);r!=null&&u(t,["version"],r);const l=a(e,["_self"]);l!=null&&u(t,["tunedModelInfo"],Kf(n,l));const d=a(e,["inputTokenLimit"]);d!=null&&u(t,["inputTokenLimit"],d);const c=a(e,["outputTokenLimit"]);c!=null&&u(t,["outputTokenLimit"],c);const f=a(e,["supportedGenerationMethods"]);return f!=null&&u(t,["supportedActions"],f),t}function Yf(n,e){const t={},o=a(e,["nextPageToken"]);o!=null&&u(t,["nextPageToken"],o);const i=a(e,["_self"]);if(i!=null){let s=Ar(n,i);Array.isArray(s)&&(s=s.map(r=>In(n,r))),u(t,["models"],s)}return t}function Jf(){return{}}function zf(n,e){const t={},o=a(e,["totalTokens"]);o!=null&&u(t,["totalTokens"],o);const i=a(e,["cachedContentTokenCount"]);return i!=null&&u(t,["cachedContentTokenCount"],i),t}function Xf(n,e){const t={},o=a(e,["video","uri"]);o!=null&&u(t,["uri"],o);const i=a(e,["video","encodedVideo"]);i!=null&&u(t,["videoBytes"],ve(n,i));const s=a(e,["encoding"]);return s!=null&&u(t,["mimeType"],s),t}function Zf(n,e){const t={},o=a(e,["_self"]);return o!=null&&u(t,["video"],Xf(n,o)),t}function Qf(n,e){const t={},o=a(e,["generatedSamples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Zf(n,l))),u(t,["generatedVideos"],r)}const i=a(e,["raiMediaFilteredCount"]);i!=null&&u(t,["raiMediaFilteredCount"],i);const s=a(e,["raiMediaFilteredReasons"]);return s!=null&&u(t,["raiMediaFilteredReasons"],s),t}function jf(n,e){const t={},o=a(e,["name"]);o!=null&&u(t,["name"],o);const i=a(e,["metadata"]);i!=null&&u(t,["metadata"],i);const s=a(e,["done"]);s!=null&&u(t,["done"],s);const r=a(e,["error"]);r!=null&&u(t,["error"],r);const l=a(e,["response","generateVideoResponse"]);return l!=null&&u(t,["response"],Qf(n,l)),t}function eh(n,e){const t={},o=a(e,["videoMetadata"]);o!=null&&u(t,["videoMetadata"],o);const i=a(e,["thought"]);i!=null&&u(t,["thought"],i);const s=a(e,["codeExecutionResult"]);s!=null&&u(t,["codeExecutionResult"],s);const r=a(e,["executableCode"]);r!=null&&u(t,["executableCode"],r);const l=a(e,["fileData"]);l!=null&&u(t,["fileData"],l);const d=a(e,["functionCall"]);d!=null&&u(t,["functionCall"],d);const c=a(e,["functionResponse"]);c!=null&&u(t,["functionResponse"],c);const f=a(e,["inlineData"]);f!=null&&u(t,["inlineData"],f);const h=a(e,["text"]);return h!=null&&u(t,["text"],h),t}function th(n,e){const t={},o=a(e,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>eh(n,r))),u(t,["parts"],s)}const i=a(e,["role"]);return i!=null&&u(t,["role"],i),t}function nh(n,e){const t={},o=a(e,["citations"]);return o!=null&&u(t,["citations"],o),t}function oh(n,e){const t={},o=a(e,["content"]);o!=null&&u(t,["content"],th(n,o));const i=a(e,["citationMetadata"]);i!=null&&u(t,["citationMetadata"],nh(n,i));const s=a(e,["finishMessage"]);s!=null&&u(t,["finishMessage"],s);const r=a(e,["finishReason"]);r!=null&&u(t,["finishReason"],r);const l=a(e,["avgLogprobs"]);l!=null&&u(t,["avgLogprobs"],l);const d=a(e,["groundingMetadata"]);d!=null&&u(t,["groundingMetadata"],d);const c=a(e,["index"]);c!=null&&u(t,["index"],c);const f=a(e,["logprobsResult"]);f!=null&&u(t,["logprobsResult"],f);const h=a(e,["safetyRatings"]);return h!=null&&u(t,["safetyRatings"],h),t}function ki(n,e){const t={},o=a(e,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>oh(n,f))),u(t,["candidates"],c)}const i=a(e,["createTime"]);i!=null&&u(t,["createTime"],i);const s=a(e,["responseId"]);s!=null&&u(t,["responseId"],s);const r=a(e,["modelVersion"]);r!=null&&u(t,["modelVersion"],r);const l=a(e,["promptFeedback"]);l!=null&&u(t,["promptFeedback"],l);const d=a(e,["usageMetadata"]);return d!=null&&u(t,["usageMetadata"],d),t}function ih(n,e){const t={},o=a(e,["truncated"]);o!=null&&u(t,["truncated"],o);const i=a(e,["token_count"]);return i!=null&&u(t,["tokenCount"],i),t}function sh(n,e){const t={},o=a(e,["values"]);o!=null&&u(t,["values"],o);const i=a(e,["statistics"]);return i!=null&&u(t,["statistics"],ih(n,i)),t}function rh(n,e){const t={},o=a(e,["billableCharacterCount"]);return o!=null&&u(t,["billableCharacterCount"],o),t}function ah(n,e){const t={},o=a(e,["predictions[]","embeddings"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>sh(n,r))),u(t,["embeddings"],s)}const i=a(e,["metadata"]);return i!=null&&u(t,["metadata"],rh(n,i)),t}function lh(n,e){const t={},o=a(e,["gcsUri"]);o!=null&&u(t,["gcsUri"],o);const i=a(e,["bytesBase64Encoded"]);i!=null&&u(t,["imageBytes"],ve(n,i));const s=a(e,["mimeType"]);return s!=null&&u(t,["mimeType"],s),t}function _r(n,e){const t={},o=a(e,["safetyAttributes","categories"]);o!=null&&u(t,["categories"],o);const i=a(e,["safetyAttributes","scores"]);i!=null&&u(t,["scores"],i);const s=a(e,["contentType"]);return s!=null&&u(t,["contentType"],s),t}function uh(n,e){const t={},o=a(e,["_self"]);o!=null&&u(t,["image"],lh(n,o));const i=a(e,["raiFilteredReason"]);i!=null&&u(t,["raiFilteredReason"],i);const s=a(e,["_self"]);s!=null&&u(t,["safetyAttributes"],_r(n,s));const r=a(e,["prompt"]);return r!=null&&u(t,["enhancedPrompt"],r),t}function ch(n,e){const t={},o=a(e,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>uh(n,r))),u(t,["generatedImages"],s)}const i=a(e,["positivePromptSafetyAttributes"]);return i!=null&&u(t,["positivePromptSafetyAttributes"],_r(n,i)),t}function dh(n,e){const t={},o=a(e,["endpoint"]);o!=null&&u(t,["name"],o);const i=a(e,["deployedModelId"]);return i!=null&&u(t,["deployedModelId"],i),t}function fh(n,e){const t={},o=a(e,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&u(t,["baseModel"],o);const i=a(e,["createTime"]);i!=null&&u(t,["createTime"],i);const s=a(e,["updateTime"]);return s!=null&&u(t,["updateTime"],s),t}function Rn(n,e){const t={},o=a(e,["name"]);o!=null&&u(t,["name"],o);const i=a(e,["displayName"]);i!=null&&u(t,["displayName"],i);const s=a(e,["description"]);s!=null&&u(t,["description"],s);const r=a(e,["versionId"]);r!=null&&u(t,["version"],r);const l=a(e,["deployedModels"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>dh(n,h))),u(t,["endpoints"],f)}const d=a(e,["labels"]);d!=null&&u(t,["labels"],d);const c=a(e,["_self"]);return c!=null&&u(t,["tunedModelInfo"],fh(n,c)),t}function hh(n,e){const t={},o=a(e,["nextPageToken"]);o!=null&&u(t,["nextPageToken"],o);const i=a(e,["_self"]);if(i!=null){let s=Ar(n,i);Array.isArray(s)&&(s=s.map(r=>Rn(n,r))),u(t,["models"],s)}return t}function ph(){return{}}function mh(n,e){const t={},o=a(e,["totalTokens"]);return o!=null&&u(t,["totalTokens"],o),t}function gh(n,e){const t={},o=a(e,["tokensInfo"]);return o!=null&&u(t,["tokensInfo"],o),t}function yh(n,e){const t={},o=a(e,["gcsUri"]);o!=null&&u(t,["uri"],o);const i=a(e,["bytesBase64Encoded"]);i!=null&&u(t,["videoBytes"],ve(n,i));const s=a(e,["mimeType"]);return s!=null&&u(t,["mimeType"],s),t}function vh(n,e){const t={},o=a(e,["_self"]);return o!=null&&u(t,["video"],yh(n,o)),t}function Th(n,e){const t={},o=a(e,["videos"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>vh(n,l))),u(t,["generatedVideos"],r)}const i=a(e,["raiMediaFilteredCount"]);i!=null&&u(t,["raiMediaFilteredCount"],i);const s=a(e,["raiMediaFilteredReasons"]);return s!=null&&u(t,["raiMediaFilteredReasons"],s),t}function Ch(n,e){const t={},o=a(e,["name"]);o!=null&&u(t,["name"],o);const i=a(e,["metadata"]);i!=null&&u(t,["metadata"],i);const s=a(e,["done"]);s!=null&&u(t,["done"],s);const r=a(e,["error"]);r!=null&&u(t,["error"],r);const l=a(e,["response"]);return l!=null&&u(t,["response"],Th(n,l)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Eh="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function xh(n,e,t){const o=new oc;let i;if(t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),n.isVertexAI()){const s=Pd(n,i);Object.assign(o,s)}else{const s=Ad(n,i);Object.assign(o,s)}e(o)}class Sh{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o}async connect(e){var t,o,i,s;const r=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion();let d;const c=Mh(this.apiClient.getDefaultHeaders());if(this.apiClient.isVertexAI())d=`${r}/ws/google.cloud.aiplatform.${l}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(c);else{const A=this.apiClient.getApiKey();d=`${r}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateContent?key=${A}`}let f=()=>{};const h=new Promise(A=>{f=A}),p=e.callbacks,m=function(){var A;(A=p==null?void 0:p.onopen)===null||A===void 0||A.call(p),f({})},y=this.apiClient,g={onopen:m,onmessage:A=>{xh(y,p.onmessage,A)},onerror:(t=p==null?void 0:p.onerror)!==null&&t!==void 0?t:function(A){},onclose:(o=p==null?void 0:p.onclose)!==null&&o!==void 0?o:function(A){}},T=this.webSocketFactory.create(d,wh(c),g);T.connect(),await h;let E=k(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&E.startsWith("publishers/")){const A=this.apiClient.getProject(),P=this.apiClient.getLocation();E=`projects/${A}/locations/${P}/`+E}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Lt.AUDIO]}:e.config.responseModalities=[Lt.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const x={model:E,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=Zc(this.apiClient,x):S=Xc(this.apiClient,x),delete S.config,T.send(JSON.stringify(S)),new Ph(T,this.apiClient)}}const Ah={turnComplete:!0};class Ph{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let o=[];try{o=ge(e,t.turns),e.isVertexAI()?o=o.map(i=>We(e,i)):o=o.map(i=>Kt(e,i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:o,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let o=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?o=t.functionResponses:o=[t.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const s of o){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(Eh)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},Ah),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:od(this.apiClient,e)}:t={realtimeInput:nd(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function wh(n){const e={};return n.forEach((t,o)=>{e[o]=t}),e}function Mh(n){const e=new Headers;for(const[t,o]of Object.entries(n))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _h extends ct{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>await this.generateContentInternal(t),this.generateContentStream=async t=>await this.generateContentStreamInternal(t),this.generateImages=async t=>await this.generateImagesInternal(t).then(o=>{var i;let s;const r=[];if(o!=null&&o.generatedImages)for(const d of o.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((i=d==null?void 0:d.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=d==null?void 0:d.safetyAttributes:r.push(d);let l;return s?l={generatedImages:r,positivePromptSafetyAttributes:s}:l={generatedImages:r},l}),this.list=async t=>{var o;const r={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!r.config.queryBase){if(!((o=r.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");r.config.filter="labels.tune-type:*"}return new $t(Ge.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(r),r)}}async generateContentInternal(e){var t,o,i,s;let r,l="",d={};if(this.apiClient.isVertexAI()){const c=Li(this.apiClient,e);return l=R("{model}:generateContent",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>{const h=ki(this.apiClient,f),p=new mt;return Object.assign(p,h),p})}else{const c=bi(this.apiClient,e);return l=R("{model}:generateContent",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),r.then(f=>{const h=Fi(this.apiClient,f),p=new mt;return Object.assign(p,h),p})}}async generateContentStreamInternal(e){var t,o,i,s;let r,l="",d={};if(this.apiClient.isVertexAI()){const c=Li(this.apiClient,e);l=R("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c.config,delete c._url,delete c._query;const f=this.apiClient;return r=f.requestStream({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),r.then(function(h){return Ft(this,arguments,function*(){var p,m,y,g;try{for(var T=!0,E=Mn(h),S;S=yield H(E.next()),p=S.done,!p;T=!0){g=S.value,T=!1;const A=ki(f,yield H(g.json())),P=new mt;Object.assign(P,A),yield yield H(P)}}catch(x){m={error:x}}finally{try{!T&&!p&&(y=E.return)&&(yield H(y.call(E)))}finally{if(m)throw m.error}}})})}else{const c=bi(this.apiClient,e);l=R("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c.config,delete c._url,delete c._query;const f=this.apiClient;return r=f.requestStream({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),r.then(function(h){return Ft(this,arguments,function*(){var p,m,y,g;try{for(var T=!0,E=Mn(h),S;S=yield H(E.next()),p=S.done,!p;T=!0){g=S.value,T=!1;const A=Fi(f,yield H(g.json())),P=new mt;Object.assign(P,A),yield yield H(P)}}catch(x){m={error:x}}finally{try{!T&&!p&&(y=E.return)&&(yield H(y.call(E)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var t,o,i,s;let r,l="",d={};if(this.apiClient.isVertexAI()){const c=Ef(this.apiClient,e);return l=R("{model}:predict",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>{const h=ah(this.apiClient,f),p=new Ei;return Object.assign(p,h),p})}else{const c=Gd(this.apiClient,e);return l=R("{model}:batchEmbedContents",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),r.then(f=>{const h=qf(this.apiClient,f),p=new Ei;return Object.assign(p,h),p})}}async generateImagesInternal(e){var t,o,i,s;let r,l="",d={};if(this.apiClient.isVertexAI()){const c=Sf(this.apiClient,e);return l=R("{model}:predict",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>{const h=ch(this.apiClient,f),p=new xi;return Object.assign(p,h),p})}else{const c=qd(this.apiClient,e);return l=R("{model}:predict",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),r.then(f=>{const h=$f(this.apiClient,f),p=new xi;return Object.assign(p,h),p})}}async get(e){var t,o,i,s;let r,l="",d={};if(this.apiClient.isVertexAI()){const c=Af(this.apiClient,e);return l=R("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>Rn(this.apiClient,f))}else{const c=Hd(this.apiClient,e);return l=R("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),r.then(f=>In(this.apiClient,f))}}async listInternal(e){var t,o,i,s;let r,l="",d={};if(this.apiClient.isVertexAI()){const c=wf(this.apiClient,e);return l=R("{models_url}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>{const h=hh(this.apiClient,f),p=new Si;return Object.assign(p,h),p})}else{const c=$d(this.apiClient,e);return l=R("{models_url}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),r.then(f=>{const h=Yf(this.apiClient,f),p=new Si;return Object.assign(p,h),p})}}async update(e){var t,o,i,s;let r,l="",d={};if(this.apiClient.isVertexAI()){const c=_f(this.apiClient,e);return l=R("{model}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>Rn(this.apiClient,f))}else{const c=Yd(this.apiClient,e);return l=R("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),r.then(f=>In(this.apiClient,f))}}async delete(e){var t,o,i,s;let r,l="",d={};if(this.apiClient.isVertexAI()){const c=If(this.apiClient,e);return l=R("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(()=>{const f=ph(),h=new Ai;return Object.assign(h,f),h})}else{const c=Jd(this.apiClient,e);return l=R("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),r.then(()=>{const f=Jf(),h=new Ai;return Object.assign(h,f),h})}}async countTokens(e){var t,o,i,s;let r,l="",d={};if(this.apiClient.isVertexAI()){const c=Df(this.apiClient,e);return l=R("{model}:countTokens",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>{const h=mh(this.apiClient,f),p=new Pi;return Object.assign(p,h),p})}else{const c=Xd(this.apiClient,e);return l=R("{model}:countTokens",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),r.then(f=>{const h=zf(this.apiClient,f),p=new Pi;return Object.assign(p,h),p})}}async computeTokens(e){var t,o;let i,s="",r={};if(this.apiClient.isVertexAI()){const l=Nf(this.apiClient,e);return s=R("{model}:computeTokens",l._url),r=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>{const c=gh(this.apiClient,d),f=new ju;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,o,i,s;let r,l="",d={};if(this.apiClient.isVertexAI()){const c=Lf(this.apiClient,e);return l=R("{model}:predictLongRunning",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>Ch(this.apiClient,f))}else{const c=jd(this.apiClient,e);return l=R("{model}:predictLongRunning",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),r.then(f=>jf(this.apiClient,f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ih(n,e){const t={},o=a(e,["operationName"]);o!=null&&u(t,["_url","operationName"],o);const i=a(e,["config"]);return i!=null&&u(t,["config"],i),t}function Rh(n,e){const t={},o=a(e,["operationName"]);o!=null&&u(t,["_url","operationName"],o);const i=a(e,["config"]);return i!=null&&u(t,["config"],i),t}function Dh(n,e){const t={},o=a(e,["operationName"]);o!=null&&u(t,["operationName"],o);const i=a(e,["resourceName"]);i!=null&&u(t,["_url","resourceName"],i);const s=a(e,["config"]);return s!=null&&u(t,["config"],s),t}function Nh(n,e){const t={},o=a(e,["video","uri"]);o!=null&&u(t,["uri"],o);const i=a(e,["video","encodedVideo"]);i!=null&&u(t,["videoBytes"],ve(n,i));const s=a(e,["encoding"]);return s!=null&&u(t,["mimeType"],s),t}function Vh(n,e){const t={},o=a(e,["_self"]);return o!=null&&u(t,["video"],Nh(n,o)),t}function bh(n,e){const t={},o=a(e,["generatedSamples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Vh(n,l))),u(t,["generatedVideos"],r)}const i=a(e,["raiMediaFilteredCount"]);i!=null&&u(t,["raiMediaFilteredCount"],i);const s=a(e,["raiMediaFilteredReasons"]);return s!=null&&u(t,["raiMediaFilteredReasons"],s),t}function Lh(n,e){const t={},o=a(e,["name"]);o!=null&&u(t,["name"],o);const i=a(e,["metadata"]);i!=null&&u(t,["metadata"],i);const s=a(e,["done"]);s!=null&&u(t,["done"],s);const r=a(e,["error"]);r!=null&&u(t,["error"],r);const l=a(e,["response","generateVideoResponse"]);return l!=null&&u(t,["response"],bh(n,l)),t}function Fh(n,e){const t={},o=a(e,["gcsUri"]);o!=null&&u(t,["uri"],o);const i=a(e,["bytesBase64Encoded"]);i!=null&&u(t,["videoBytes"],ve(n,i));const s=a(e,["mimeType"]);return s!=null&&u(t,["mimeType"],s),t}function kh(n,e){const t={},o=a(e,["_self"]);return o!=null&&u(t,["video"],Fh(n,o)),t}function Uh(n,e){const t={},o=a(e,["videos"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>kh(n,l))),u(t,["generatedVideos"],r)}const i=a(e,["raiMediaFilteredCount"]);i!=null&&u(t,["raiMediaFilteredCount"],i);const s=a(e,["raiMediaFilteredReasons"]);return s!=null&&u(t,["raiMediaFilteredReasons"],s),t}function Ui(n,e){const t={},o=a(e,["name"]);o!=null&&u(t,["name"],o);const i=a(e,["metadata"]);i!=null&&u(t,["metadata"],i);const s=a(e,["done"]);s!=null&&u(t,["done"],s);const r=a(e,["error"]);r!=null&&u(t,["error"],r);const l=a(e,["response"]);return l!=null&&u(t,["response"],Uh(n,l)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bh extends ct{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,o=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let s;return o&&"httpOptions"in o&&(s=o.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:s}})}else return this.getVideosOperationInternal({operationName:t.name,config:o})}async getVideosOperationInternal(e){var t,o,i,s;let r,l="",d={};if(this.apiClient.isVertexAI()){const c=Rh(this.apiClient,e);return l=R("{operationName}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>Ui(this.apiClient,f))}else{const c=Ih(this.apiClient,e);return l=R("{operationName}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),r.then(f=>Lh(this.apiClient,f))}}async fetchPredictVideosOperationInternal(e){var t,o;let i,s="",r={};if(this.apiClient.isVertexAI()){const l=Dh(this.apiClient,e);return s=R("{resourceName}:fetchPredictOperation",l._url),r=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>Ui(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gh="Content-Type",Oh="X-Server-Timeout",qh="User-Agent",Hh="x-goog-api-client",Wh="0.13.0",$h=`google-genai-sdk/${Wh}`,Kh="v1beta1",Yh="v1beta",Bi=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Ir extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class Dn extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class Jh{constructor(e){var t,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:Kh,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:Yh,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,o){const i=[this.getRequestUrlInternal(t)];return o&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,o);if(e.queryParams)for(const[r,l]of Object.entries(e.queryParams))i.searchParams.append(r,String(l));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,t){const o=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(t))typeof s=="object"?o[i]=Object.assign(Object.assign({},o[i]),s):s!==void 0&&(o[i]=s);return o}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,o);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,o){if(t&&t.timeout||o){const i=new AbortController,s=i.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>i.abort(),t.timeout),o&&o.addEventListener("abort",()=>{i.abort()}),e.signal=s}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async i=>(await Gi(i),new wn(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async i=>(await Gi(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var t;return Ft(this,arguments,function*(){const i=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let r="";for(;;){const{done:l,value:d}=yield H(i.read());if(l){if(r.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=s.decode(d);try{const h=JSON.parse(c);if("error"in h){const p=JSON.parse(JSON.stringify(h.error)),m=p.status,y=p.code,g=`got status: ${m}. ${JSON.stringify(h)}`;if(y>=400&&y<500)throw new Ir(g);if(y>=500&&y<600)throw new Dn(g)}}catch(h){const p=h;if(p.name==="ClientError"||p.name==="ServerError")throw h}r+=c;let f=r.match(Bi);for(;f;){const h=f[1];try{const p=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield H(new wn(p)),r=r.slice(f[0].length),f=r.match(Bi)}catch(p){throw new Error(`exception parsing stream chunk ${h}. ${p}`)}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},t=$h+" "+this.clientOptions.userAgentExtra;return e[qh]=t,e[Hh]=t,e[Gh]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[o,i]of Object.entries(e.headers))t.append(o,i);e.timeout&&e.timeout>0&&t.append(Oh,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var o;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,r=await s.stat(e);i.sizeBytes=String(r.size);const l=(o=t==null?void 0:t.mimeType)!==null&&o!==void 0?o:r.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const d=await this.fetchUploadUrl(i,t);return s.upload(e,d,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var o;let i={};t!=null&&t.httpOptions?i=t.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},r=await this.request({path:R("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:i});if(!r||!(r!=null&&r.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const l=(o=r==null?void 0:r.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(l===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return l}}async function Gi(n){var e;if(n===void 0)throw new Dn("response is undefined");if(!n.ok){const t=n.status,o=n.statusText;let i;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await n.json():i={error:{message:await n.text(),code:n.status,status:n.statusText}};const s=`got status: ${t} ${o}. ${JSON.stringify(i)}`;throw t>=400&&t<500?new Ir(s):t>=500&&t<600?new Dn(s):new Error(s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zh(n,e){const t={},o=a(e,["name"]);o!=null&&u(t,["_url","name"],o);const i=a(e,["config"]);return i!=null&&u(t,["config"],i),t}function Xh(n,e,t){const o={},i=a(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);const s=a(e,["pageToken"]);t!==void 0&&s!=null&&u(t,["_query","pageToken"],s);const r=a(e,["filter"]);return t!==void 0&&r!=null&&u(t,["_query","filter"],r),o}function Zh(n,e){const t={},o=a(e,["config"]);return o!=null&&u(t,["config"],Xh(n,o,t)),t}function Qh(n,e){const t={},o=a(e,["textInput"]);o!=null&&u(t,["textInput"],o);const i=a(e,["output"]);return i!=null&&u(t,["output"],i),t}function jh(n,e){const t={};if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=a(e,["examples"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>Qh(n,s))),u(t,["examples","examples"],i)}return t}function ep(n,e,t){const o={};if(a(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=a(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&u(t,["displayName"],i),a(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=a(e,["epochCount"]);t!==void 0&&s!=null&&u(t,["tuningTask","hyperparameters","epochCount"],s);const r=a(e,["learningRateMultiplier"]);if(r!=null&&u(o,["tuningTask","hyperparameters","learningRateMultiplier"],r),a(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=a(e,["batchSize"]);t!==void 0&&l!=null&&u(t,["tuningTask","hyperparameters","batchSize"],l);const d=a(e,["learningRate"]);return t!==void 0&&d!=null&&u(t,["tuningTask","hyperparameters","learningRate"],d),o}function tp(n,e){const t={},o=a(e,["baseModel"]);o!=null&&u(t,["baseModel"],o);const i=a(e,["trainingDataset"]);i!=null&&u(t,["tuningTask","trainingData"],jh(n,i));const s=a(e,["config"]);return s!=null&&u(t,["config"],ep(n,s,t)),t}function np(n,e){const t={},o=a(e,["name"]);o!=null&&u(t,["_url","name"],o);const i=a(e,["config"]);return i!=null&&u(t,["config"],i),t}function op(n,e,t){const o={},i=a(e,["pageSize"]);t!==void 0&&i!=null&&u(t,["_query","pageSize"],i);const s=a(e,["pageToken"]);t!==void 0&&s!=null&&u(t,["_query","pageToken"],s);const r=a(e,["filter"]);return t!==void 0&&r!=null&&u(t,["_query","filter"],r),o}function ip(n,e){const t={},o=a(e,["config"]);return o!=null&&u(t,["config"],op(n,o,t)),t}function sp(n,e,t){const o={},i=a(e,["gcsUri"]);if(t!==void 0&&i!=null&&u(t,["supervisedTuningSpec","trainingDatasetUri"],i),a(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function rp(n,e){const t={},o=a(e,["gcsUri"]);return o!=null&&u(t,["validationDatasetUri"],o),t}function ap(n,e,t){const o={},i=a(e,["validationDataset"]);t!==void 0&&i!=null&&u(t,["supervisedTuningSpec"],rp(n,i));const s=a(e,["tunedModelDisplayName"]);t!==void 0&&s!=null&&u(t,["tunedModelDisplayName"],s);const r=a(e,["description"]);t!==void 0&&r!=null&&u(t,["description"],r);const l=a(e,["epochCount"]);t!==void 0&&l!=null&&u(t,["supervisedTuningSpec","hyperParameters","epochCount"],l);const d=a(e,["learningRateMultiplier"]);t!==void 0&&d!=null&&u(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],d);const c=a(e,["adapterSize"]);if(t!==void 0&&c!=null&&u(t,["supervisedTuningSpec","hyperParameters","adapterSize"],c),a(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return o}function lp(n,e){const t={},o=a(e,["baseModel"]);o!=null&&u(t,["baseModel"],o);const i=a(e,["trainingDataset"]);i!=null&&u(t,["supervisedTuningSpec","trainingDatasetUri"],sp(n,i,t));const s=a(e,["config"]);return s!=null&&u(t,["config"],ap(n,s,t)),t}function up(n,e){const t={},o=a(e,["name"]);o!=null&&u(t,["model"],o);const i=a(e,["name"]);return i!=null&&u(t,["endpoint"],i),t}function Rr(n,e){const t={},o=a(e,["name"]);o!=null&&u(t,["name"],o);const i=a(e,["state"]);i!=null&&u(t,["state"],Er(n,i));const s=a(e,["createTime"]);s!=null&&u(t,["createTime"],s);const r=a(e,["tuningTask","startTime"]);r!=null&&u(t,["startTime"],r);const l=a(e,["tuningTask","completeTime"]);l!=null&&u(t,["endTime"],l);const d=a(e,["updateTime"]);d!=null&&u(t,["updateTime"],d);const c=a(e,["description"]);c!=null&&u(t,["description"],c);const f=a(e,["baseModel"]);f!=null&&u(t,["baseModel"],f);const h=a(e,["_self"]);h!=null&&u(t,["tunedModel"],up(n,h));const p=a(e,["distillationSpec"]);p!=null&&u(t,["distillationSpec"],p);const m=a(e,["experiment"]);m!=null&&u(t,["experiment"],m);const y=a(e,["labels"]);y!=null&&u(t,["labels"],y);const g=a(e,["pipelineJob"]);g!=null&&u(t,["pipelineJob"],g);const T=a(e,["tunedModelDisplayName"]);return T!=null&&u(t,["tunedModelDisplayName"],T),t}function cp(n,e){const t={},o=a(e,["nextPageToken"]);o!=null&&u(t,["nextPageToken"],o);const i=a(e,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>Rr(n,r))),u(t,["tuningJobs"],s)}return t}function dp(n,e){const t={},o=a(e,["name"]);o!=null&&u(t,["name"],o);const i=a(e,["metadata"]);i!=null&&u(t,["metadata"],i);const s=a(e,["done"]);s!=null&&u(t,["done"],s);const r=a(e,["error"]);return r!=null&&u(t,["error"],r),t}function fp(n,e){const t={},o=a(e,["model"]);o!=null&&u(t,["model"],o);const i=a(e,["endpoint"]);return i!=null&&u(t,["endpoint"],i),t}function Nn(n,e){const t={},o=a(e,["name"]);o!=null&&u(t,["name"],o);const i=a(e,["state"]);i!=null&&u(t,["state"],Er(n,i));const s=a(e,["createTime"]);s!=null&&u(t,["createTime"],s);const r=a(e,["startTime"]);r!=null&&u(t,["startTime"],r);const l=a(e,["endTime"]);l!=null&&u(t,["endTime"],l);const d=a(e,["updateTime"]);d!=null&&u(t,["updateTime"],d);const c=a(e,["error"]);c!=null&&u(t,["error"],c);const f=a(e,["description"]);f!=null&&u(t,["description"],f);const h=a(e,["baseModel"]);h!=null&&u(t,["baseModel"],h);const p=a(e,["tunedModel"]);p!=null&&u(t,["tunedModel"],fp(n,p));const m=a(e,["supervisedTuningSpec"]);m!=null&&u(t,["supervisedTuningSpec"],m);const y=a(e,["tuningDataStats"]);y!=null&&u(t,["tuningDataStats"],y);const g=a(e,["encryptionSpec"]);g!=null&&u(t,["encryptionSpec"],g);const T=a(e,["partnerModelTuningSpec"]);T!=null&&u(t,["partnerModelTuningSpec"],T);const E=a(e,["distillationSpec"]);E!=null&&u(t,["distillationSpec"],E);const S=a(e,["experiment"]);S!=null&&u(t,["experiment"],S);const x=a(e,["labels"]);x!=null&&u(t,["labels"],x);const A=a(e,["pipelineJob"]);A!=null&&u(t,["pipelineJob"],A);const P=a(e,["tunedModelDisplayName"]);return P!=null&&u(t,["tunedModelDisplayName"],P),t}function hp(n,e){const t={},o=a(e,["nextPageToken"]);o!=null&&u(t,["nextPageToken"],o);const i=a(e,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(r=>Nn(n,r))),u(t,["tuningJobs"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pp extends ct{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new $t(Ge.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const o=await this.tuneMldevInternal(t);let i="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?i=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(i=o.name.split("/operations/")[0]),{name:i,state:Pn.JOB_STATE_QUEUED}}}}async getInternal(e){var t,o,i,s;let r,l="",d={};if(this.apiClient.isVertexAI()){const c=np(this.apiClient,e);return l=R("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>Nn(this.apiClient,f))}else{const c=zh(this.apiClient,e);return l=R("{name}",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),r.then(f=>Rr(this.apiClient,f))}}async listInternal(e){var t,o,i,s;let r,l="",d={};if(this.apiClient.isVertexAI()){const c=ip(this.apiClient,e);return l=R("tuningJobs",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),r.then(f=>{const h=hp(this.apiClient,f),p=new wi;return Object.assign(p,h),p})}else{const c=Zh(this.apiClient,e);return l=R("tunedModels",c._url),d=c._query,delete c.config,delete c._url,delete c._query,r=this.apiClient.request({path:l,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),r.then(f=>{const h=cp(this.apiClient,f),p=new wi;return Object.assign(p,h),p})}}async tuneInternal(e){var t,o;let i,s="",r={};if(this.apiClient.isVertexAI()){const l=lp(this.apiClient,e);return s=R("tuningJobs",l._url),r=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>Nn(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,o;let i,s="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=tp(this.apiClient,e);return s=R("tunedModels",l._url),r=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:r,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>dp(this.apiClient,d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mp{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const gp=1024*1024*8,yp=3,vp=1e3,Tp=2,tn="x-goog-upload-status";async function Cp(n,e,t){var o,i,s;let r=0,l=0,d=new wn(new Response),c="upload";for(r=n.size;l<r;){const h=Math.min(gp,r-l),p=n.slice(l,l+h);l+h>=r&&(c+=", finalize");let m=0,y=vp;for(;m<yp&&(d=await t.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(h)}}}),!(!((o=d==null?void 0:d.headers)===null||o===void 0)&&o[tn]));)m++,await xp(y),y=y*Tp;if(l+=h,((i=d==null?void 0:d.headers)===null||i===void 0?void 0:i[tn])!=="active")break;if(r<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const f=await(d==null?void 0:d.json());if(((s=d==null?void 0:d.headers)===null||s===void 0?void 0:s[tn])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function Ep(n){return{size:n.size,type:n.type}}function xp(n){return new Promise(e=>setTimeout(e,n))}class Sp{async upload(e,t,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Cp(e,t,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Ep(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ap{create(e,t,o){return new Pp(e,t,o)}}class Pp{constructor(e,t,o){this.url=e,this.headers=t,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Oi="x-goog-api-key";class wp{constructor(e){this.apiKey=e}async addAuthHeaders(e){e.get(Oi)===null&&e.append(Oi,this.apiKey)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mp="gl-node/";class _p{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const o=su(e,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const i=new wp(this.apiKey);this.apiClient=new Jh({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Mp+"web",uploader:new Sp,downloader:new mp}),this.models=new _h(this.apiClient),this.live=new Sh(this.apiClient,i,new Ap),this.chats=new lc(this.models,this.apiClient),this.caches=new ic(this.apiClient),this.files=new Ec(this.apiClient),this.operations=new Bh(this.apiClient),this.tunings=new pp(this.apiClient)}}async function Ip(n){return await(await(await new _p({apiKey:"AIzaSyAvPjyWp_8AN6sRSAT0YVMJYxo-6JlyIOI"}).chats.create({model:"gemini-2.0-flash",config:{responseMimeType:"application/json"}})).sendMessage({message:n})).text}function Rp(n){return He({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"},child:[]}]})(n)}function Dp(n){return He({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(n)}function Np(n){return He({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(n)}function Vp(n){return He({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(n)}function bp(n){return He({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(n)}const Dr=v.createContext({});function Lp(n){const e=v.useRef(null);return e.current===null&&(e.current=n()),e.current}const to=typeof window<"u",Fp=to?v.useLayoutEffect:v.useEffect,no=v.createContext(null);function oo(n,e){n.indexOf(e)===-1&&n.push(e)}function io(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const re=(n,e,t)=>t>e?e:t<n?n:t;let so=()=>{};const ae={},Nr=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function Vr(n){return typeof n=="object"&&n!==null}const br=n=>/^0[^.\s]+$/u.test(n);function ro(n){let e;return()=>(e===void 0&&(e=n()),e)}const j=n=>n,kp=(n,e)=>t=>e(n(t)),dt=(...n)=>n.reduce(kp),tt=(n,e,t)=>{const o=e-n;return o===0?1:(t-n)/o};class ao{constructor(){this.subscriptions=[]}add(e){return oo(this.subscriptions,e),()=>io(this.subscriptions,e)}notify(e,t,o){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,o);else for(let s=0;s<i;s++){const r=this.subscriptions[s];r&&r(e,t,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ne=n=>n*1e3,oe=n=>n/1e3;function Lr(n,e){return e?n*(1e3/e):0}const Fr=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,Up=1e-7,Bp=12;function Gp(n,e,t,o,i){let s,r,l=0;do r=e+(t-e)/2,s=Fr(r,o,i)-n,s>0?t=r:e=r;while(Math.abs(s)>Up&&++l<Bp);return r}function ft(n,e,t,o){if(n===e&&t===o)return j;const i=s=>Gp(s,0,1,n,t);return s=>s===0||s===1?s:Fr(i(s),e,o)}const kr=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,Ur=n=>e=>1-n(1-e),Br=ft(.33,1.53,.69,.99),lo=Ur(Br),Gr=kr(lo),Or=n=>(n*=2)<1?.5*lo(n):.5*(2-Math.pow(2,-10*(n-1))),uo=n=>1-Math.sin(Math.acos(n)),qr=Ur(uo),Hr=kr(uo),Op=ft(.42,0,1,1),qp=ft(0,0,.58,1),Wr=ft(.42,0,.58,1),Hp=n=>Array.isArray(n)&&typeof n[0]!="number",$r=n=>Array.isArray(n)&&typeof n[0]=="number",Wp={linear:j,easeIn:Op,easeInOut:Wr,easeOut:qp,circIn:uo,circInOut:Hr,circOut:qr,backIn:lo,backInOut:Gr,backOut:Br,anticipate:Or},$p=n=>typeof n=="string",qi=n=>{if($r(n)){so(n.length===4);const[e,t,o,i]=n;return ft(e,t,o,i)}else if($p(n))return Wp[n];return n},vt=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Hi={value:null};function Kp(n,e){let t=new Set,o=new Set,i=!1,s=!1;const r=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},d=0;function c(h){r.has(h)&&(f.schedule(h),n()),d++,h(l)}const f={schedule:(h,p=!1,m=!1)=>{const g=m&&i?t:o;return p&&r.add(h),g.has(h)||g.add(h),h},cancel:h=>{o.delete(h),r.delete(h)},process:h=>{if(l=h,i){s=!0;return}i=!0,[t,o]=[o,t],t.forEach(c),e&&Hi.value&&Hi.value.frameloop[e].push(d),d=0,t.clear(),i=!1,s&&(s=!1,f.process(h))}};return f}const Yp=40;function Kr(n,e){let t=!1,o=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,r=vt.reduce((x,A)=>(x[A]=Kp(s,e?A:void 0),x),{}),{setup:l,read:d,resolveKeyframes:c,preUpdate:f,update:h,preRender:p,render:m,postRender:y}=r,g=()=>{const x=ae.useManualTiming?i.timestamp:performance.now();t=!1,ae.useManualTiming||(i.delta=o?1e3/60:Math.max(Math.min(x-i.timestamp,Yp),1)),i.timestamp=x,i.isProcessing=!0,l.process(i),d.process(i),c.process(i),f.process(i),h.process(i),p.process(i),m.process(i),y.process(i),i.isProcessing=!1,t&&e&&(o=!1,n(g))},T=()=>{t=!0,o=!0,i.isProcessing||n(g)};return{schedule:vt.reduce((x,A)=>{const P=r[A];return x[A]=(w,M=!1,_=!1)=>(t||T(),P.schedule(w,M,_)),x},{}),cancel:x=>{for(let A=0;A<vt.length;A++)r[vt[A]].cancel(x)},state:i,steps:r}}const{schedule:L,cancel:pe,state:G,steps:nn}=Kr(typeof requestAnimationFrame<"u"?requestAnimationFrame:j,!0);let _t;function Jp(){_t=void 0}const z={now:()=>(_t===void 0&&z.set(G.isProcessing||ae.useManualTiming?G.timestamp:performance.now()),_t),set:n=>{_t=n,queueMicrotask(Jp)}},Yr=n=>e=>typeof e=="string"&&e.startsWith(n),co=Yr("--"),zp=Yr("var(--"),fo=n=>zp(n)?Xp.test(n.split("/*")[0].trim()):!1,Xp=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$e={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},nt={...$e,transform:n=>re(0,1,n)},Tt={...$e,default:1},Xe=n=>Math.round(n*1e5)/1e5,ho=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Zp(n){return n==null}const Qp=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,po=(n,e)=>t=>!!(typeof t=="string"&&Qp.test(t)&&t.startsWith(n)||e&&!Zp(t)&&Object.prototype.hasOwnProperty.call(t,e)),Jr=(n,e,t)=>o=>{if(typeof o!="string")return o;const[i,s,r,l]=o.match(ho);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(r),alpha:l!==void 0?parseFloat(l):1}},jp=n=>re(0,255,n),on={...$e,transform:n=>Math.round(jp(n))},Se={test:po("rgb","red"),parse:Jr("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:o=1})=>"rgba("+on.transform(n)+", "+on.transform(e)+", "+on.transform(t)+", "+Xe(nt.transform(o))+")"};function em(n){let e="",t="",o="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),o=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),o=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,o+=o,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(o,16),alpha:i?parseInt(i,16)/255:1}}const Vn={test:po("#"),parse:em,transform:Se.transform},ht=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ce=ht("deg"),ie=ht("%"),I=ht("px"),tm=ht("vh"),nm=ht("vw"),Wi={...ie,parse:n=>ie.parse(n)/100,transform:n=>ie.transform(n*100)},be={test:po("hsl","hue"),parse:Jr("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:o=1})=>"hsla("+Math.round(n)+", "+ie.transform(Xe(e))+", "+ie.transform(Xe(t))+", "+Xe(nt.transform(o))+")"},q={test:n=>Se.test(n)||Vn.test(n)||be.test(n),parse:n=>Se.test(n)?Se.parse(n):be.test(n)?be.parse(n):Vn.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Se.transform(n):be.transform(n)},om=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function im(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(ho))==null?void 0:e.length)||0)+(((t=n.match(om))==null?void 0:t.length)||0)>0}const zr="number",Xr="color",sm="var",rm="var(",$i="${}",am=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ot(n){const e=n.toString(),t=[],o={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(am,d=>(q.test(d)?(o.color.push(s),i.push(Xr),t.push(q.parse(d))):d.startsWith(rm)?(o.var.push(s),i.push(sm),t.push(d)):(o.number.push(s),i.push(zr),t.push(parseFloat(d))),++s,$i)).split($i);return{values:t,split:l,indexes:o,types:i}}function Zr(n){return ot(n).values}function Qr(n){const{split:e,types:t}=ot(n),o=e.length;return i=>{let s="";for(let r=0;r<o;r++)if(s+=e[r],i[r]!==void 0){const l=t[r];l===zr?s+=Xe(i[r]):l===Xr?s+=q.transform(i[r]):s+=i[r]}return s}}const lm=n=>typeof n=="number"?0:n;function um(n){const e=Zr(n);return Qr(n)(e.map(lm))}const me={test:im,parse:Zr,createTransformer:Qr,getAnimatableNone:um};function sn(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function cm({hue:n,saturation:e,lightness:t,alpha:o}){n/=360,e/=100,t/=100;let i=0,s=0,r=0;if(!e)i=s=r=t;else{const l=t<.5?t*(1+e):t+e-t*e,d=2*t-l;i=sn(d,l,n+1/3),s=sn(d,l,n),r=sn(d,l,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(r*255),alpha:o}}function kt(n,e){return t=>t>0?e:n}const b=(n,e,t)=>n+(e-n)*t,rn=(n,e,t)=>{const o=n*n,i=t*(e*e-o)+o;return i<0?0:Math.sqrt(i)},dm=[Vn,Se,be],fm=n=>dm.find(e=>e.test(n));function Ki(n){const e=fm(n);if(!e)return!1;let t=e.parse(n);return e===be&&(t=cm(t)),t}const Yi=(n,e)=>{const t=Ki(n),o=Ki(e);if(!t||!o)return kt(n,e);const i={...t};return s=>(i.red=rn(t.red,o.red,s),i.green=rn(t.green,o.green,s),i.blue=rn(t.blue,o.blue,s),i.alpha=b(t.alpha,o.alpha,s),Se.transform(i))},bn=new Set(["none","hidden"]);function hm(n,e){return bn.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function pm(n,e){return t=>b(n,e,t)}function mo(n){return typeof n=="number"?pm:typeof n=="string"?fo(n)?kt:q.test(n)?Yi:ym:Array.isArray(n)?jr:typeof n=="object"?q.test(n)?Yi:mm:kt}function jr(n,e){const t=[...n],o=t.length,i=n.map((s,r)=>mo(s)(s,e[r]));return s=>{for(let r=0;r<o;r++)t[r]=i[r](s);return t}}function mm(n,e){const t={...n,...e},o={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(o[i]=mo(n[i])(n[i],e[i]));return i=>{for(const s in o)t[s]=o[s](i);return t}}function gm(n,e){const t=[],o={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],r=n.indexes[s][o[s]],l=n.values[r]??0;t[i]=l,o[s]++}return t}const ym=(n,e)=>{const t=me.createTransformer(e),o=ot(n),i=ot(e);return o.indexes.var.length===i.indexes.var.length&&o.indexes.color.length===i.indexes.color.length&&o.indexes.number.length>=i.indexes.number.length?bn.has(n)&&!i.values.length||bn.has(e)&&!o.values.length?hm(n,e):dt(jr(gm(o,i),i.values),t):kt(n,e)};function ea(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?b(n,e,t):mo(n)(n,e)}const vm=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>L.update(e,t),stop:()=>pe(e),now:()=>G.isProcessing?G.timestamp:z.now()}},ta=(n,e,t=10)=>{let o="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)o+=n(s/(i-1))+", ";return`linear(${o.substring(0,o.length-2)})`},Ut=2e4;function go(n){let e=0;const t=50;let o=n.next(e);for(;!o.done&&e<Ut;)e+=t,o=n.next(e);return e>=Ut?1/0:e}function Tm(n,e=100,t){const o=t({...n,keyframes:[0,e]}),i=Math.min(go(o),Ut);return{type:"keyframes",ease:s=>o.next(i*s).value/e,duration:oe(i)}}const Cm=5;function na(n,e,t){const o=Math.max(e-Cm,0);return Lr(t-n(o),e-o)}const F={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ji=.001;function Em({duration:n=F.duration,bounce:e=F.bounce,velocity:t=F.velocity,mass:o=F.mass}){let i,s,r=1-e;r=re(F.minDamping,F.maxDamping,r),n=re(F.minDuration,F.maxDuration,oe(n)),r<1?(i=c=>{const f=c*r,h=f*n,p=f-t,m=Ln(c,r),y=Math.exp(-h);return Ji-p/m*y},s=c=>{const h=c*r*n,p=h*t+t,m=Math.pow(r,2)*Math.pow(c,2)*n,y=Math.exp(-h),g=Ln(Math.pow(c,2),r);return(-i(c)+Ji>0?-1:1)*((p-m)*y)/g}):(i=c=>{const f=Math.exp(-c*n),h=(c-t)*n+1;return-.001+f*h},s=c=>{const f=Math.exp(-c*n),h=(t-c)*(n*n);return f*h});const l=5/n,d=Sm(i,s,l);if(n=ne(n),isNaN(d))return{stiffness:F.stiffness,damping:F.damping,duration:n};{const c=Math.pow(d,2)*o;return{stiffness:c,damping:r*2*Math.sqrt(o*c),duration:n}}}const xm=12;function Sm(n,e,t){let o=t;for(let i=1;i<xm;i++)o=o-n(o)/e(o);return o}function Ln(n,e){return n*Math.sqrt(1-e*e)}const Am=["duration","bounce"],Pm=["stiffness","damping","mass"];function zi(n,e){return e.some(t=>n[t]!==void 0)}function wm(n){let e={velocity:F.velocity,stiffness:F.stiffness,damping:F.damping,mass:F.mass,isResolvedFromDuration:!1,...n};if(!zi(n,Pm)&&zi(n,Am))if(n.visualDuration){const t=n.visualDuration,o=2*Math.PI/(t*1.2),i=o*o,s=2*re(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:F.mass,stiffness:i,damping:s}}else{const t=Em(n);e={...e,...t,mass:F.mass},e.isResolvedFromDuration=!0}return e}function Bt(n=F.visualDuration,e=F.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:o,restDelta:i}=t;const s=t.keyframes[0],r=t.keyframes[t.keyframes.length-1],l={done:!1,value:s},{stiffness:d,damping:c,mass:f,duration:h,velocity:p,isResolvedFromDuration:m}=wm({...t,velocity:-oe(t.velocity||0)}),y=p||0,g=c/(2*Math.sqrt(d*f)),T=r-s,E=oe(Math.sqrt(d/f)),S=Math.abs(T)<5;o||(o=S?F.restSpeed.granular:F.restSpeed.default),i||(i=S?F.restDelta.granular:F.restDelta.default);let x;if(g<1){const P=Ln(E,g);x=w=>{const M=Math.exp(-g*E*w);return r-M*((y+g*E*T)/P*Math.sin(P*w)+T*Math.cos(P*w))}}else if(g===1)x=P=>r-Math.exp(-E*P)*(T+(y+E*T)*P);else{const P=E*Math.sqrt(g*g-1);x=w=>{const M=Math.exp(-g*E*w),_=Math.min(P*w,300);return r-M*((y+g*E*T)*Math.sinh(_)+P*T*Math.cosh(_))/P}}const A={calculatedDuration:m&&h||null,next:P=>{const w=x(P);if(m)l.done=P>=h;else{let M=P===0?y:0;g<1&&(M=P===0?ne(y):na(x,P,w));const _=Math.abs(M)<=o,N=Math.abs(r-w)<=i;l.done=_&&N}return l.value=l.done?r:w,l},toString:()=>{const P=Math.min(go(A),Ut),w=ta(M=>A.next(P*M).value,P,30);return P+"ms "+w},toTransition:()=>{}};return A}Bt.applyToOptions=n=>{const e=Tm(n,100,Bt);return n.ease=e.ease,n.duration=ne(e.duration),n.type="keyframes",n};function Fn({keyframes:n,velocity:e=0,power:t=.8,timeConstant:o=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:r,min:l,max:d,restDelta:c=.5,restSpeed:f}){const h=n[0],p={done:!1,value:h},m=_=>l!==void 0&&_<l||d!==void 0&&_>d,y=_=>l===void 0?d:d===void 0||Math.abs(l-_)<Math.abs(d-_)?l:d;let g=t*e;const T=h+g,E=r===void 0?T:r(T);E!==T&&(g=E-h);const S=_=>-g*Math.exp(-_/o),x=_=>E+S(_),A=_=>{const N=S(_),D=x(_);p.done=Math.abs(N)<=c,p.value=p.done?E:D};let P,w;const M=_=>{m(p.value)&&(P=_,w=Bt({keyframes:[p.value,y(p.value)],velocity:na(x,_,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:f}))};return M(0),{calculatedDuration:null,next:_=>{let N=!1;return!w&&P===void 0&&(N=!0,A(_),M(_)),P!==void 0&&_>=P?w.next(_-P):(!N&&A(_),p)}}}function Mm(n,e,t){const o=[],i=t||ae.mix||ea,s=n.length-1;for(let r=0;r<s;r++){let l=i(n[r],n[r+1]);if(e){const d=Array.isArray(e)?e[r]||j:e;l=dt(d,l)}o.push(l)}return o}function _m(n,e,{clamp:t=!0,ease:o,mixer:i}={}){const s=n.length;if(so(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const r=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const l=Mm(e,o,i),d=l.length,c=f=>{if(r&&f<n[0])return e[0];let h=0;if(d>1)for(;h<n.length-2&&!(f<n[h+1]);h++);const p=tt(n[h],n[h+1],f);return l[h](p)};return t?f=>c(re(n[0],n[s-1],f)):c}function Im(n,e){const t=n[n.length-1];for(let o=1;o<=e;o++){const i=tt(0,e,o);n.push(b(t,1,i))}}function Rm(n){const e=[0];return Im(e,n.length-1),e}function Dm(n,e){return n.map(t=>t*e)}function Nm(n,e){return n.map(()=>e||Wr).splice(0,n.length-1)}function Ze({duration:n=300,keyframes:e,times:t,ease:o="easeInOut"}){const i=Hp(o)?o.map(qi):qi(o),s={done:!1,value:e[0]},r=Dm(t&&t.length===e.length?t:Rm(e),n),l=_m(r,e,{ease:Array.isArray(i)?i:Nm(e,i)});return{calculatedDuration:n,next:d=>(s.value=l(d),s.done=d>=n,s)}}const Vm=n=>n!==null;function yo(n,{repeat:e,repeatType:t="loop"},o,i=1){const s=n.filter(Vm),l=i<0||e&&t!=="loop"&&e%2===1?0:s.length-1;return!l||o===void 0?s[l]:o}const bm={decay:Fn,inertia:Fn,tween:Ze,keyframes:Ze,spring:Bt};function oa(n){typeof n.type=="string"&&(n.type=bm[n.type])}class vo{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Lm=n=>n/100;class To extends vo{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(t=!0)=>{var o,i;if(t){const{motionValue:s}=this.options;s&&s.updatedAt!==z.now()&&this.tick(z.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(o=this.options).onStop)==null||i.call(o))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;oa(e);const{type:t=Ze,repeat:o=0,repeatDelay:i=0,repeatType:s,velocity:r=0}=e;let{keyframes:l}=e;const d=t||Ze;d!==Ze&&typeof l[0]!="number"&&(this.mixKeyframes=dt(Lm,ea(l[0],l[1])),l=[0,100]);const c=d({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...l].reverse(),velocity:-r})),c.calculatedDuration===null&&(c.calculatedDuration=go(c));const{calculatedDuration:f}=c;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(o+1)-i,this.generator=c}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:o,totalDuration:i,mixKeyframes:s,mirroredGenerator:r,resolvedDuration:l,calculatedDuration:d}=this;if(this.startTime===null)return o.next(0);const{delay:c=0,keyframes:f,repeat:h,repeatType:p,repeatDelay:m,type:y,onUpdate:g,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const E=this.currentTime-c*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?E<0:E>i;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let x=this.currentTime,A=o;if(h){const _=Math.min(this.currentTime,i)/l;let N=Math.floor(_),D=_%1;!D&&_>=1&&(D=1),D===1&&N--,N=Math.min(N,h+1),!!(N%2)&&(p==="reverse"?(D=1-D,m&&(D-=m/l)):p==="mirror"&&(A=r)),x=re(0,1,D)*l}const P=S?{done:!1,value:f[0]}:A.next(x);s&&(P.value=s(P.value));let{done:w}=P;!S&&d!==null&&(w=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&w);return M&&y!==Fn&&(P.value=yo(f,this.options,T,this.speed)),g&&g(P.value),M&&this.finish(),P}then(e,t){return this.finished.then(e,t)}get duration(){return oe(this.calculatedDuration)}get time(){return oe(this.currentTime)}set time(e){var t;e=ne(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(z.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=oe(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=vm,startTime:t}=this.options;this.driver||(this.driver=e(r=>this.tick(r))),(s=(i=this.options).onPlay)==null||s.call(i);const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=t??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(z.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function Fm(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Ae=n=>n*180/Math.PI,kn=n=>{const e=Ae(Math.atan2(n[1],n[0]));return Un(e)},km={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:kn,rotateZ:kn,skewX:n=>Ae(Math.atan(n[1])),skewY:n=>Ae(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Un=n=>(n=n%360,n<0&&(n+=360),n),Xi=kn,Zi=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Qi=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),Um={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Zi,scaleY:Qi,scale:n=>(Zi(n)+Qi(n))/2,rotateX:n=>Un(Ae(Math.atan2(n[6],n[5]))),rotateY:n=>Un(Ae(Math.atan2(-n[2],n[0]))),rotateZ:Xi,rotate:Xi,skewX:n=>Ae(Math.atan(n[4])),skewY:n=>Ae(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Bn(n){return n.includes("scale")?1:0}function Gn(n,e){if(!n||n==="none")return Bn(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,i;if(t)o=Um,i=t;else{const l=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=km,i=l}if(!i)return Bn(e);const s=o[e],r=i[1].split(",").map(Gm);return typeof s=="function"?s(r):r[s]}const Bm=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Gn(t,e)};function Gm(n){return parseFloat(n.trim())}const Ke=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ye=new Set(Ke),ji=n=>n===$e||n===I,Om=new Set(["x","y","z"]),qm=Ke.filter(n=>!Om.has(n));function Hm(n){const e=[];return qm.forEach(t=>{const o=n.getValue(t);o!==void 0&&(e.push([t,o.get()]),o.set(t.startsWith("scale")?1:0))}),e}const Pe={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Gn(e,"x"),y:(n,{transform:e})=>Gn(e,"y")};Pe.translateX=Pe.x;Pe.translateY=Pe.y;const we=new Set;let On=!1,qn=!1,Hn=!1;function ia(){if(qn){const n=Array.from(we).filter(o=>o.needsMeasurement),e=new Set(n.map(o=>o.element)),t=new Map;e.forEach(o=>{const i=Hm(o);i.length&&(t.set(o,i),o.render())}),n.forEach(o=>o.measureInitialState()),e.forEach(o=>{o.render();const i=t.get(o);i&&i.forEach(([s,r])=>{var l;(l=o.getValue(s))==null||l.set(r)})}),n.forEach(o=>o.measureEndState()),n.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}qn=!1,On=!1,we.forEach(n=>n.complete(Hn)),we.clear()}function sa(){we.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(qn=!0)})}function Wm(){Hn=!0,sa(),ia(),Hn=!1}class Co{constructor(e,t,o,i,s,r=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=o,this.motionValue=i,this.element=s,this.isAsync=r}scheduleResolve(){this.state="scheduled",this.isAsync?(we.add(this),On||(On=!0,L.read(sa),L.resolveKeyframes(ia))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:o,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),r=e[e.length-1];if(s!==void 0)e[0]=s;else if(o&&t){const l=o.readValue(t,r);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=r),i&&s===void 0&&i.set(e[0])}Fm(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),we.delete(this)}cancel(){this.state==="scheduled"&&(we.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const $m=n=>n.startsWith("--");function Km(n,e,t){$m(e)?n.style.setProperty(e,t):n.style[e]=t}const Ym=ro(()=>window.ScrollTimeline!==void 0),Jm={};function zm(n,e){const t=ro(n);return()=>Jm[e]??t()}const ra=zm(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ze=([n,e,t,o])=>`cubic-bezier(${n}, ${e}, ${t}, ${o})`,es={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ze([0,.65,.55,1]),circOut:ze([.55,0,1,.45]),backIn:ze([.31,.01,.66,-.59]),backOut:ze([.33,1.53,.69,.99])};function aa(n,e){if(n)return typeof n=="function"?ra()?ta(n,e):"ease-out":$r(n)?ze(n):Array.isArray(n)?n.map(t=>aa(t,e)||es.easeOut):es[n]}function Xm(n,e,t,{delay:o=0,duration:i=300,repeat:s=0,repeatType:r="loop",ease:l="easeOut",times:d}={},c=void 0){const f={[e]:t};d&&(f.offset=d);const h=aa(l,i);Array.isArray(h)&&(f.easing=h);const p={delay:o,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:r==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),n.animate(f,p)}function la(n){return typeof n=="function"&&"applyToOptions"in n}function Zm({type:n,...e}){return la(n)&&ra()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Qm extends vo{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:o,keyframes:i,pseudoElement:s,allowFlatten:r=!1,finalKeyframe:l,onComplete:d}=e;this.isPseudoElement=!!s,this.allowFlatten=r,this.options=e,so(typeof e.type!="string");const c=Zm(e);this.animation=Xm(t,o,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=yo(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):Km(t,o,f),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,o;const e=((o=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:o.call(t).duration)||0;return oe(Number(e))}get time(){return oe(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ne(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var o;return this.allowFlatten&&((o=this.animation.effect)==null||o.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Ym()?(this.animation.timeline=e,j):t(this)}}const ua={anticipate:Or,backInOut:Gr,circInOut:Hr};function jm(n){return n in ua}function eg(n){typeof n.ease=="string"&&jm(n.ease)&&(n.ease=ua[n.ease])}const ts=10;class tg extends Qm{constructor(e){eg(e),oa(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:o,onComplete:i,element:s,...r}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const l=new To({...r,autoplay:!1}),d=ne(this.finishedTime??this.time);t.setWithVelocity(l.sample(d-ts).value,l.sample(d).value,ts),l.stop()}}const ns=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(me.test(n)||n==="0")&&!n.startsWith("url("));function ng(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function og(n,e,t,o){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],r=ns(i,e),l=ns(s,e);return!r||!l?!1:ng(n)||(t==="spring"||la(t))&&o}function ca(n){return Vr(n)&&"offsetHeight"in n}const ig=new Set(["opacity","clipPath","filter","transform"]),sg=ro(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rg(n){var c;const{motionValue:e,name:t,repeatDelay:o,repeatType:i,damping:s,type:r}=n;if(!ca((c=e==null?void 0:e.owner)==null?void 0:c.current))return!1;const{onUpdate:l,transformTemplate:d}=e.owner.getProps();return sg()&&t&&ig.has(t)&&(t!=="transform"||!d)&&!l&&!o&&i!=="mirror"&&s!==0&&r!=="inertia"}const ag=40;class lg extends vo{constructor({autoplay:e=!0,delay:t=0,type:o="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:r="loop",keyframes:l,name:d,motionValue:c,element:f,...h}){var y;super(),this.stop=()=>{var g,T;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=z.now();const p={autoplay:e,delay:t,type:o,repeat:i,repeatDelay:s,repeatType:r,name:d,motionValue:c,element:f,...h},m=(f==null?void 0:f.KeyframeResolver)||Co;this.keyframeResolver=new m(l,(g,T,E)=>this.onKeyframesResolved(g,T,p,!E),d,c,f),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,t,o,i){this.keyframeResolver=void 0;const{name:s,type:r,velocity:l,delay:d,isHandoff:c,onUpdate:f}=o;this.resolvedAt=z.now(),og(e,s,r,l)||((ae.instantAnimations||!d)&&(f==null||f(yo(e,o,t))),e[0]=e[e.length-1],o.duration=0,o.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>ag?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...o,keyframes:e},m=!c&&rg(p)?new tg({...p,element:p.motionValue.owner.current}):new To(p);m.finished.then(()=>this.notifyFinished()).catch(j),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Wm()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const ug=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cg(n){const e=ug.exec(n);if(!e)return[,];const[,t,o,i]=e;return[`--${t??o}`,i]}function da(n,e,t=1){const[o,i]=cg(n);if(!o)return;const s=window.getComputedStyle(e).getPropertyValue(o);if(s){const r=s.trim();return Nr(r)?parseFloat(r):r}return fo(i)?da(i,e,t+1):i}function Eo(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const fa=new Set(["width","height","top","left","right","bottom",...Ke]),dg={test:n=>n==="auto",parse:n=>n},ha=n=>e=>e.test(n),pa=[$e,I,ie,ce,nm,tm,dg],os=n=>pa.find(ha(n));function fg(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||br(n):!0}const hg=new Set(["brightness","contrast","saturate","opacity"]);function pg(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[o]=t.match(ho)||[];if(!o)return n;const i=t.replace(o,"");let s=hg.has(e)?1:0;return o!==t&&(s*=100),e+"("+s+i+")"}const mg=/\b([a-z-]*)\(.*?\)/gu,Wn={...me,getAnimatableNone:n=>{const e=n.match(mg);return e?e.map(pg).join(" "):n}},is={...$e,transform:Math.round},gg={rotate:ce,rotateX:ce,rotateY:ce,rotateZ:ce,scale:Tt,scaleX:Tt,scaleY:Tt,scaleZ:Tt,skew:ce,skewX:ce,skewY:ce,distance:I,translateX:I,translateY:I,translateZ:I,x:I,y:I,z:I,perspective:I,transformPerspective:I,opacity:nt,originX:Wi,originY:Wi,originZ:I},xo={borderWidth:I,borderTopWidth:I,borderRightWidth:I,borderBottomWidth:I,borderLeftWidth:I,borderRadius:I,radius:I,borderTopLeftRadius:I,borderTopRightRadius:I,borderBottomRightRadius:I,borderBottomLeftRadius:I,width:I,maxWidth:I,height:I,maxHeight:I,top:I,right:I,bottom:I,left:I,padding:I,paddingTop:I,paddingRight:I,paddingBottom:I,paddingLeft:I,margin:I,marginTop:I,marginRight:I,marginBottom:I,marginLeft:I,backgroundPositionX:I,backgroundPositionY:I,...gg,zIndex:is,fillOpacity:nt,strokeOpacity:nt,numOctaves:is},yg={...xo,color:q,backgroundColor:q,outlineColor:q,fill:q,stroke:q,borderColor:q,borderTopColor:q,borderRightColor:q,borderBottomColor:q,borderLeftColor:q,filter:Wn,WebkitFilter:Wn},ma=n=>yg[n];function ga(n,e){let t=ma(n);return t!==Wn&&(t=me),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const vg=new Set(["auto","none","0"]);function Tg(n,e,t){let o=0,i;for(;o<n.length&&!i;){const s=n[o];typeof s=="string"&&!vg.has(s)&&ot(s).values.length&&(i=n[o]),o++}if(i&&t)for(const s of e)n[s]=ga(t,i)}class Cg extends Co{constructor(e,t,o,i,s){super(e,t,o,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:o}=this;if(!t||!t.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let c=e[d];if(typeof c=="string"&&(c=c.trim(),fo(c))){const f=da(c,t.current);f!==void 0&&(e[d]=f),d===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!fa.has(o)||e.length!==2)return;const[i,s]=e,r=os(i),l=os(s);if(r!==l)if(ji(r)&&ji(l))for(let d=0;d<e.length;d++){const c=e[d];typeof c=="string"&&(e[d]=parseFloat(c))}else Pe[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,o=[];for(let i=0;i<e.length;i++)(e[i]===null||fg(e[i]))&&o.push(i);o.length&&Tg(e,o,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:o}=this;if(!e||!e.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pe[o](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(o,i).jump(i,!1)}measureEndState(){var l;const{element:e,name:t,unresolvedKeyframes:o}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const s=o.length-1,r=o[s];o[s]=Pe[t](e.measureViewportBox(),window.getComputedStyle(e.current)),r!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=r),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([d,c])=>{e.getValue(d).set(c)}),this.resolveNoneKeyframes()}}function Eg(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let o=document;const i=(t==null?void 0:t[n])??o.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n)}const ss=30,xg=n=>!isNaN(parseFloat(n));class Sg{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(o,i=!0)=>{var r,l;const s=z.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();i&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=z.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=xg(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ao);const o=this.events[e].add(t);return e==="change"?()=>{o(),L.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,o){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-o}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=z.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ss)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,ss);return Lr(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Oe(n,e){return new Sg(n,e)}const ya=(n,e)=>e&&typeof n=="number"?e.transform(n):n,{schedule:So}=Kr(queueMicrotask,!1),ee={x:!1,y:!1};function va(){return ee.x||ee.y}function Ag(n){return n==="x"||n==="y"?ee[n]?null:(ee[n]=!0,()=>{ee[n]=!1}):ee.x||ee.y?null:(ee.x=ee.y=!0,()=>{ee.x=ee.y=!1})}function Ta(n,e){const t=Eg(n),o=new AbortController,i={passive:!0,...e,signal:o.signal};return[t,i,()=>o.abort()]}function rs(n){return!(n.pointerType==="touch"||va())}function Pg(n,e,t={}){const[o,i,s]=Ta(n,t),r=l=>{if(!rs(l))return;const{target:d}=l,c=e(d,l);if(typeof c!="function"||!d)return;const f=h=>{rs(h)&&(c(h),d.removeEventListener("pointerleave",f))};d.addEventListener("pointerleave",f,i)};return o.forEach(l=>{l.addEventListener("pointerenter",r,i)}),s}const Ca=(n,e)=>e?n===e?!0:Ca(n,e.parentElement):!1,Ao=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,wg=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Mg(n){return wg.has(n.tagName)||n.tabIndex!==-1}const It=new WeakSet;function as(n){return e=>{e.key==="Enter"&&n(e)}}function an(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const _g=(n,e)=>{const t=n.currentTarget;if(!t)return;const o=as(()=>{if(It.has(t))return;an(t,"down");const i=as(()=>{an(t,"up")}),s=()=>an(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",o,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",o),e)};function ls(n){return Ao(n)&&!va()}function Ig(n,e,t={}){const[o,i,s]=Ta(n,t),r=l=>{const d=l.currentTarget;if(!ls(l))return;It.add(d);const c=e(d,l),f=(m,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",p),It.has(d)&&It.delete(d),ls(m)&&typeof c=="function"&&c(m,{success:y})},h=m=>{f(m,d===window||d===document||t.useGlobalTarget||Ca(d,m.target))},p=m=>{f(m,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",p,i)};return o.forEach(l=>{(t.useGlobalTarget?window:l).addEventListener("pointerdown",r,i),ca(l)&&(l.addEventListener("focus",c=>_g(c,i)),!Mg(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function Ea(n){return Vr(n)&&"ownerSVGElement"in n}function Rg(n){return Ea(n)&&n.tagName==="svg"}const W=n=>!!(n&&n.getVelocity),Dg=[...pa,q,me],Ng=n=>Dg.find(ha(n)),xa=v.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Vg(n=!0){const e=v.useContext(no);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:o,register:i}=e,s=v.useId();v.useEffect(()=>{if(n)return i(s)},[n]);const r=v.useCallback(()=>n&&o&&o(s),[s,o,n]);return!t&&o?[!1,r]:[!0]}const Sa=v.createContext({strict:!1}),us={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qe={};for(const n in us)qe[n]={isEnabled:e=>us[n].some(t=>!!e[t])};function bg(n){for(const e in n)qe[e]={...qe[e],...n[e]}}const Lg=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gt(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Lg.has(n)}let Aa=n=>!Gt(n);function Fg(n){n&&(Aa=e=>e.startsWith("on")?!Gt(e):n(e))}try{Fg(require("@emotion/is-prop-valid").default)}catch{}function kg(n,e,t){const o={};for(const i in n)i==="values"&&typeof n.values=="object"||(Aa(i)||t===!0&&Gt(i)||!e&&!Gt(i)||n.draggable&&i.startsWith("onDrag"))&&(o[i]=n[i]);return o}function Ug(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...o)=>n(...o);return new Proxy(t,{get:(o,i)=>i==="create"?n:(e.has(i)||e.set(i,n(i)),e.get(i))})}const Yt=v.createContext({});function Jt(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function it(n){return typeof n=="string"||Array.isArray(n)}const Po=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wo=["initial",...Po];function zt(n){return Jt(n.animate)||wo.some(e=>it(n[e]))}function Pa(n){return!!(zt(n)||n.variants)}function Bg(n,e){if(zt(n)){const{initial:t,animate:o}=n;return{initial:t===!1||it(t)?t:void 0,animate:it(o)?o:void 0}}return n.inherit!==!1?e:{}}function Gg(n){const{initial:e,animate:t}=Bg(n,v.useContext(Yt));return v.useMemo(()=>({initial:e,animate:t}),[cs(e),cs(t)])}function cs(n){return Array.isArray(n)?n.join(" "):n}const Og=Symbol.for("motionComponentSymbol");function Le(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function qg(n,e,t){return v.useCallback(o=>{o&&n.onMount&&n.onMount(o),e&&(o?e.mount(o):e.unmount()),t&&(typeof t=="function"?t(o):Le(t)&&(t.current=o))},[e])}const Mo=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Hg="framerAppearId",wa="data-"+Mo(Hg),Ma=v.createContext({});function Wg(n,e,t,o,i){var g,T;const{visualElement:s}=v.useContext(Yt),r=v.useContext(Sa),l=v.useContext(no),d=v.useContext(xa).reducedMotion,c=v.useRef(null);o=o||r.renderer,!c.current&&o&&(c.current=o(n,{visualState:e,parent:s,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d}));const f=c.current,h=v.useContext(Ma);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&$g(c.current,t,i,h);const p=v.useRef(!1);v.useInsertionEffect(()=>{f&&p.current&&f.update(t,l)});const m=t[wa],y=v.useRef(!!m&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,m))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,m)));return Fp(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),So.render(f.render),y.current&&f.animationState&&f.animationState.animateChanges())}),v.useEffect(()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,m)}),y.current=!1))}),f}function $g(n,e,t,o){const{layoutId:i,layout:s,drag:r,dragConstraints:l,layoutScroll:d,layoutRoot:c,layoutCrossfade:f}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:_a(n.parent)),n.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!r||l&&Le(l),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:o,crossfade:f,layoutScroll:d,layoutRoot:c})}function _a(n){if(n)return n.options.allowProjection!==!1?n.projection:_a(n.parent)}function Kg({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:o,Component:i}){n&&bg(n);function s(l,d){let c;const f={...v.useContext(xa),...l,layoutId:Yg(l)},{isStatic:h}=f,p=Gg(l),m=o(l,h);if(!h&&to){Jg();const y=zg(f);c=y.MeasureLayout,p.visualElement=Wg(i,m,f,e,y.ProjectionNode)}return C.jsxs(Yt.Provider,{value:p,children:[c&&p.visualElement?C.jsx(c,{visualElement:p.visualElement,...f}):null,t(i,l,qg(m,p.visualElement,d),m,h,p.visualElement)]})}s.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const r=v.forwardRef(s);return r[Og]=i,r}function Yg({layoutId:n}){const e=v.useContext(Dr).id;return e&&n!==void 0?e+"-"+n:n}function Jg(n,e){v.useContext(Sa).strict}function zg(n){const{drag:e,layout:t}=qe;if(!e&&!t)return{};const o={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}const st={};function Xg(n){for(const e in n)st[e]=n[e],co(e)&&(st[e].isCSSVariable=!0)}function Ia(n,{layout:e,layoutId:t}){return Ye.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!st[n]||n==="opacity")}const Zg={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Qg=Ke.length;function jg(n,e,t){let o="",i=!0;for(let s=0;s<Qg;s++){const r=Ke[s],l=n[r];if(l===void 0)continue;let d=!0;if(typeof l=="number"?d=l===(r.startsWith("scale")?1:0):d=parseFloat(l)===0,!d||t){const c=ya(l,xo[r]);if(!d){i=!1;const f=Zg[r]||r;o+=`${f}(${c}) `}t&&(e[r]=c)}}return o=o.trim(),t?o=t(e,i?"":o):i&&(o="none"),o}function _o(n,e,t){const{style:o,vars:i,transformOrigin:s}=n;let r=!1,l=!1;for(const d in e){const c=e[d];if(Ye.has(d)){r=!0;continue}else if(co(d)){i[d]=c;continue}else{const f=ya(c,xo[d]);d.startsWith("origin")?(l=!0,s[d]=f):o[d]=f}}if(e.transform||(r||t?o.transform=jg(e,n.transform,t):o.transform&&(o.transform="none")),l){const{originX:d="50%",originY:c="50%",originZ:f=0}=s;o.transformOrigin=`${d} ${c} ${f}`}}const Io=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ra(n,e,t){for(const o in e)!W(e[o])&&!Ia(o,t)&&(n[o]=e[o])}function ey({transformTemplate:n},e){return v.useMemo(()=>{const t=Io();return _o(t,e,n),Object.assign({},t.vars,t.style)},[e])}function ty(n,e){const t=n.style||{},o={};return Ra(o,t,n),Object.assign(o,ey(n,e)),o}function ny(n,e){const t={},o=ty(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=o,t}const oy={offset:"stroke-dashoffset",array:"stroke-dasharray"},iy={offset:"strokeDashoffset",array:"strokeDasharray"};function sy(n,e,t=1,o=0,i=!0){n.pathLength=1;const s=i?oy:iy;n[s.offset]=I.transform(-o);const r=I.transform(e),l=I.transform(t);n[s.array]=`${r} ${l}`}function Da(n,{attrX:e,attrY:t,attrScale:o,pathLength:i,pathSpacing:s=1,pathOffset:r=0,...l},d,c,f){if(_o(n,l,c),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:h,style:p}=n;h.transform&&(p.transform=h.transform,delete h.transform),(p.transform||h.transformOrigin)&&(p.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),p.transform&&(p.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),t!==void 0&&(h.y=t),o!==void 0&&(h.scale=o),i!==void 0&&sy(h,i,s,r,!1)}const Na=()=>({...Io(),attrs:{}}),Va=n=>typeof n=="string"&&n.toLowerCase()==="svg";function ry(n,e,t,o){const i=v.useMemo(()=>{const s=Na();return Da(s,e,Va(o),n.transformTemplate,n.style),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};Ra(s,n.style,n),i.style={...s,...i.style}}return i}const ay=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ro(n){return typeof n!="string"||n.includes("-")?!1:!!(ay.indexOf(n)>-1||/[A-Z]/u.test(n))}function ly(n=!1){return(t,o,i,{latestValues:s},r)=>{const d=(Ro(t)?ry:ny)(o,s,r,t),c=kg(o,typeof t=="string",n),f=t!==v.Fragment?{...c,...d,ref:i}:{},{children:h}=o,p=v.useMemo(()=>W(h)?h.get():h,[h]);return v.createElement(t,{...f,children:p})}}function ds(n){const e=[{},{}];return n==null||n.values.forEach((t,o)=>{e[0][o]=t.get(),e[1][o]=t.getVelocity()}),e}function Do(n,e,t,o){if(typeof e=="function"){const[i,s]=ds(o);e=e(t!==void 0?t:n.custom,i,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,s]=ds(o);e=e(t!==void 0?t:n.custom,i,s)}return e}function Rt(n){return W(n)?n.get():n}function uy({scrapeMotionValuesFromProps:n,createRenderState:e},t,o,i){return{latestValues:cy(t,o,i,n),renderState:e()}}const ba=n=>(e,t)=>{const o=v.useContext(Yt),i=v.useContext(no),s=()=>uy(n,e,o,i);return t?s():Lp(s)};function cy(n,e,t,o){const i={},s=o(n,{});for(const p in s)i[p]=Rt(s[p]);let{initial:r,animate:l}=n;const d=zt(n),c=Pa(n);e&&c&&!d&&n.inherit!==!1&&(r===void 0&&(r=e.initial),l===void 0&&(l=e.animate));let f=t?t.initial===!1:!1;f=f||r===!1;const h=f?l:r;if(h&&typeof h!="boolean"&&!Jt(h)){const p=Array.isArray(h)?h:[h];for(let m=0;m<p.length;m++){const y=Do(n,p[m]);if(y){const{transitionEnd:g,transition:T,...E}=y;for(const S in E){let x=E[S];if(Array.isArray(x)){const A=f?x.length-1:0;x=x[A]}x!==null&&(i[S]=x)}for(const S in g)i[S]=g[S]}}}return i}function No(n,e,t){var s;const{style:o}=n,i={};for(const r in o)(W(o[r])||e.style&&W(e.style[r])||Ia(r,n)||((s=t==null?void 0:t.getValue(r))==null?void 0:s.liveStyle)!==void 0)&&(i[r]=o[r]);return i}const dy={useVisualState:ba({scrapeMotionValuesFromProps:No,createRenderState:Io})};function La(n,e,t){const o=No(n,e,t);for(const i in n)if(W(n[i])||W(e[i])){const s=Ke.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;o[s]=n[i]}return o}const fy={useVisualState:ba({scrapeMotionValuesFromProps:La,createRenderState:Na})};function hy(n,e){return function(o,{forwardMotionProps:i}={forwardMotionProps:!1}){const r={...Ro(o)?fy:dy,preloadedFeatures:n,useRender:ly(i),createVisualElement:e,Component:o};return Kg(r)}}function rt(n,e,t){const o=n.getProps();return Do(o,e,t!==void 0?t:o.custom,n)}const $n=n=>Array.isArray(n);function py(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Oe(t))}function my(n){return $n(n)?n[n.length-1]||0:n}function gy(n,e){const t=rt(n,e);let{transitionEnd:o={},transition:i={},...s}=t||{};s={...s,...o};for(const r in s){const l=my(s[r]);py(n,r,l)}}function yy(n){return!!(W(n)&&n.add)}function Kn(n,e){const t=n.getValue("willChange");if(yy(t))return t.add(e);if(!t&&ae.WillChange){const o=new ae.WillChange("auto");n.addValue("willChange",o),o.add(e)}}function Fa(n){return n.props[wa]}const vy=n=>n!==null;function Ty(n,{repeat:e,repeatType:t="loop"},o){const i=n.filter(vy),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[s]}const Cy={type:"spring",stiffness:500,damping:25,restSpeed:10},Ey=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),xy={type:"keyframes",duration:.8},Sy={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ay=(n,{keyframes:e})=>e.length>2?xy:Ye.has(n)?n.startsWith("scale")?Ey(e[1]):Cy:Sy;function Py({when:n,delay:e,delayChildren:t,staggerChildren:o,staggerDirection:i,repeat:s,repeatType:r,repeatDelay:l,from:d,elapsed:c,...f}){return!!Object.keys(f).length}const Vo=(n,e,t,o={},i,s)=>r=>{const l=Eo(o,n)||{},d=l.delay||o.delay||0;let{elapsed:c=0}=o;c=c-ne(d);const f={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-c,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{r(),l.onComplete&&l.onComplete()},name:n,motionValue:e,element:s?void 0:i};Py(l)||Object.assign(f,Ay(n,f)),f.duration&&(f.duration=ne(f.duration)),f.repeatDelay&&(f.repeatDelay=ne(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(h=!0)),(ae.instantAnimations||ae.skipAnimations)&&(h=!0,f.duration=0,f.delay=0),f.allowFlatten=!l.type&&!l.ease,h&&!s&&e.get()!==void 0){const p=Ty(f.keyframes,l);if(p!==void 0){L.update(()=>{f.onUpdate(p),f.onComplete()});return}}return l.isSync?new To(f):new lg(f)};function wy({protectedKeys:n,needsAnimating:e},t){const o=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,o}function ka(n,e,{delay:t=0,transitionOverride:o,type:i}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:r,...l}=e;o&&(s=o);const d=[],c=i&&n.animationState&&n.animationState.getState()[i];for(const f in l){const h=n.getValue(f,n.latestValues[f]??null),p=l[f];if(p===void 0||c&&wy(c,f))continue;const m={delay:t,...Eo(s||{},f)},y=h.get();if(y!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===y&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const E=Fa(n);if(E){const S=window.MotionHandoffAnimation(E,f,L);S!==null&&(m.startTime=S,g=!0)}}Kn(n,f),h.start(Vo(f,h,p,n.shouldReduceMotion&&fa.has(f)?{type:!1}:m,n,g));const T=h.animation;T&&d.push(T)}return r&&Promise.all(d).then(()=>{L.update(()=>{r&&gy(n,r)})}),d}function Yn(n,e,t={}){var d;const o=rt(n,e,t.type==="exit"?(d=n.presenceContext)==null?void 0:d.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=o||{};t.transitionOverride&&(i=t.transitionOverride);const s=o?()=>Promise.all(ka(n,o,t)):()=>Promise.resolve(),r=n.variantChildren&&n.variantChildren.size?(c=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:p}=i;return My(n,e,f+c,h,p,t)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,f]=l==="beforeChildren"?[s,r]:[r,s];return c().then(()=>f())}else return Promise.all([s(),r(t.delay)])}function My(n,e,t=0,o=0,i=1,s){const r=[],l=(n.variantChildren.size-1)*o,d=i===1?(c=0)=>c*o:(c=0)=>l-c*o;return Array.from(n.variantChildren).sort(_y).forEach((c,f)=>{c.notify("AnimationStart",e),r.push(Yn(c,e,{...s,delay:t+d(f)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(r)}function _y(n,e){return n.sortNodePosition(e)}function Iy(n,e,t={}){n.notify("AnimationStart",e);let o;if(Array.isArray(e)){const i=e.map(s=>Yn(n,s,t));o=Promise.all(i)}else if(typeof e=="string")o=Yn(n,e,t);else{const i=typeof e=="function"?rt(n,e,t.custom):e;o=Promise.all(ka(n,i,t))}return o.then(()=>{n.notify("AnimationComplete",e)})}function Ua(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let o=0;o<t;o++)if(e[o]!==n[o])return!1;return!0}const Ry=wo.length;function Ba(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?Ba(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Ry;t++){const o=wo[t],i=n.props[o];(it(i)||i===!1)&&(e[o]=i)}return e}const Dy=[...Po].reverse(),Ny=Po.length;function Vy(n){return e=>Promise.all(e.map(({animation:t,options:o})=>Iy(n,t,o)))}function by(n){let e=Vy(n),t=fs(),o=!0;const i=d=>(c,f)=>{var p;const h=rt(n,f,d==="exit"?(p=n.presenceContext)==null?void 0:p.custom:void 0);if(h){const{transition:m,transitionEnd:y,...g}=h;c={...c,...g,...y}}return c};function s(d){e=d(n)}function r(d){const{props:c}=n,f=Ba(n.parent)||{},h=[],p=new Set;let m={},y=1/0;for(let T=0;T<Ny;T++){const E=Dy[T],S=t[E],x=c[E]!==void 0?c[E]:f[E],A=it(x),P=E===d?S.isActive:null;P===!1&&(y=T);let w=x===f[E]&&x!==c[E]&&A;if(w&&o&&n.manuallyAnimateOnMount&&(w=!1),S.protectedKeys={...m},!S.isActive&&P===null||!x&&!S.prevProp||Jt(x)||typeof x=="boolean")continue;const M=Ly(S.prevProp,x);let _=M||E===d&&S.isActive&&!w&&A||T>y&&A,N=!1;const D=Array.isArray(x)?x:[x];let V=D.reduce(i(E),{});P===!1&&(V={});const{prevResolvedValues:X={}}=S,Y={...X,...V},O=$=>{_=!0,p.has($)&&(N=!0,p.delete($)),S.needsAnimating[$]=!0;const se=n.getValue($);se&&(se.liveStyle=!1)};for(const $ in Y){const se=V[$],jt=X[$];if(m.hasOwnProperty($))continue;let en=!1;$n(se)&&$n(jt)?en=!Ua(se,jt):en=se!==jt,en?se!=null?O($):p.add($):se!==void 0&&p.has($)?O($):S.protectedKeys[$]=!0}S.prevProp=x,S.prevResolvedValues=V,S.isActive&&(m={...m,...V}),o&&n.blockInitialAnimation&&(_=!1),_&&(!(w&&M)||N)&&h.push(...D.map($=>({animation:$,options:{type:E}})))}if(p.size){const T={};if(typeof c.initial!="boolean"){const E=rt(n,Array.isArray(c.initial)?c.initial[0]:c.initial);E&&E.transition&&(T.transition=E.transition)}p.forEach(E=>{const S=n.getBaseTarget(E),x=n.getValue(E);x&&(x.liveStyle=!0),T[E]=S??null}),h.push({animation:T})}let g=!!h.length;return o&&(c.initial===!1||c.initial===c.animate)&&!n.manuallyAnimateOnMount&&(g=!1),o=!1,g?e(h):Promise.resolve()}function l(d,c){var h;if(t[d].isActive===c)return Promise.resolve();(h=n.variantChildren)==null||h.forEach(p=>{var m;return(m=p.animationState)==null?void 0:m.setActive(d,c)}),t[d].isActive=c;const f=r(d);for(const p in t)t[p].protectedKeys={};return f}return{animateChanges:r,setActive:l,setAnimateFunction:s,getState:()=>t,reset:()=>{t=fs(),o=!0}}}function Ly(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!Ua(e,n):!1}function Ce(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fs(){return{animate:Ce(!0),whileInView:Ce(),whileHover:Ce(),whileTap:Ce(),whileDrag:Ce(),whileFocus:Ce(),exit:Ce()}}class Te{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Fy extends Te{constructor(e){super(e),e.animationState||(e.animationState=by(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Jt(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let ky=0;class Uy extends Te{constructor(){super(...arguments),this.id=ky++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const By={animation:{Feature:Fy},exit:{Feature:Uy}};function at(n,e,t,o={passive:!0}){return n.addEventListener(e,t,o),()=>n.removeEventListener(e,t)}function pt(n){return{point:{x:n.pageX,y:n.pageY}}}const Gy=n=>e=>Ao(e)&&n(e,pt(e));function Qe(n,e,t,o){return at(n,e,Gy(t),o)}function Ga({top:n,left:e,right:t,bottom:o}){return{x:{min:e,max:t},y:{min:n,max:o}}}function Oy({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function qy(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),o=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:o.y,right:o.x}}const Oa=1e-4,Hy=1-Oa,Wy=1+Oa,qa=.01,$y=0-qa,Ky=0+qa;function K(n){return n.max-n.min}function Yy(n,e,t){return Math.abs(n-e)<=t}function hs(n,e,t,o=.5){n.origin=o,n.originPoint=b(e.min,e.max,n.origin),n.scale=K(t)/K(e),n.translate=b(t.min,t.max,n.origin)-n.originPoint,(n.scale>=Hy&&n.scale<=Wy||isNaN(n.scale))&&(n.scale=1),(n.translate>=$y&&n.translate<=Ky||isNaN(n.translate))&&(n.translate=0)}function je(n,e,t,o){hs(n.x,e.x,t.x,o?o.originX:void 0),hs(n.y,e.y,t.y,o?o.originY:void 0)}function ps(n,e,t){n.min=t.min+e.min,n.max=n.min+K(e)}function Jy(n,e,t){ps(n.x,e.x,t.x),ps(n.y,e.y,t.y)}function ms(n,e,t){n.min=e.min-t.min,n.max=n.min+K(e)}function et(n,e,t){ms(n.x,e.x,t.x),ms(n.y,e.y,t.y)}const gs=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fe=()=>({x:gs(),y:gs()}),ys=()=>({min:0,max:0}),U=()=>({x:ys(),y:ys()});function Q(n){return[n("x"),n("y")]}function ln(n){return n===void 0||n===1}function Jn({scale:n,scaleX:e,scaleY:t}){return!ln(n)||!ln(e)||!ln(t)}function xe(n){return Jn(n)||Ha(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Ha(n){return vs(n.x)||vs(n.y)}function vs(n){return n&&n!=="0%"}function Ot(n,e,t){const o=n-t,i=e*o;return t+i}function Ts(n,e,t,o,i){return i!==void 0&&(n=Ot(n,i,o)),Ot(n,t,o)+e}function zn(n,e=0,t=1,o,i){n.min=Ts(n.min,e,t,o,i),n.max=Ts(n.max,e,t,o,i)}function Wa(n,{x:e,y:t}){zn(n.x,e.translate,e.scale,e.originPoint),zn(n.y,t.translate,t.scale,t.originPoint)}const Cs=.999999999999,Es=1.0000000000001;function zy(n,e,t,o=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,r;for(let l=0;l<i;l++){s=t[l],r=s.projectionDelta;const{visualElement:d}=s.options;d&&d.props.style&&d.props.style.display==="contents"||(o&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ue(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),r&&(e.x*=r.x.scale,e.y*=r.y.scale,Wa(n,r)),o&&xe(s.latestValues)&&Ue(n,s.latestValues))}e.x<Es&&e.x>Cs&&(e.x=1),e.y<Es&&e.y>Cs&&(e.y=1)}function ke(n,e){n.min=n.min+e,n.max=n.max+e}function xs(n,e,t,o,i=.5){const s=b(n.min,n.max,i);zn(n,e,t,s,o)}function Ue(n,e){xs(n.x,e.x,e.scaleX,e.scale,e.originX),xs(n.y,e.y,e.scaleY,e.scale,e.originY)}function $a(n,e){return Ga(qy(n.getBoundingClientRect(),e))}function Xy(n,e,t){const o=$a(n,t),{scroll:i}=e;return i&&(ke(o.x,i.offset.x),ke(o.y,i.offset.y)),o}const Ka=({current:n})=>n?n.ownerDocument.defaultView:null,Ss=(n,e)=>Math.abs(n-e);function Zy(n,e){const t=Ss(n.x,e.x),o=Ss(n.y,e.y);return Math.sqrt(t**2+o**2)}class Ya{constructor(e,t,{transformPagePoint:o,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=cn(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Zy(h.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:y}=h,{timestamp:g}=G;this.history.push({...y,timestamp:g});const{onStart:T,onMove:E}=this.handlers;p||(T&&T(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=un(p,this.transformPagePoint),L.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=cn(h.type==="pointercancel"?this.lastMoveEventInfo:un(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,T),y&&y(h,T)},!Ao(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=o,this.contextWindow=i||window;const r=pt(e),l=un(r,this.transformPagePoint),{point:d}=l,{timestamp:c}=G;this.history=[{...d,timestamp:c}];const{onSessionStart:f}=t;f&&f(e,cn(l,this.history)),this.removeListeners=dt(Qe(this.contextWindow,"pointermove",this.handlePointerMove),Qe(this.contextWindow,"pointerup",this.handlePointerUp),Qe(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),pe(this.updatePoint)}}function un(n,e){return e?{point:e(n.point)}:n}function As(n,e){return{x:n.x-e.x,y:n.y-e.y}}function cn({point:n},e){return{point:n,delta:As(n,Ja(e)),offset:As(n,Qy(e)),velocity:jy(e,.1)}}function Qy(n){return n[0]}function Ja(n){return n[n.length-1]}function jy(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,o=null;const i=Ja(n);for(;t>=0&&(o=n[t],!(i.timestamp-o.timestamp>ne(e)));)t--;if(!o)return{x:0,y:0};const s=oe(i.timestamp-o.timestamp);if(s===0)return{x:0,y:0};const r={x:(i.x-o.x)/s,y:(i.y-o.y)/s};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function ev(n,{min:e,max:t},o){return e!==void 0&&n<e?n=o?b(e,n,o.min):Math.max(n,e):t!==void 0&&n>t&&(n=o?b(t,n,o.max):Math.min(n,t)),n}function Ps(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function tv(n,{top:e,left:t,bottom:o,right:i}){return{x:Ps(n.x,t,i),y:Ps(n.y,e,o)}}function ws(n,e){let t=e.min-n.min,o=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,o]=[o,t]),{min:t,max:o}}function nv(n,e){return{x:ws(n.x,e.x),y:ws(n.y,e.y)}}function ov(n,e){let t=.5;const o=K(n),i=K(e);return i>o?t=tt(e.min,e.max-o,n.min):o>i&&(t=tt(n.min,n.max-i,e.min)),re(0,1,t)}function iv(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Xn=.35;function sv(n=Xn){return n===!1?n=0:n===!0&&(n=Xn),{x:Ms(n,"left","right"),y:Ms(n,"top","bottom")}}function Ms(n,e,t){return{min:_s(n,e),max:_s(n,t)}}function _s(n,e){return typeof n=="number"?n:n[e]||0}const rv=new WeakMap;class av{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=U(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(pt(f).point)},s=(f,h)=>{const{drag:p,dragPropagation:m,onDragStart:y}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ag(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Q(T=>{let E=this.getAxisMotionValue(T).get()||0;if(ie.test(E)){const{projection:S}=this.visualElement;if(S&&S.layout){const x=S.layout.layoutBox[T];x&&(E=K(x)*(parseFloat(E)/100))}}this.originPoint[T]=E}),y&&L.postRender(()=>y(f,h)),Kn(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},r=(f,h)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:y,onDrag:g}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:T}=h;if(m&&this.currentDirection===null){this.currentDirection=lv(T),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,T),this.updateAxis("y",h.point,T),this.visualElement.render(),g&&g(f,h)},l=(f,h)=>this.stop(f,h),d=()=>Q(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new Ya(e,{onSessionStart:i,onStart:s,onMove:r,onSessionEnd:l,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Ka(this.visualElement)})}stop(e,t){const o=this.isDragging;if(this.cancel(),!o)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&L.postRender(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,o){const{drag:i}=this.getProps();if(!o||!Ct(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let r=this.originPoint[e]+o[e];this.constraints&&this.constraints[e]&&(r=ev(r,this.constraints[e],this.elastic[e])),s.set(r)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:t}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Le(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&o?this.constraints=tv(o.layoutBox,e):this.constraints=!1,this.elastic=sv(t),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Q(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=iv(o.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Le(e))return!1;const o=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Xy(o,i.root,this.visualElement.getTransformPagePoint());let r=nv(i.layout.layoutBox,s);if(t){const l=t(Oy(r));this.hasMutatedConstraints=!!l,l&&(r=Ga(l))}return r}startAnimation(e){const{drag:t,dragMomentum:o,dragElastic:i,dragTransition:s,dragSnapToOrigin:r,onDragTransitionEnd:l}=this.getProps(),d=this.constraints||{},c=Q(f=>{if(!Ct(f,t,this.currentDirection))return;let h=d&&d[f]||{};r&&(h={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:o?e[f]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(f,y)});return Promise.all(c).then(l)}startAxisValueAnimation(e,t){const o=this.getAxisMotionValue(e);return Kn(this.visualElement,e),o.start(Vo(e,o,0,t,this.visualElement,!1))}stopAnimation(){Q(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Q(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,o=this.visualElement.getProps(),i=o[t];return i||this.visualElement.getValue(e,(o.initial?o.initial[e]:void 0)||0)}snapToCursor(e){Q(t=>{const{drag:o}=this.getProps();if(!Ct(t,o,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:r,max:l}=i.layout.layoutBox[t];s.set(e[t]-b(r,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:o}=this.visualElement;if(!Le(t)||!o||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Q(r=>{const l=this.getAxisMotionValue(r);if(l&&this.constraints!==!1){const d=l.get();i[r]=ov({min:d,max:d},this.constraints[r])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),Q(r=>{if(!Ct(r,e,null))return;const l=this.getAxisMotionValue(r),{min:d,max:c}=this.constraints[r];l.set(b(d,c,i[r]))})}addListeners(){if(!this.visualElement.current)return;rv.set(this.visualElement,this);const e=this.visualElement.current,t=Qe(e,"pointerdown",d=>{const{drag:c,dragListener:f=!0}=this.getProps();c&&f&&this.start(d)}),o=()=>{const{dragConstraints:d}=this.getProps();Le(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",o);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),L.read(o);const r=at(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:d,hasLayoutChanged:c})=>{this.isDragging&&c&&(Q(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=d[f].translate,h.set(h.get()+d[f].translate))}),this.visualElement.render())});return()=>{r(),t(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:o=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:r=Xn,dragMomentum:l=!0}=e;return{...e,drag:t,dragDirectionLock:o,dragPropagation:i,dragConstraints:s,dragElastic:r,dragMomentum:l}}}function Ct(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function lv(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class uv extends Te{constructor(e){super(e),this.removeGroupControls=j,this.removeListeners=j,this.controls=new av(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||j}unmount(){this.removeGroupControls(),this.removeListeners()}}const Is=n=>(e,t)=>{n&&L.postRender(()=>n(e,t))};class cv extends Te{constructor(){super(...arguments),this.removePointerDownListener=j}onPointerDown(e){this.session=new Ya(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ka(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:o,onPanEnd:i}=this.node.getProps();return{onSessionStart:Is(e),onStart:Is(t),onMove:o,onEnd:(s,r)=>{delete this.session,i&&L.postRender(()=>i(s,r))}}}mount(){this.removePointerDownListener=Qe(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Dt={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Rs(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Je={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(I.test(n))n=parseFloat(n);else return n;const t=Rs(n,e.target.x),o=Rs(n,e.target.y);return`${t}% ${o}%`}},dv={correct:(n,{treeScale:e,projectionDelta:t})=>{const o=n,i=me.parse(n);if(i.length>5)return o;const s=me.createTransformer(n),r=typeof i[0]!="number"?1:0,l=t.x.scale*e.x,d=t.y.scale*e.y;i[0+r]/=l,i[1+r]/=d;const c=b(l,d,.5);return typeof i[2+r]=="number"&&(i[2+r]/=c),typeof i[3+r]=="number"&&(i[3+r]/=c),s(i)}};class fv extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:o,layoutId:i}=this.props,{projection:s}=e;Xg(hv),s&&(t.group&&t.group.add(s),o&&o.register&&i&&o.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Dt.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:o,drag:i,isPresent:s}=this.props,{projection:r}=o;return r&&(r.isPresent=s,i||e.layoutDependency!==t||t===void 0||e.isPresent!==s?r.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?r.promote():r.relegate()||L.postRender(()=>{const l=r.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),So.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:o}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),o&&o.deregister&&o.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function za(n){const[e,t]=Vg(),o=v.useContext(Dr);return C.jsx(fv,{...n,layoutGroup:o,switchLayoutGroup:v.useContext(Ma),isPresent:e,safeToRemove:t})}const hv={borderRadius:{...Je,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Je,borderTopRightRadius:Je,borderBottomLeftRadius:Je,borderBottomRightRadius:Je,boxShadow:dv};function pv(n,e,t){const o=W(n)?n:Oe(n);return o.start(Vo("",o,e,t)),o.animation}const mv=(n,e)=>n.depth-e.depth;class gv{constructor(){this.children=[],this.isDirty=!1}add(e){oo(this.children,e),this.isDirty=!0}remove(e){io(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mv),this.isDirty=!1,this.children.forEach(e)}}function yv(n,e){const t=z.now(),o=({timestamp:i})=>{const s=i-t;s>=e&&(pe(o),n(s-e))};return L.setup(o,!0),()=>pe(o)}const Xa=["TopLeft","TopRight","BottomLeft","BottomRight"],vv=Xa.length,Ds=n=>typeof n=="string"?parseFloat(n):n,Ns=n=>typeof n=="number"||I.test(n);function Tv(n,e,t,o,i,s){i?(n.opacity=b(0,t.opacity??1,Cv(o)),n.opacityExit=b(e.opacity??1,0,Ev(o))):s&&(n.opacity=b(e.opacity??1,t.opacity??1,o));for(let r=0;r<vv;r++){const l=`border${Xa[r]}Radius`;let d=Vs(e,l),c=Vs(t,l);if(d===void 0&&c===void 0)continue;d||(d=0),c||(c=0),d===0||c===0||Ns(d)===Ns(c)?(n[l]=Math.max(b(Ds(d),Ds(c),o),0),(ie.test(c)||ie.test(d))&&(n[l]+="%")):n[l]=c}(e.rotate||t.rotate)&&(n.rotate=b(e.rotate||0,t.rotate||0,o))}function Vs(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const Cv=Za(0,.5,qr),Ev=Za(.5,.95,j);function Za(n,e,t){return o=>o<n?0:o>e?1:t(tt(n,e,o))}function bs(n,e){n.min=e.min,n.max=e.max}function Z(n,e){bs(n.x,e.x),bs(n.y,e.y)}function Ls(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function Fs(n,e,t,o,i){return n-=e,n=Ot(n,1/t,o),i!==void 0&&(n=Ot(n,1/i,o)),n}function xv(n,e=0,t=1,o=.5,i,s=n,r=n){if(ie.test(e)&&(e=parseFloat(e),e=b(r.min,r.max,e/100)-r.min),typeof e!="number")return;let l=b(s.min,s.max,o);n===s&&(l-=e),n.min=Fs(n.min,e,t,l,i),n.max=Fs(n.max,e,t,l,i)}function ks(n,e,[t,o,i],s,r){xv(n,e[t],e[o],e[i],e.scale,s,r)}const Sv=["x","scaleX","originX"],Av=["y","scaleY","originY"];function Us(n,e,t,o){ks(n.x,e,Sv,t?t.x:void 0,o?o.x:void 0),ks(n.y,e,Av,t?t.y:void 0,o?o.y:void 0)}function Bs(n){return n.translate===0&&n.scale===1}function Qa(n){return Bs(n.x)&&Bs(n.y)}function Gs(n,e){return n.min===e.min&&n.max===e.max}function Pv(n,e){return Gs(n.x,e.x)&&Gs(n.y,e.y)}function Os(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function ja(n,e){return Os(n.x,e.x)&&Os(n.y,e.y)}function qs(n){return K(n.x)/K(n.y)}function Hs(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class wv{constructor(){this.members=[]}add(e){oo(this.members,e),e.scheduleRender()}remove(e){if(io(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let o;for(let i=t;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){o=s;break}}return o?(this.promote(o),!0):!1}promote(e,t){const o=this.lead;if(e!==o&&(this.prevLead=o,this.lead=e,e.show(),o)){o.instance&&o.scheduleRender(),e.scheduleRender(),e.resumeFrom=o,t&&(e.resumeFrom.preserveOpacity=!0),o.snapshot&&(e.snapshot=o.snapshot,e.snapshot.latestValues=o.animationValues||o.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:o}=e;t.onExitComplete&&t.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Mv(n,e,t){let o="";const i=n.x.translate/e.x,s=n.y.translate/e.y,r=(t==null?void 0:t.z)||0;if((i||s||r)&&(o=`translate3d(${i}px, ${s}px, ${r}px) `),(e.x!==1||e.y!==1)&&(o+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:c,rotate:f,rotateX:h,rotateY:p,skewX:m,skewY:y}=t;c&&(o=`perspective(${c}px) ${o}`),f&&(o+=`rotate(${f}deg) `),h&&(o+=`rotateX(${h}deg) `),p&&(o+=`rotateY(${p}deg) `),m&&(o+=`skewX(${m}deg) `),y&&(o+=`skewY(${y}deg) `)}const l=n.x.scale*e.x,d=n.y.scale*e.y;return(l!==1||d!==1)&&(o+=`scale(${l}, ${d})`),o||"none"}const dn=["","X","Y","Z"],_v={visibility:"hidden"},Iv=1e3;let Rv=0;function fn(n,e,t,o){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),o&&(o[n]=0))}function el(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=Fa(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",L,!(i||s))}const{parent:o}=n;o&&!o.hasCheckedOptimisedAppear&&el(o)}function tl({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:o,resetTransform:i}){return class{constructor(r={},l=e==null?void 0:e()){this.id=Rv++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Vv),this.nodes.forEach(Uv),this.nodes.forEach(Bv),this.nodes.forEach(bv)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new gv)}addEventListener(r,l){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new ao),this.eventHandlers.get(r).add(l)}notifyListeners(r,...l){const d=this.eventHandlers.get(r);d&&d.notify(...l)}hasListeners(r){return this.eventHandlers.has(r)}mount(r){if(this.instance)return;this.isSVG=Ea(r)&&!Rg(r),this.instance=r;const{layoutId:l,layout:d,visualElement:c}=this.options;if(c&&!c.current&&c.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||l)&&(this.isLayoutDirty=!0),n){let f;const h=()=>this.root.updateBlockedByResize=!1;n(r,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=yv(h,250),Dt.hasAnimatedSinceResize&&(Dt.hasAnimatedSinceResize=!1,this.nodes.forEach($s))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||Wv,{onLayoutAnimationStart:g,onLayoutAnimationComplete:T}=c.getProps(),E=!this.targetLayout||!ja(this.targetLayout,m),S=!h&&p;if(this.options.layoutRoot||this.resumeFrom||S||h&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,S);const x={...Eo(y,"layout"),onPlay:g,onComplete:T};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else h||$s(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),pe(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Gv),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&el(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:d}=this.options;if(l===void 0&&!d)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ws);return}this.isUpdating||this.nodes.forEach(Fv),this.isUpdating=!1,this.nodes.forEach(kv),this.nodes.forEach(Dv),this.nodes.forEach(Nv),this.clearAllSnapshots();const l=z.now();G.delta=re(0,1e3/60,l-G.timestamp),G.timestamp=l,G.isProcessing=!0,nn.update.process(G),nn.preRender.process(G),nn.render.process(G),G.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,So.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Lv),this.sharedNodes.forEach(Ov)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,L.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){L.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!K(this.snapshot.measuredBox.x)&&!K(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutCorrected=U(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(l=!1),l&&this.instance){const d=o(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Qa(this.projectionDelta),d=this.getTransformTemplate(),c=d?d(this.latestValues,""):void 0,f=c!==this.prevTransformTemplateValue;r&&this.instance&&(l||xe(this.latestValues)||f)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const l=this.measurePageBox();let d=this.removeElementScroll(l);return r&&(d=this.removeTransform(d)),$v(d),{animationId:this.root.animationId,measuredBox:l,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:r}=this.options;if(!r)return U();const l=r.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Kv))){const{scroll:f}=this.root;f&&(ke(l.x,f.offset.x),ke(l.y,f.offset.y))}return l}removeElementScroll(r){var d;const l=U();if(Z(l,r),(d=this.scroll)!=null&&d.wasRoot)return l;for(let c=0;c<this.path.length;c++){const f=this.path[c],{scroll:h,options:p}=f;f!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&Z(l,r),ke(l.x,h.offset.x),ke(l.y,h.offset.y))}return l}applyTransform(r,l=!1){const d=U();Z(d,r);for(let c=0;c<this.path.length;c++){const f=this.path[c];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Ue(d,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),xe(f.latestValues)&&Ue(d,f.latestValues)}return xe(this.latestValues)&&Ue(d,this.latestValues),d}removeTransform(r){const l=U();Z(l,r);for(let d=0;d<this.path.length;d++){const c=this.path[d];if(!c.instance||!xe(c.latestValues))continue;Jn(c.latestValues)&&c.updateSnapshot();const f=U(),h=c.measurePageBox();Z(f,h),Us(l,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,f)}return xe(this.latestValues)&&Us(l,this.latestValues),l}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==G.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(r||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=G.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=U(),this.relativeTargetOrigin=U(),et(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Z(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=U(),this.targetWithTransforms=U()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Jy(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Z(this.target,this.layout.layoutBox),Wa(this.target,this.targetDelta)):Z(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=U(),this.relativeTargetOrigin=U(),et(this.relativeTargetOrigin,this.target,m.target),Z(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Jn(this.parent.latestValues)||Ha(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const r=this.getLead(),l=!!this.resumingFrom||this!==r;let d=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===G.timestamp&&(d=!1),d)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;Z(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;zy(this.layoutCorrected,this.treeScale,this.path,l),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=U());const{target:m}=r;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ls(this.prevProjectionDelta.x,this.projectionDelta.x),Ls(this.prevProjectionDelta.y,this.projectionDelta.y)),je(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!Hs(this.projectionDelta.x,this.prevProjectionDelta.x)||!Hs(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),r){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fe(),this.projectionDelta=Fe(),this.projectionDeltaWithTransform=Fe()}setAnimationOrigin(r,l=!1){const d=this.snapshot,c=d?d.latestValues:{},f={...this.latestValues},h=Fe();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=U(),m=d?d.source:void 0,y=this.layout?this.layout.source:void 0,g=m!==y,T=this.getStack(),E=!T||T.members.length<=1,S=!!(g&&!E&&this.options.crossfade===!0&&!this.path.some(Hv));this.animationProgress=0;let x;this.mixTargetDelta=A=>{const P=A/1e3;Ks(h.x,r.x,P),Ks(h.y,r.y,P),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(et(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qv(this.relativeTarget,this.relativeTargetOrigin,p,P),x&&Pv(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=U()),Z(x,this.relativeTarget)),g&&(this.animationValues=f,Tv(f,c,this.latestValues,P,S,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){var l,d,c;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(!1),(c=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(pe(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=L.update(()=>{Dt.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Oe(0)),this.currentAnimation=pv(this.motionValue,[0,1e3],{...r,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),r.onUpdate&&r.onUpdate(f)},onStop:()=>{},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Iv),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:l,target:d,layout:c,latestValues:f}=r;if(!(!l||!d||!c)){if(this!==r&&this.layout&&c&&nl(this.options.animationType,this.layout.layoutBox,c.layoutBox)){d=this.target||U();const h=K(this.layout.layoutBox.x);d.x.min=r.target.x.min,d.x.max=d.x.min+h;const p=K(this.layout.layoutBox.y);d.y.min=r.target.y.min,d.y.max=d.y.min+p}Z(l,d),Ue(l,f),je(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(r,l){this.sharedNodes.has(r)||this.sharedNodes.set(r,new wv),this.sharedNodes.get(r).add(l);const c=l.options.initialPromotionConfig;l.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(l):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){var l;const{layoutId:r}=this.options;return r?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:r}=this.options;return r?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:l,preserveFollowOpacity:d}={}){const c=this.getStack();c&&c.promote(this,d),r&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let l=!1;const{latestValues:d}=r;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(l=!0),!l)return;const c={};d.z&&fn("z",r,c,this.animationValues);for(let f=0;f<dn.length;f++)fn(`rotate${dn[f]}`,r,c,this.animationValues),fn(`skew${dn[f]}`,r,c,this.animationValues);r.render();for(const f in c)r.setStaticValue(f,c[f]),this.animationValues&&(this.animationValues[f]=c[f]);r.scheduleRender()}getProjectionStyles(r){if(!this.instance||this.isSVG)return;if(!this.isVisible)return _v;const l={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Rt(r==null?void 0:r.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none",l;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Rt(r==null?void 0:r.pointerEvents)||""),this.hasProjected&&!xe(this.latestValues)&&(m.transform=d?d({},""):"none",this.hasProjected=!1),m}const f=c.animationValues||c.latestValues;this.applyTransformsToTarget(),l.transform=Mv(this.projectionDeltaWithTransform,this.treeScale,f),d&&(l.transform=d(f,l.transform));const{x:h,y:p}=this.projectionDelta;l.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,c.animationValues?l.opacity=c===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=c===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const m in st){if(f[m]===void 0)continue;const{correct:y,applyTo:g,isCSSVariable:T}=st[m],E=l.transform==="none"?f[m]:y(f[m],c);if(g){const S=g.length;for(let x=0;x<S;x++)l[g[x]]=E}else T?this.options.visualElement.renderState.vars[m]=E:l[m]=E}return this.options.layoutId&&(l.pointerEvents=c===this?Rt(r==null?void 0:r.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>{var l;return(l=r.currentAnimation)==null?void 0:l.stop(!1)}),this.root.nodes.forEach(Ws),this.root.sharedNodes.clear()}}}function Dv(n){n.updateLayout()}function Nv(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:o,measuredBox:i}=n.layout,{animationType:s}=n.options,r=e.source!==n.layout.source;s==="size"?Q(h=>{const p=r?e.measuredBox[h]:e.layoutBox[h],m=K(p);p.min=o[h].min,p.max=p.min+m}):nl(s,e.layoutBox,o)&&Q(h=>{const p=r?e.measuredBox[h]:e.layoutBox[h],m=K(o[h]);p.max=p.min+m,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[h].max=n.relativeTarget[h].min+m)});const l=Fe();je(l,o,e.layoutBox);const d=Fe();r?je(d,n.applyTransform(i,!0),e.measuredBox):je(d,o,e.layoutBox);const c=!Qa(l);let f=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:m}=h;if(p&&m){const y=U();et(y,e.layoutBox,p.layoutBox);const g=U();et(g,o,m.layoutBox),ja(y,g)||(f=!0),h.options.layoutRoot&&(n.relativeTarget=g,n.relativeTargetOrigin=y,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:o,snapshot:e,delta:d,layoutDelta:l,hasLayoutChanged:c,hasRelativeLayoutChanged:f})}else if(n.isLead()){const{onExitComplete:o}=n.options;o&&o()}n.options.transition=void 0}function Vv(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function bv(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Lv(n){n.clearSnapshot()}function Ws(n){n.clearMeasurements()}function Fv(n){n.isLayoutDirty=!1}function kv(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function $s(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Uv(n){n.resolveTargetDelta()}function Bv(n){n.calcProjection()}function Gv(n){n.resetSkewAndRotation()}function Ov(n){n.removeLeadSnapshot()}function Ks(n,e,t){n.translate=b(e.translate,0,t),n.scale=b(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Ys(n,e,t,o){n.min=b(e.min,t.min,o),n.max=b(e.max,t.max,o)}function qv(n,e,t,o){Ys(n.x,e.x,t.x,o),Ys(n.y,e.y,t.y,o)}function Hv(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Wv={duration:.45,ease:[.4,0,.1,1]},Js=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),zs=Js("applewebkit/")&&!Js("chrome/")?Math.round:j;function Xs(n){n.min=zs(n.min),n.max=zs(n.max)}function $v(n){Xs(n.x),Xs(n.y)}function nl(n,e,t){return n==="position"||n==="preserve-aspect"&&!Yy(qs(e),qs(t),.2)}function Kv(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const Yv=tl({attachResizeListener:(n,e)=>at(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hn={current:void 0},ol=tl({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!hn.current){const n=new Yv({});n.mount(window),n.setOptions({layoutScroll:!0}),hn.current=n}return hn.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Jv={pan:{Feature:cv},drag:{Feature:uv,ProjectionNode:ol,MeasureLayout:za}};function Zs(n,e,t){const{props:o}=n;n.animationState&&o.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=o[i];s&&L.postRender(()=>s(e,pt(e)))}class zv extends Te{mount(){const{current:e}=this.node;e&&(this.unmount=Pg(e,(t,o)=>(Zs(this.node,o,"Start"),i=>Zs(this.node,i,"End"))))}unmount(){}}class Xv extends Te{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dt(at(this.node.current,"focus",()=>this.onFocus()),at(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Qs(n,e,t){const{props:o}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&o.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=o[i];s&&L.postRender(()=>s(e,pt(e)))}class Zv extends Te{mount(){const{current:e}=this.node;e&&(this.unmount=Ig(e,(t,o)=>(Qs(this.node,o,"Start"),(i,{success:s})=>Qs(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Zn=new WeakMap,pn=new WeakMap,Qv=n=>{const e=Zn.get(n.target);e&&e(n)},jv=n=>{n.forEach(Qv)};function eT({root:n,...e}){const t=n||document;pn.has(t)||pn.set(t,{});const o=pn.get(t),i=JSON.stringify(e);return o[i]||(o[i]=new IntersectionObserver(jv,{root:n,...e})),o[i]}function tT(n,e,t){const o=eT(e);return Zn.set(n,t),o.observe(n),()=>{Zn.delete(n),o.unobserve(n)}}const nT={some:0,all:1};class oT extends Te{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:o,amount:i="some",once:s}=e,r={root:t?t.current:void 0,rootMargin:o,threshold:typeof i=="number"?i:nT[i]},l=d=>{const{isIntersecting:c}=d;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),p=c?f:h;p&&p(d)};return tT(this.node.current,r,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(iT(e,t))&&this.startObserver()}unmount(){}}function iT({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const sT={inView:{Feature:oT},tap:{Feature:Zv},focus:{Feature:Xv},hover:{Feature:zv}},rT={layout:{ProjectionNode:ol,MeasureLayout:za}},Qn={current:null},il={current:!1};function aT(){if(il.current=!0,!!to)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Qn.current=n.matches;n.addListener(e),e()}else Qn.current=!1}const lT=new WeakMap;function uT(n,e,t){for(const o in e){const i=e[o],s=t[o];if(W(i))n.addValue(o,i);else if(W(s))n.addValue(o,Oe(i,{owner:n}));else if(s!==i)if(n.hasValue(o)){const r=n.getValue(o);r.liveStyle===!0?r.jump(i):r.hasAnimated||r.set(i)}else{const r=n.getStaticValue(o);n.addValue(o,Oe(r!==void 0?r:i,{owner:n}))}}for(const o in t)e[o]===void 0&&n.removeValue(o);return e}const js=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cT{scrapeMotionValuesFromProps(e,t,o){return{}}constructor({parent:e,props:t,presenceContext:o,reducedMotionConfig:i,blockInitialAnimation:s,visualState:r},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Co,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=z.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,L.render(this.render,!1,!0))};const{latestValues:d,renderState:c}=r;this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=c,this.parent=e,this.props=t,this.presenceContext=o,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=zt(t),this.isVariantNode=Pa(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(t,{},this);for(const p in h){const m=h[p];d[p]!==void 0&&W(m)&&m.set(d[p],!1)}}mount(e){this.current=e,lT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,o)=>this.bindToMotionValue(o,t)),il.current||aT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qn.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),pe(this.notifyUpdate),pe(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const o=Ye.has(e);o&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&L.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in qe){const t=qe[e];if(!t)continue;const{isEnabled:o,Feature:i}=t;if(!this.features[e]&&i&&o(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):U()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let o=0;o<js.length;o++){const i=js[o];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,r=e[s];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=uT(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const o=this.values.get(e);t!==o&&(o&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let o=this.values.get(e);return o===void 0&&t!==void 0&&(o=Oe(t===null?void 0:t,{owner:this}),this.addValue(e,o)),o}readValue(e,t){let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(Nr(o)||br(o))?o=parseFloat(o):!Ng(o)&&me.test(t)&&(o=ga(e,t)),this.setBaseTarget(e,W(o)?o.get():o)),W(o)?o.get():o}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var s;const{initial:t}=this.props;let o;if(typeof t=="string"||typeof t=="object"){const r=Do(this.props,t,(s=this.presenceContext)==null?void 0:s.custom);r&&(o=r[e])}if(t&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!W(i)?i:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new ao),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class sl extends cT{constructor(){super(...arguments),this.KeyframeResolver=Cg}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:o}){delete t[e],delete o[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;W(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function rl(n,{style:e,vars:t},o,i){Object.assign(n.style,e,i&&i.getProjectionStyles(o));for(const s in t)n.style.setProperty(s,t[s])}function dT(n){return window.getComputedStyle(n)}class fT extends sl{constructor(){super(...arguments),this.type="html",this.renderInstance=rl}readValueFromInstance(e,t){var o;if(Ye.has(t))return(o=this.projection)!=null&&o.isProjecting?Bn(t):Bm(e,t);{const i=dT(e),s=(co(t)?i.getPropertyValue(t):i[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return $a(e,t)}build(e,t,o){_o(e,t,o.transformTemplate)}scrapeMotionValuesFromProps(e,t,o){return No(e,t,o)}}const al=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hT(n,e,t,o){rl(n,e,void 0,o);for(const i in e.attrs)n.setAttribute(al.has(i)?i:Mo(i),e.attrs[i])}class pT extends sl{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=U}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ye.has(t)){const o=ma(t);return o&&o.default||0}return t=al.has(t)?t:Mo(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,o){return La(e,t,o)}build(e,t,o){Da(e,t,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(e,t,o,i){hT(e,t,o,i)}mount(e){this.isSVGTag=Va(e.tagName),super.mount(e)}}const mT=(n,e)=>Ro(n)?new pT(e):new fT(e,{allowProjection:n!==v.Fragment}),gT=hy({...By,...sT,...Jv,...rT},mT),Ee=Ug(gT);function he(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function yT(n,e){const t=v.createContext(e),o=s=>{const{children:r,...l}=s,d=v.useMemo(()=>l,Object.values(l));return C.jsx(t.Provider,{value:d,children:r})};o.displayName=n+"Provider";function i(s){const r=v.useContext(t);if(r)return r;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${n}\``)}return[o,i]}function vT(n,e=[]){let t=[];function o(s,r){const l=v.createContext(r),d=t.length;t=[...t,r];const c=h=>{var E;const{scope:p,children:m,...y}=h,g=((E=p==null?void 0:p[n])==null?void 0:E[d])||l,T=v.useMemo(()=>y,Object.values(y));return C.jsx(g.Provider,{value:T,children:m})};c.displayName=s+"Provider";function f(h,p){var g;const m=((g=p==null?void 0:p[n])==null?void 0:g[d])||l,y=v.useContext(m);if(y)return y;if(r!==void 0)return r;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,f]}const i=()=>{const s=t.map(r=>v.createContext(r));return function(l){const d=(l==null?void 0:l[n])||s;return v.useMemo(()=>({[`__scope${n}`]:{...l,[n]:d}}),[l,d])}};return i.scopeName=n,[o,TT(i,...e)]}function TT(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const o=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const r=o.reduce((l,{useScope:d,scopeName:c})=>{const h=d(s)[`__scope${c}`];return{...l,...h}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:r}),[r])}};return t.scopeName=e.scopeName,t}var lt=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},CT=fr[" useId ".trim().toString()]||(()=>{}),ET=0;function mn(n){const[e,t]=v.useState(CT());return lt(()=>{t(o=>o??String(ET++))},[n]),n||(e?`radix-${e}`:"")}var xT=fr[" useInsertionEffect ".trim().toString()]||lt;function ST({prop:n,defaultProp:e,onChange:t=()=>{},caller:o}){const[i,s,r]=AT({defaultProp:e,onChange:t}),l=n!==void 0,d=l?n:i;{const f=v.useRef(n!==void 0);v.useEffect(()=>{const h=f.current;h!==l&&console.warn(`${o} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,o])}const c=v.useCallback(f=>{var h;if(l){const p=PT(f)?f(n):f;p!==n&&((h=r.current)==null||h.call(r,p))}else s(f)},[l,n,s,r]);return[d,c]}function AT({defaultProp:n,onChange:e}){const[t,o]=v.useState(n),i=v.useRef(t),s=v.useRef(e);return xT(()=>{s.current=e},[e]),v.useEffect(()=>{var r;i.current!==t&&((r=s.current)==null||r.call(s,t),i.current=t)},[t,i]),[t,o,s]}function PT(n){return typeof n=="function"}var wT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],le=wT.reduce((n,e)=>{const t=hr(`Primitive.${e}`),o=v.forwardRef((i,s)=>{const{asChild:r,...l}=i,d=r?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(d,{...l,ref:s})});return o.displayName=`Primitive.${e}`,{...n,[e]:o}},{});function MT(n,e){n&&$l.flushSync(()=>n.dispatchEvent(e))}function ut(n){const e=v.useRef(n);return v.useEffect(()=>{e.current=n}),v.useMemo(()=>(...t)=>{var o;return(o=e.current)==null?void 0:o.call(e,...t)},[])}function _T(n,e=globalThis==null?void 0:globalThis.document){const t=ut(n);v.useEffect(()=>{const o=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",o,{capture:!0}),()=>e.removeEventListener("keydown",o,{capture:!0})},[t,e])}var IT="DismissableLayer",jn="dismissableLayer.update",RT="dismissableLayer.pointerDownOutside",DT="dismissableLayer.focusOutside",er,ll=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ul=v.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:r,onDismiss:l,...d}=n,c=v.useContext(ll),[f,h]=v.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),y=Ie(e,M=>h(M)),g=Array.from(c.layers),[T]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),E=g.indexOf(T),S=f?g.indexOf(f):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,A=S>=E,P=bT(M=>{const _=M.target,N=[...c.branches].some(D=>D.contains(_));!A||N||(i==null||i(M),r==null||r(M),M.defaultPrevented||l==null||l())},p),w=LT(M=>{const _=M.target;[...c.branches].some(D=>D.contains(_))||(s==null||s(M),r==null||r(M),M.defaultPrevented||l==null||l())},p);return _T(M=>{S===c.layers.size-1&&(o==null||o(M),!M.defaultPrevented&&l&&(M.preventDefault(),l()))},p),v.useEffect(()=>{if(f)return t&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(er=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),tr(),()=>{t&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=er)}},[f,p,t,c]),v.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),tr())},[f,c]),v.useEffect(()=>{const M=()=>m({});return document.addEventListener(jn,M),()=>document.removeEventListener(jn,M)},[]),C.jsx(le.div,{...d,ref:y,style:{pointerEvents:x?A?"auto":"none":void 0,...n.style},onFocusCapture:he(n.onFocusCapture,w.onFocusCapture),onBlurCapture:he(n.onBlurCapture,w.onBlurCapture),onPointerDownCapture:he(n.onPointerDownCapture,P.onPointerDownCapture)})});ul.displayName=IT;var NT="DismissableLayerBranch",VT=v.forwardRef((n,e)=>{const t=v.useContext(ll),o=v.useRef(null),i=Ie(e,o);return v.useEffect(()=>{const s=o.current;if(s)return t.branches.add(s),()=>{t.branches.delete(s)}},[t.branches]),C.jsx(le.div,{...n,ref:i})});VT.displayName=NT;function bT(n,e=globalThis==null?void 0:globalThis.document){const t=ut(n),o=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const s=l=>{if(l.target&&!o.current){let d=function(){cl(RT,t,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);o.current=!1},r=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(r),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>o.current=!0}}function LT(n,e=globalThis==null?void 0:globalThis.document){const t=ut(n),o=v.useRef(!1);return v.useEffect(()=>{const i=s=>{s.target&&!o.current&&cl(DT,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function tr(){const n=new CustomEvent(jn);document.dispatchEvent(n)}function cl(n,e,t,{discrete:o}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),o?MT(i,s):i.dispatchEvent(s)}var gn="focusScope.autoFocusOnMount",yn="focusScope.autoFocusOnUnmount",nr={bubbles:!1,cancelable:!0},FT="FocusScope",dl=v.forwardRef((n,e)=>{const{loop:t=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...r}=n,[l,d]=v.useState(null),c=ut(i),f=ut(s),h=v.useRef(null),p=Ie(e,g=>d(g)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(o){let g=function(x){if(m.paused||!l)return;const A=x.target;l.contains(A)?h.current=A:de(h.current,{select:!0})},T=function(x){if(m.paused||!l)return;const A=x.relatedTarget;A!==null&&(l.contains(A)||de(h.current,{select:!0}))},E=function(x){if(document.activeElement===document.body)for(const P of x)P.removedNodes.length>0&&de(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",T);const S=new MutationObserver(E);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",T),S.disconnect()}}},[o,l,m.paused]),v.useEffect(()=>{if(l){ir.add(m);const g=document.activeElement;if(!l.contains(g)){const E=new CustomEvent(gn,nr);l.addEventListener(gn,c),l.dispatchEvent(E),E.defaultPrevented||(kT(qT(fl(l)),{select:!0}),document.activeElement===g&&de(l))}return()=>{l.removeEventListener(gn,c),setTimeout(()=>{const E=new CustomEvent(yn,nr);l.addEventListener(yn,f),l.dispatchEvent(E),E.defaultPrevented||de(g??document.body,{select:!0}),l.removeEventListener(yn,f),ir.remove(m)},0)}}},[l,c,f,m]);const y=v.useCallback(g=>{if(!t&&!o||m.paused)return;const T=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,E=document.activeElement;if(T&&E){const S=g.currentTarget,[x,A]=UT(S);x&&A?!g.shiftKey&&E===A?(g.preventDefault(),t&&de(x,{select:!0})):g.shiftKey&&E===x&&(g.preventDefault(),t&&de(A,{select:!0})):E===S&&g.preventDefault()}},[t,o,m.paused]);return C.jsx(le.div,{tabIndex:-1,...r,ref:p,onKeyDown:y})});dl.displayName=FT;function kT(n,{select:e=!1}={}){const t=document.activeElement;for(const o of n)if(de(o,{select:e}),document.activeElement!==t)return}function UT(n){const e=fl(n),t=or(e,n),o=or(e.reverse(),n);return[t,o]}function fl(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function or(n,e){for(const t of n)if(!BT(t,{upTo:e}))return t}function BT(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function GT(n){return n instanceof HTMLInputElement&&"select"in n}function de(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&GT(n)&&e&&n.select()}}var ir=OT();function OT(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=sr(n,e),n.unshift(e)},remove(e){var t;n=sr(n,e),(t=n[0])==null||t.resume()}}}function sr(n,e){const t=[...n],o=t.indexOf(e);return o!==-1&&t.splice(o,1),t}function qT(n){return n.filter(e=>e.tagName!=="A")}var HT="Portal",hl=v.forwardRef((n,e)=>{var l;const{container:t,...o}=n,[i,s]=v.useState(!1);lt(()=>s(!0),[]);const r=t||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return r?Kl.createPortal(C.jsx(le.div,{...o,ref:e}),r):null});hl.displayName=HT;function WT(n,e){return v.useReducer((t,o)=>e[t][o]??t,n)}var Xt=n=>{const{present:e,children:t}=n,o=$T(e),i=typeof t=="function"?t({present:o.isPresent}):v.Children.only(t),s=Ie(o.ref,KT(i));return typeof t=="function"||o.isPresent?v.cloneElement(i,{ref:s}):null};Xt.displayName="Presence";function $T(n){const[e,t]=v.useState(),o=v.useRef(null),i=v.useRef(n),s=v.useRef("none"),r=n?"mounted":"unmounted",[l,d]=WT(r,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const c=Et(o.current);s.current=l==="mounted"?c:"none"},[l]),lt(()=>{const c=o.current,f=i.current;if(f!==n){const p=s.current,m=Et(c);n?d("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?d("UNMOUNT"):d(f&&p!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,d]),lt(()=>{if(e){let c;const f=e.ownerDocument.defaultView??window,h=m=>{const g=Et(o.current).includes(m.animationName);if(m.target===e&&g&&(d("ANIMATION_END"),!i.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",c=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},p=m=>{m.target===e&&(s.current=Et(o.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(c=>{o.current=c?getComputedStyle(c):null,t(c)},[])}}function Et(n){return(n==null?void 0:n.animationName)||"none"}function KT(n){var o,i;let e=(o=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(i=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var vn=0;function YT(){v.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??rr()),document.body.insertAdjacentElement("beforeend",n[1]??rr()),vn++,()=>{vn===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),vn--}},[])}function rr(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Nt="right-scroll-bar-position",Vt="width-before-scroll-bar",JT="with-scroll-bars-hidden",zT="--removed-body-scroll-bar-size";function Tn(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function XT(n,e){var t=v.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(o){var i=t.value;i!==o&&(t.value=o,t.callback(o,i))}}}})[0];return t.callback=e,t.facade}var ZT=typeof window<"u"?v.useLayoutEffect:v.useEffect,ar=new WeakMap;function QT(n,e){var t=XT(null,function(o){return n.forEach(function(i){return Tn(i,o)})});return ZT(function(){var o=ar.get(t);if(o){var i=new Set(o),s=new Set(n),r=t.current;i.forEach(function(l){s.has(l)||Tn(l,null)}),s.forEach(function(l){i.has(l)||Tn(l,r)})}ar.set(t,n)},[n]),t}function jT(n){return n}function eC(n,e){e===void 0&&(e=jT);var t=[],o=!1,i={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(s){var r=e(s,o);return t.push(r),function(){t=t.filter(function(l){return l!==r})}},assignSyncMedium:function(s){for(o=!0;t.length;){var r=t;t=[],r.forEach(s)}t={push:function(l){return s(l)},filter:function(){return t}}},assignMedium:function(s){o=!0;var r=[];if(t.length){var l=t;t=[],l.forEach(s),r=t}var d=function(){var f=r;r=[],f.forEach(s)},c=function(){return Promise.resolve().then(d)};c(),t={push:function(f){r.push(f),c()},filter:function(f){return r=r.filter(f),t}}}};return i}function tC(n){n===void 0&&(n={});var e=eC(null);return e.options=fe({async:!0,ssr:!1},n),e}var pl=function(n){var e=n.sideCar,t=pr(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=e.read();if(!o)throw new Error("Sidecar medium not found");return v.createElement(o,fe({},t))};pl.isSideCarExport=!0;function nC(n,e){return n.useMedium(e),pl}var ml=tC(),Cn=function(){},Zt=v.forwardRef(function(n,e){var t=v.useRef(null),o=v.useState({onScrollCapture:Cn,onWheelCapture:Cn,onTouchMoveCapture:Cn}),i=o[0],s=o[1],r=n.forwardProps,l=n.children,d=n.className,c=n.removeScrollBar,f=n.enabled,h=n.shards,p=n.sideCar,m=n.noIsolation,y=n.inert,g=n.allowPinchZoom,T=n.as,E=T===void 0?"div":T,S=n.gapMode,x=pr(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=p,P=QT([t,e]),w=fe(fe({},x),i);return v.createElement(v.Fragment,null,f&&v.createElement(A,{sideCar:ml,removeScrollBar:c,shards:h,noIsolation:m,inert:y,setCallbacks:s,allowPinchZoom:!!g,lockRef:t,gapMode:S}),r?v.cloneElement(v.Children.only(l),fe(fe({},w),{ref:P})):v.createElement(E,fe({},w,{className:d,ref:P}),l))});Zt.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zt.classNames={fullWidth:Vt,zeroRight:Nt};var oC=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iC(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=oC();return e&&n.setAttribute("nonce",e),n}function sC(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function rC(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var aC=function(){var n=0,e=null;return{add:function(t){n==0&&(e=iC())&&(sC(e,t),rC(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},lC=function(){var n=aC();return function(e,t){v.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},gl=function(){var n=lC(),e=function(t){var o=t.styles,i=t.dynamic;return n(o,i),null};return e},uC={left:0,top:0,right:0,gap:0},En=function(n){return parseInt(n||"",10)||0},cC=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],o=e[n==="padding"?"paddingTop":"marginTop"],i=e[n==="padding"?"paddingRight":"marginRight"];return[En(t),En(o),En(i)]},dC=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return uC;var e=cC(n),t=document.documentElement.clientWidth,o=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,o-t+e[2]-e[0])}},fC=gl(),Be="data-scroll-locked",hC=function(n,e,t,o){var i=n.left,s=n.top,r=n.right,l=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(JT,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(l,"px ").concat(o,`;
  }
  body[`).concat(Be,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(o,";"),t==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(r,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(o,`;
    `),t==="padding"&&"padding-right: ".concat(l,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nt,` {
    right: `).concat(l,"px ").concat(o,`;
  }
  
  .`).concat(Vt,` {
    margin-right: `).concat(l,"px ").concat(o,`;
  }
  
  .`).concat(Nt," .").concat(Nt,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Vt," .").concat(Vt,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Be,`] {
    `).concat(zT,": ").concat(l,`px;
  }
`)},lr=function(){var n=parseInt(document.body.getAttribute(Be)||"0",10);return isFinite(n)?n:0},pC=function(){v.useEffect(function(){return document.body.setAttribute(Be,(lr()+1).toString()),function(){var n=lr()-1;n<=0?document.body.removeAttribute(Be):document.body.setAttribute(Be,n.toString())}},[])},mC=function(n){var e=n.noRelative,t=n.noImportant,o=n.gapMode,i=o===void 0?"margin":o;pC();var s=v.useMemo(function(){return dC(i)},[i]);return v.createElement(fC,{styles:hC(s,!e,i,t?"":"!important")})},eo=!1;if(typeof window<"u")try{var xt=Object.defineProperty({},"passive",{get:function(){return eo=!0,!0}});window.addEventListener("test",xt,xt),window.removeEventListener("test",xt,xt)}catch{eo=!1}var De=eo?{passive:!1}:!1,gC=function(n){return n.tagName==="TEXTAREA"},yl=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!gC(n)&&t[e]==="visible")},yC=function(n){return yl(n,"overflowY")},vC=function(n){return yl(n,"overflowX")},ur=function(n,e){var t=e.ownerDocument,o=e;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var i=vl(n,o);if(i){var s=Tl(n,o),r=s[1],l=s[2];if(r>l)return!0}o=o.parentNode}while(o&&o!==t.body);return!1},TC=function(n){var e=n.scrollTop,t=n.scrollHeight,o=n.clientHeight;return[e,t,o]},CC=function(n){var e=n.scrollLeft,t=n.scrollWidth,o=n.clientWidth;return[e,t,o]},vl=function(n,e){return n==="v"?yC(e):vC(e)},Tl=function(n,e){return n==="v"?TC(e):CC(e)},EC=function(n,e){return n==="h"&&e==="rtl"?-1:1},xC=function(n,e,t,o,i){var s=EC(n,window.getComputedStyle(e).direction),r=s*o,l=t.target,d=e.contains(l),c=!1,f=r>0,h=0,p=0;do{var m=Tl(n,l),y=m[0],g=m[1],T=m[2],E=g-T-s*y;(y||E)&&vl(n,l)&&(h+=E,p+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!d&&l!==document.body||d&&(e.contains(l)||e===l));return(f&&Math.abs(h)<1||!f&&Math.abs(p)<1)&&(c=!0),c},St=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},cr=function(n){return[n.deltaX,n.deltaY]},dr=function(n){return n&&"current"in n?n.current:n},SC=function(n,e){return n[0]===e[0]&&n[1]===e[1]},AC=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},PC=0,Ne=[];function wC(n){var e=v.useRef([]),t=v.useRef([0,0]),o=v.useRef(),i=v.useState(PC++)[0],s=v.useState(gl)[0],r=v.useRef(n);v.useEffect(function(){r.current=n},[n]),v.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(i));var g=Yl([n.lockRef.current],(n.shards||[]).map(dr),!0).filter(Boolean);return g.forEach(function(T){return T.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(i))})}}},[n.inert,n.lockRef.current,n.shards]);var l=v.useCallback(function(g,T){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!r.current.allowPinchZoom;var E=St(g),S=t.current,x="deltaX"in g?g.deltaX:S[0]-E[0],A="deltaY"in g?g.deltaY:S[1]-E[1],P,w=g.target,M=Math.abs(x)>Math.abs(A)?"h":"v";if("touches"in g&&M==="h"&&w.type==="range")return!1;var _=ur(M,w);if(!_)return!0;if(_?P=M:(P=M==="v"?"h":"v",_=ur(M,w)),!_)return!1;if(!o.current&&"changedTouches"in g&&(x||A)&&(o.current=P),!P)return!0;var N=o.current||P;return xC(N,T,g,N==="h"?x:A)},[]),d=v.useCallback(function(g){var T=g;if(!(!Ne.length||Ne[Ne.length-1]!==s)){var E="deltaY"in T?cr(T):St(T),S=e.current.filter(function(P){return P.name===T.type&&(P.target===T.target||T.target===P.shadowParent)&&SC(P.delta,E)})[0];if(S&&S.should){T.cancelable&&T.preventDefault();return}if(!S){var x=(r.current.shards||[]).map(dr).filter(Boolean).filter(function(P){return P.contains(T.target)}),A=x.length>0?l(T,x[0]):!r.current.noIsolation;A&&T.cancelable&&T.preventDefault()}}},[]),c=v.useCallback(function(g,T,E,S){var x={name:g,delta:T,target:E,should:S,shadowParent:MC(E)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(A){return A!==x})},1)},[]),f=v.useCallback(function(g){t.current=St(g),o.current=void 0},[]),h=v.useCallback(function(g){c(g.type,cr(g),g.target,l(g,n.lockRef.current))},[]),p=v.useCallback(function(g){c(g.type,St(g),g.target,l(g,n.lockRef.current))},[]);v.useEffect(function(){return Ne.push(s),n.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",d,De),document.addEventListener("touchmove",d,De),document.addEventListener("touchstart",f,De),function(){Ne=Ne.filter(function(g){return g!==s}),document.removeEventListener("wheel",d,De),document.removeEventListener("touchmove",d,De),document.removeEventListener("touchstart",f,De)}},[]);var m=n.removeScrollBar,y=n.inert;return v.createElement(v.Fragment,null,y?v.createElement(s,{styles:AC(i)}):null,m?v.createElement(mC,{gapMode:n.gapMode}):null)}function MC(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const _C=nC(ml,wC);var Cl=v.forwardRef(function(n,e){return v.createElement(Zt,fe({},n,{ref:e,sideCar:_C}))});Cl.classNames=Zt.classNames;var IC=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Ve=new WeakMap,At=new WeakMap,Pt={},xn=0,El=function(n){return n&&(n.host||El(n.parentNode))},RC=function(n,e){return e.map(function(t){if(n.contains(t))return t;var o=El(t);return o&&n.contains(o)?o:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},DC=function(n,e,t,o){var i=RC(e,Array.isArray(n)?n:[n]);Pt[t]||(Pt[t]=new WeakMap);var s=Pt[t],r=[],l=new Set,d=new Set(i),c=function(h){!h||l.has(h)||(l.add(h),c(h.parentNode))};i.forEach(c);var f=function(h){!h||d.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))f(p);else try{var m=p.getAttribute(o),y=m!==null&&m!=="false",g=(Ve.get(p)||0)+1,T=(s.get(p)||0)+1;Ve.set(p,g),s.set(p,T),r.push(p),g===1&&y&&At.set(p,!0),T===1&&p.setAttribute(t,"true"),y||p.setAttribute(o,"true")}catch(E){console.error("aria-hidden: cannot operate on ",p,E)}})};return f(e),l.clear(),xn++,function(){r.forEach(function(h){var p=Ve.get(h)-1,m=s.get(h)-1;Ve.set(h,p),s.set(h,m),p||(At.has(h)||h.removeAttribute(o),At.delete(h)),m||h.removeAttribute(t)}),xn--,xn||(Ve=new WeakMap,Ve=new WeakMap,At=new WeakMap,Pt={})}},NC=function(n,e,t){t===void 0&&(t="data-aria-hidden");var o=Array.from(Array.isArray(n)?n:[n]),i=IC(n);return i?(o.push.apply(o,Array.from(i.querySelectorAll("[aria-live]"))),DC(o,i,t,"aria-hidden")):function(){return null}},Qt="Dialog",[xl,i0]=vT(Qt),[VC,te]=xl(Qt),Sl=n=>{const{__scopeDialog:e,children:t,open:o,defaultOpen:i,onOpenChange:s,modal:r=!0}=n,l=v.useRef(null),d=v.useRef(null),[c,f]=ST({prop:o,defaultProp:i??!1,onChange:s,caller:Qt});return C.jsx(VC,{scope:e,triggerRef:l,contentRef:d,contentId:mn(),titleId:mn(),descriptionId:mn(),open:c,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(h=>!h),[f]),modal:r,children:t})};Sl.displayName=Qt;var Al="DialogTrigger",Pl=v.forwardRef((n,e)=>{const{__scopeDialog:t,...o}=n,i=te(Al,t),s=Ie(e,i.triggerRef);return C.jsx(le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Fo(i.open),...o,ref:s,onClick:he(n.onClick,i.onOpenToggle)})});Pl.displayName=Al;var bo="DialogPortal",[bC,wl]=xl(bo,{forceMount:void 0}),Ml=n=>{const{__scopeDialog:e,forceMount:t,children:o,container:i}=n,s=te(bo,e);return C.jsx(bC,{scope:e,forceMount:t,children:v.Children.map(o,r=>C.jsx(Xt,{present:t||s.open,children:C.jsx(hl,{asChild:!0,container:i,children:r})}))})};Ml.displayName=bo;var qt="DialogOverlay",_l=v.forwardRef((n,e)=>{const t=wl(qt,n.__scopeDialog),{forceMount:o=t.forceMount,...i}=n,s=te(qt,n.__scopeDialog);return s.modal?C.jsx(Xt,{present:o||s.open,children:C.jsx(FC,{...i,ref:e})}):null});_l.displayName=qt;var LC=hr("DialogOverlay.RemoveScroll"),FC=v.forwardRef((n,e)=>{const{__scopeDialog:t,...o}=n,i=te(qt,t);return C.jsx(Cl,{as:LC,allowPinchZoom:!0,shards:[i.contentRef],children:C.jsx(le.div,{"data-state":Fo(i.open),...o,ref:e,style:{pointerEvents:"auto",...o.style}})})}),Me="DialogContent",Il=v.forwardRef((n,e)=>{const t=wl(Me,n.__scopeDialog),{forceMount:o=t.forceMount,...i}=n,s=te(Me,n.__scopeDialog);return C.jsx(Xt,{present:o||s.open,children:s.modal?C.jsx(kC,{...i,ref:e}):C.jsx(UC,{...i,ref:e})})});Il.displayName=Me;var kC=v.forwardRef((n,e)=>{const t=te(Me,n.__scopeDialog),o=v.useRef(null),i=Ie(e,t.contentRef,o);return v.useEffect(()=>{const s=o.current;if(s)return NC(s)},[]),C.jsx(Rl,{...n,ref:i,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(n.onCloseAutoFocus,s=>{var r;s.preventDefault(),(r=t.triggerRef.current)==null||r.focus()}),onPointerDownOutside:he(n.onPointerDownOutside,s=>{const r=s.detail.originalEvent,l=r.button===0&&r.ctrlKey===!0;(r.button===2||l)&&s.preventDefault()}),onFocusOutside:he(n.onFocusOutside,s=>s.preventDefault())})}),UC=v.forwardRef((n,e)=>{const t=te(Me,n.__scopeDialog),o=v.useRef(!1),i=v.useRef(!1);return C.jsx(Rl,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var r,l;(r=n.onCloseAutoFocus)==null||r.call(n,s),s.defaultPrevented||(o.current||(l=t.triggerRef.current)==null||l.focus(),s.preventDefault()),o.current=!1,i.current=!1},onInteractOutside:s=>{var d,c;(d=n.onInteractOutside)==null||d.call(n,s),s.defaultPrevented||(o.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const r=s.target;((c=t.triggerRef.current)==null?void 0:c.contains(r))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Rl=v.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:s,...r}=n,l=te(Me,t),d=v.useRef(null),c=Ie(e,d);return YT(),C.jsxs(C.Fragment,{children:[C.jsx(dl,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:s,children:C.jsx(ul,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Fo(l.open),...r,ref:c,onDismiss:()=>l.onOpenChange(!1)})}),C.jsxs(C.Fragment,{children:[C.jsx(BC,{titleId:l.titleId}),C.jsx(OC,{contentRef:d,descriptionId:l.descriptionId})]})]})}),Lo="DialogTitle",Dl=v.forwardRef((n,e)=>{const{__scopeDialog:t,...o}=n,i=te(Lo,t);return C.jsx(le.h2,{id:i.titleId,...o,ref:e})});Dl.displayName=Lo;var Nl="DialogDescription",Vl=v.forwardRef((n,e)=>{const{__scopeDialog:t,...o}=n,i=te(Nl,t);return C.jsx(le.p,{id:i.descriptionId,...o,ref:e})});Vl.displayName=Nl;var bl="DialogClose",Ll=v.forwardRef((n,e)=>{const{__scopeDialog:t,...o}=n,i=te(bl,t);return C.jsx(le.button,{type:"button",...o,ref:e,onClick:he(n.onClick,()=>i.onOpenChange(!1))})});Ll.displayName=bl;function Fo(n){return n?"open":"closed"}var Fl="DialogTitleWarning",[s0,kl]=yT(Fl,{contentName:Me,titleName:Lo,docsSlug:"dialog"}),BC=({titleId:n})=>{const e=kl(Fl),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},GC="DialogDescriptionWarning",OC=({contentRef:n,descriptionId:e})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kl(GC).contentName}}.`;return v.useEffect(()=>{var s;const i=(s=n.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(o))},[o,n,e]),null},qC=Sl,HC=Pl,WC=Ml,$C=_l,KC=Il,YC=Dl,JC=Vl,Ul=Ll;const Bl=v.forwardRef((n,e)=>C.jsx(qC,{"data-slot":"dialog",...n,ref:e}));Bl.displayName="Dialog";const zC=v.forwardRef((n,e)=>C.jsx(HC,{"data-slot":"dialog-trigger",...n,ref:e}));zC.displayName="DialogTrigger";const Gl=v.forwardRef((n,e)=>C.jsx(WC,{"data-slot":"dialog-portal",...n,ref:e}));Gl.displayName="DialogPortal";const XC=v.forwardRef((n,e)=>C.jsx(Ul,{"data-slot":"dialog-close",...n,ref:e}));XC.displayName="DialogClose";const Ol=v.forwardRef(({className:n,...e},t)=>C.jsx($C,{ref:t,"data-slot":"dialog-overlay",className:_e("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e}));Ol.displayName="DialogOverlay";const ql=v.forwardRef(({className:n,children:e,...t},o)=>C.jsxs(Gl,{children:[C.jsx(Ol,{}),C.jsxs(KC,{ref:o,"data-slot":"dialog-content",className:_e("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,C.jsxs(Ul,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[C.jsx(Jl,{}),C.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ql.displayName="DialogContent";const Hl=v.forwardRef(({className:n,...e},t)=>C.jsx("div",{ref:t,"data-slot":"dialog-header",className:_e("flex flex-col gap-2 text-center sm:text-left",n),...e}));Hl.displayName="DialogHeader";const ZC=v.forwardRef(({className:n,...e},t)=>C.jsx("div",{ref:t,"data-slot":"dialog-footer",className:_e("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...e}));ZC.displayName="DialogFooter";const Wl=v.forwardRef(({className:n,...e},t)=>C.jsx(YC,{ref:t,"data-slot":"dialog-title",className:_e("text-lg leading-none font-semibold",n),...e}));Wl.displayName="DialogTitle";const QC=v.forwardRef(({className:n,...e},t)=>C.jsx(JC,{ref:t,"data-slot":"dialog-description",className:_e("text-muted-foreground text-sm",n),...e}));QC.displayName="DialogDescription";function jC(n){return He({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}function e0({onLoginSuccess:n,dispatch:e}){const[t,o]=v.useState(!1),i=zl({onSuccess:async s=>{o(!0),B.info("Signing in...");try{const r=await Sn();if(!r.success){B.error(`Connection error: ${r.message}`),console.error("Connection test failed:",r);return}console.log("Connection test successful, proceeding with Google login"),await Xl(s,e,(l,d)=>{B.success("Signed in successfully!"),console.log("Authentication successful, user logged in"),typeof n=="function"&&n(l,d)},l=>{B.error(l||"Authentication failed. Please try again.")})}catch(r){console.error("Unexpected error during login process:",r),B.error("An unexpected error occurred. Please try again later.")}finally{o(!1)}},onError:s=>{console.error("Google login error:",s),B.error("Failed to sign in with Google. Please try again."),o(!1)}});return C.jsxs(ue,{onClick:i,disabled:t,className:"w-full bg-white border border-gray-300 text-gray-800 hover:bg-gray-50 transition flex items-center justify-center gap-3 py-6 rounded-xl shadow-sm",children:[C.jsx(jC,{className:"h-6 w-6"}),C.jsx("span",{className:"text-base font-medium",children:t?"Signing in...":"Continue with Google"})]})}function r0(){const n={days:"noOfDays",place:"location",budget:"budget",travellers:"noOfTravellers"},[e,t]=v.useState(""),[o,i]=v.useState([]),[s,r]=v.useState(!1),[l,d]=v.useState(!1),[c,f]=v.useState(1),[h,p]=v.useState({}),m=Zl(),{user:y,token:g,dispatch:T}=v.useContext(Ql);v.useEffect(()=>{const w={};o[n.place]&&(w[1]=!0),o[n.days]&&(w[2]=!0),o[n.budget]&&(w[3]=!0),o[n.travellers]&&(w[4]=!0),p(w)},[o,n.place,n.days,n.budget,n.travellers]);const E=w=>{const M=w.target.value;/^\d*$/.test(M)&&(t(M),S(`${n.days}`,M))},S=(w,M)=>{i({...o,[w]:M})},x=async()=>{const w=g||localStorage.getItem("token"),M=y||JSON.parse(localStorage.getItem("user")||"null");if(console.log("Authentication check:",{contextToken:!!g,localStorageToken:!!localStorage.getItem("token"),contextUser:!!y,localStorageUser:!!M}),!M||!w){console.log("User authentication required"),r(!0),B.info("Please login first");return}switch(!0){case!o[n.days]:B.info("Please enter number of days"),f(2);return;case o[n.days]>15:B.info("Days should be less than 15."),f(2);return;case!o[n.place]:B.info("Please enter destination"),f(1);return;case!o[n.budget]:B.info("Please select your budget"),f(3);return;case!o[n.travellers]:B.info("Please select who you are traveling with"),f(4);return}d(!0);const _=g||localStorage.getItem("token"),N=y||JSON.parse(localStorage.getItem("user")||"null");if(!_){console.error("Authentication token missing when trying to generate trip"),B.error("Authentication token is missing. Please login again."),r(!0),d(!1);return}if(!N){console.error("User data missing when trying to generate trip"),B.error("User information is missing. Please login again."),r(!0),d(!1);return}const D=await Sn();if(!D.success){console.error("Backend connection failed before trip generation:",D),B.error(`Cannot connect to server: ${D.message}`),d(!1);return}const V=tu({location:o[n.place],days:o[n.days],groupType:o[n.travellers],budgetLevel:o[n.budget]});try{const X=await Ip(V);if(X)A(X);else throw new Error("Failed to generate trip data")}catch(X){console.error("Error generating trip:",X),B.error("Failed to generate trip. Please try again."),d(!1)}},A=async w=>{try{const M=g||localStorage.getItem("token");if(!M)throw new Error("Authentication token not found. Please login again.");console.log("Saving trip to backend...");let _;if(typeof w=="string")try{const Y=w.trim();console.log("Trip data type:",typeof Y),console.log("Trip data preview:",Y.substring(0,100)+"..."),_=JSON.parse(Y)}catch(Y){throw console.error("Error parsing trip data:",Y),console.error("Trip data causing error:",w.substring(0,200)+"..."),new Error("Invalid trip data format. Please try again.")}else _=w;const N={location:o[n.place],noOfDays:parseInt(o[n.days]),budget:o[n.budget],noOfTravellers:o[n.travellers],tripData:_};console.log("Trip payload prepared:",{location:N.location,days:N.noOfDays,hasValidTripData:!!_});const D=await Sn();if(!D.success)throw console.error("Backend connection failed before saving trip:",D),new Error(`Cannot connect to server: ${D.message}`);console.log("Sending trip data to server at:",`${ko}/trips`);const V=await fetch(`${ko}/trips`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify(N)});if(!V.ok){const Y=await V.text();console.error("Error response from server:",{status:V.status,statusText:V.statusText,body:Y});let O;try{O=JSON.parse(Y).message||`Server error: ${V.status}`}catch{O=`Server error: ${V.status}: ${Y.substring(0,100)}`}throw new Error(O)}const X=await V.json();console.log("Trip saved successfully:",X),B.success("Trip created successfully!"),m(`/view-trip/${X.data._id}`)}catch(M){console.error("Error saving trip:",M),B.error(M.message||"Failed to save trip. Please try again."),(M.message.toLowerCase().includes("authentication")||M.message.toLowerCase().includes("token")||M.message.toLowerCase().includes("unauthorized"))&&r(!0)}finally{d(!1)}},P={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.5}}};return C.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 min-h-screen pb-20",children:[C.jsxs("div",{className:"container max-w-4xl mx-auto px-4 sm:px-6 pt-10",children:[C.jsxs(Ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-12",children:[C.jsx("h1",{className:"font-bold text-4xl bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-purple-600",children:"Plan Your Dream Adventure âœ¨"}),C.jsx("p",{className:"mt-4 text-gray-600 max-w-2xl mx-auto text-lg",children:"Tell us your preferences and our AI will craft the perfect itinerary tailored just for you"})]}),C.jsxs("div",{className:"flex justify-between items-center mb-10 px-6 relative",children:[C.jsx("div",{className:"absolute top-5 left-0 right-0 h-1 bg-gray-200",style:{zIndex:0}}),C.jsx("div",{className:"absolute top-5 left-0 h-1 bg-gradient-to-r from-indigo-600 to-purple-600 transition-all duration-500",style:{width:`${(c-1)*33.33}%`,zIndex:1}}),[1,2,3,4].map(w=>C.jsxs("div",{className:"flex flex-col items-center relative z-10",children:[C.jsx(Ee.div,{whileHover:{scale:1.05},onClick:()=>f(w),className:`w-10 h-10 rounded-full flex items-center justify-center cursor-pointer transition-all duration-300 ${h[w]?"bg-green-500 text-white shadow-md shadow-green-200":c===w?"bg-indigo-600 text-white shadow-md shadow-indigo-200":"bg-gray-200 text-gray-600"}`,children:h[w]?C.jsx(Ee.span,{initial:{scale:0},animate:{scale:1},transition:{duration:.3},children:"âœ“"}):w}),C.jsx("div",{className:`text-xs mt-2 font-medium ${c===w?"text-indigo-600":"text-gray-500"}`,children:w===1?"Destination":w===2?"Duration":w===3?"Budget":"Travelers"})]},w))]}),C.jsxs(Ee.div,{initial:"hidden",animate:"visible",variants:P,className:"bg-white rounded-xl shadow-xl p-8",children:[c===1&&C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex items-center gap-2 text-2xl font-bold text-indigo-700 mb-6",children:[C.jsx(Vp,{})," ",C.jsx("span",{children:"Where to?"})]}),"              ",C.jsx("label",{className:"text-lg font-medium text-gray-700 block mb-2",children:"What's your dream destination?"}),C.jsx(Uo,{placeholder:"e.g. Paris, Bali, Tokyo",onChange:w=>S(`${n.place}`,w.target.value),value:o[n.place]||"",className:"text-lg p-6 border-gray-300 focus:ring-indigo-500 focus:border-indigo-500"}),C.jsxs("div",{className:"mt-10 flex justify-between",children:[C.jsx("div",{}),C.jsx(ue,{onClick:()=>f(2),disabled:!o[n.place],className:"px-8 py-6 bg-indigo-600 hover:bg-indigo-700 text-white text-lg rounded-lg transition-all",children:"Continue"})]})]}),c===2&&C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex items-center gap-2 text-2xl font-bold text-indigo-700 mb-6",children:[C.jsx(Dp,{})," ",C.jsx("span",{children:"How long?"})]}),C.jsx("label",{className:"text-lg font-medium text-gray-700 block mb-2",children:"How many days would you like to explore?"}),C.jsx(Uo,{placeholder:"e.g. 5",onChange:E,value:e,type:"text",className:"text-lg p-6 border-gray-300 focus:ring-indigo-500 focus:border-indigo-500"}),C.jsx("p",{className:"text-sm text-gray-500",children:"Maximum 15 days recommended for best results"}),C.jsxs("div",{className:"mt-10 flex justify-between",children:[C.jsx(ue,{variant:"outline",onClick:()=>f(1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg",children:"Back"}),C.jsx(ue,{onClick:()=>f(3),disabled:!o[n.days],className:"px-8 py-6 bg-indigo-600 hover:bg-indigo-700 text-white text-lg rounded-lg transition-all",children:"Continue"})]})]}),c===3&&C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex items-center gap-2 text-2xl font-bold text-indigo-700 mb-6",children:[C.jsx(Np,{})," ",C.jsx("span",{children:"What's your budget?"})]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:eu.map((w,M)=>C.jsxs(Ee.div,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:()=>S(`${n.budget}`,w.title),className:`flex flex-col p-6 border rounded-xl cursor-pointer transition-all duration-300
                    ${w.title===o[n.budget]?"bg-indigo-50 border-indigo-500 shadow-md":"hover:border-indigo-300 hover:bg-gray-50"}`,children:[C.jsx("div",{className:"text-4xl mb-3",children:w.icon}),C.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-1",children:w.title}),C.jsx("p",{className:"text-sm text-gray-500",children:w.desc})]},M))}),C.jsxs("div",{className:"mt-10 flex justify-between",children:[C.jsx(ue,{variant:"outline",onClick:()=>f(2),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg",children:"Back"}),C.jsx(ue,{onClick:()=>f(4),disabled:!o[n.budget],className:"px-8 py-6 bg-indigo-600 hover:bg-indigo-700 text-white text-lg rounded-lg transition-all",children:"Continue"})]})]}),c===4&&C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex items-center gap-2 text-2xl font-bold text-indigo-700 mb-6",children:[C.jsx(bp,{})," ",C.jsx("span",{children:"Who's joining?"})]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:jl.map((w,M)=>C.jsxs(Ee.div,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:()=>S(`${n.travellers}`,w.people),className:`flex flex-col p-6 border rounded-xl cursor-pointer transition-all duration-300
                    ${w.people===o[n.travellers]?"bg-indigo-50 border-indigo-500 shadow-md":"hover:border-indigo-300 hover:bg-gray-50"}`,children:[C.jsx("div",{className:"text-4xl mb-3",children:w.icon}),C.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-1",children:w.title}),C.jsx("p",{className:"text-sm text-gray-500",children:w.desc})]},M))}),C.jsxs("div",{className:"mt-10 flex justify-between",children:[C.jsx(ue,{variant:"outline",onClick:()=>f(3),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg",children:"Back"}),C.jsx(ue,{onClick:x,disabled:l||!o[n.travellers],className:"px-8 py-6 bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-lg rounded-lg transition-all hover:opacity-90 disabled:opacity-70",children:l?C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(Rp,{className:"animate-spin h-5 w-5"}),C.jsx("span",{children:"Creating Your Trip..."})]}):"Create My Perfect Trip"})]})]})]},c),Object.keys(h).length>0&&C.jsxs(Ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-8 p-6 bg-white rounded-xl shadow-md border border-indigo-100 hover:shadow-lg transition-shadow duration-300",children:[C.jsxs("h3",{className:"font-bold text-lg text-gray-800 mb-4 flex items-center",children:[C.jsx("span",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 w-6 h-6 rounded-full mr-2 flex items-center justify-center text-white text-xs",children:"âœ“"}),"Your Trip Summary"]}),C.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o[n.place]&&C.jsxs("div",{className:"p-3 bg-indigo-50 rounded-lg",children:[C.jsx("p",{className:"text-xs text-indigo-600 font-semibold uppercase",children:"Destination"}),C.jsx("p",{className:"font-medium text-gray-800",children:o[n.place]})]}),o[n.days]&&C.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[C.jsx("p",{className:"text-xs text-purple-600 font-semibold uppercase",children:"Duration"}),C.jsxs("p",{className:"font-medium text-gray-800",children:[o[n.days]," days"]})]}),o[n.budget]&&C.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[C.jsx("p",{className:"text-xs text-blue-600 font-semibold uppercase",children:"Budget"}),C.jsx("p",{className:"font-medium text-gray-800",children:o[n.budget]})]}),o[n.travellers]&&C.jsxs("div",{className:"p-3 bg-teal-50 rounded-lg",children:[C.jsx("p",{className:"text-xs text-teal-600 font-semibold uppercase",children:"Travelers"}),C.jsx("p",{className:"font-medium text-gray-800",children:o[n.travellers]})]})]})]})]}),C.jsx(Bl,{open:s,onOpenChange:r,children:C.jsxs(ql,{className:"max-w-sm rounded-xl p-0 bg-white overflow-hidden",children:[C.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 h-2"}),C.jsxs(Hl,{className:"text-center p-6 pb-2",children:[C.jsx(Wl,{className:"text-2xl font-bold mb-2 text-indigo-700",children:"Let's Get Started"}),"            ",C.jsxs("div",{className:"flex flex-col items-center space-y-4 text-muted-foreground text-sm",children:[C.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-100 flex items-center justify-center mb-2",children:C.jsx("img",{src:"/logo3.png",alt:"App Logo",className:"h-14 w-14"})}),C.jsx("div",{className:"text-gray-600",children:"Sign in to create and save your personalized trip itinerary"}),C.jsx(e0,{onLoginSuccess:()=>{r(!1),setTimeout(()=>{x()},500)},dispatch:T}),C.jsx("div",{className:"text-sm text-gray-500 pt-2",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})]})]})})]})}export{r0 as default};
